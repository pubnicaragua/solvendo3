function Xf(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const a=Object.getOwnPropertyDescriptor(n,s);a&&Object.defineProperty(e,s,a.get?a:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function r(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(s){if(s.ep)return;s.ep=!0;const a=r(s);fetch(s.href,a)}})();var et=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function e0(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function t0(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}),r}var Au={exports:{}},Mi={},Mu={exports:{}},z={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hs=Symbol.for("react.element"),r0=Symbol.for("react.portal"),n0=Symbol.for("react.fragment"),s0=Symbol.for("react.strict_mode"),i0=Symbol.for("react.profiler"),a0=Symbol.for("react.provider"),l0=Symbol.for("react.context"),o0=Symbol.for("react.forward_ref"),c0=Symbol.for("react.suspense"),u0=Symbol.for("react.memo"),d0=Symbol.for("react.lazy"),rc=Symbol.iterator;function h0(e){return e===null||typeof e!="object"?null:(e=rc&&e[rc]||e["@@iterator"],typeof e=="function"?e:null)}var Uu={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},zu=Object.assign,Fu={};function cn(e,t,r){this.props=e,this.context=t,this.refs=Fu,this.updater=r||Uu}cn.prototype.isReactComponent={};cn.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};cn.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Bu(){}Bu.prototype=cn.prototype;function Jl(e,t,r){this.props=e,this.context=t,this.refs=Fu,this.updater=r||Uu}var Zl=Jl.prototype=new Bu;Zl.constructor=Jl;zu(Zl,cn.prototype);Zl.isPureReactComponent=!0;var nc=Array.isArray,Hu=Object.prototype.hasOwnProperty,Yl={current:null},Vu={key:!0,ref:!0,__self:!0,__source:!0};function qu(e,t,r){var n,s={},a=null,l=null;if(t!=null)for(n in t.ref!==void 0&&(l=t.ref),t.key!==void 0&&(a=""+t.key),t)Hu.call(t,n)&&!Vu.hasOwnProperty(n)&&(s[n]=t[n]);var o=arguments.length-2;if(o===1)s.children=r;else if(1<o){for(var c=Array(o),u=0;u<o;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(n in o=e.defaultProps,o)s[n]===void 0&&(s[n]=o[n]);return{$$typeof:hs,type:e,key:a,ref:l,props:s,_owner:Yl.current}}function f0(e,t){return{$$typeof:hs,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Xl(e){return typeof e=="object"&&e!==null&&e.$$typeof===hs}function m0(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var sc=/\/+/g;function ha(e,t){return typeof e=="object"&&e!==null&&e.key!=null?m0(""+e.key):t.toString(36)}function Ks(e,t,r,n,s){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var l=!1;if(e===null)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case hs:case r0:l=!0}}if(l)return l=e,s=s(l),e=n===""?"."+ha(l,0):n,nc(s)?(r="",e!=null&&(r=e.replace(sc,"$&/")+"/"),Ks(s,t,r,"",function(u){return u})):s!=null&&(Xl(s)&&(s=f0(s,r+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(sc,"$&/")+"/")+e)),t.push(s)),1;if(l=0,n=n===""?".":n+":",nc(e))for(var o=0;o<e.length;o++){a=e[o];var c=n+ha(a,o);l+=Ks(a,t,r,c,s)}else if(c=h0(e),typeof c=="function")for(e=c.call(e),o=0;!(a=e.next()).done;)a=a.value,c=n+ha(a,o++),l+=Ks(a,t,r,c,s);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function _s(e,t,r){if(e==null)return e;var n=[],s=0;return Ks(e,n,"","",function(a){return t.call(r,a,s++)}),n}function p0(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Pe={current:null},Qs={transition:null},g0={ReactCurrentDispatcher:Pe,ReactCurrentBatchConfig:Qs,ReactCurrentOwner:Yl};function Wu(){throw Error("act(...) is not supported in production builds of React.")}z.Children={map:_s,forEach:function(e,t,r){_s(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return _s(e,function(){t++}),t},toArray:function(e){return _s(e,function(t){return t})||[]},only:function(e){if(!Xl(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};z.Component=cn;z.Fragment=n0;z.Profiler=i0;z.PureComponent=Jl;z.StrictMode=s0;z.Suspense=c0;z.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=g0;z.act=Wu;z.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=zu({},e.props),s=e.key,a=e.ref,l=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,l=Yl.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(c in t)Hu.call(t,c)&&!Vu.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&o!==void 0?o[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){o=Array(c);for(var u=0;u<c;u++)o[u]=arguments[u+2];n.children=o}return{$$typeof:hs,type:e.type,key:s,ref:a,props:n,_owner:l}};z.createContext=function(e){return e={$$typeof:l0,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:a0,_context:e},e.Consumer=e};z.createElement=qu;z.createFactory=function(e){var t=qu.bind(null,e);return t.type=e,t};z.createRef=function(){return{current:null}};z.forwardRef=function(e){return{$$typeof:o0,render:e}};z.isValidElement=Xl;z.lazy=function(e){return{$$typeof:d0,_payload:{_status:-1,_result:e},_init:p0}};z.memo=function(e,t){return{$$typeof:u0,type:e,compare:t===void 0?null:t}};z.startTransition=function(e){var t=Qs.transition;Qs.transition={};try{e()}finally{Qs.transition=t}};z.unstable_act=Wu;z.useCallback=function(e,t){return Pe.current.useCallback(e,t)};z.useContext=function(e){return Pe.current.useContext(e)};z.useDebugValue=function(){};z.useDeferredValue=function(e){return Pe.current.useDeferredValue(e)};z.useEffect=function(e,t){return Pe.current.useEffect(e,t)};z.useId=function(){return Pe.current.useId()};z.useImperativeHandle=function(e,t,r){return Pe.current.useImperativeHandle(e,t,r)};z.useInsertionEffect=function(e,t){return Pe.current.useInsertionEffect(e,t)};z.useLayoutEffect=function(e,t){return Pe.current.useLayoutEffect(e,t)};z.useMemo=function(e,t){return Pe.current.useMemo(e,t)};z.useReducer=function(e,t,r){return Pe.current.useReducer(e,t,r)};z.useRef=function(e){return Pe.current.useRef(e)};z.useState=function(e){return Pe.current.useState(e)};z.useSyncExternalStore=function(e,t,r){return Pe.current.useSyncExternalStore(e,t,r)};z.useTransition=function(){return Pe.current.useTransition()};z.version="18.3.1";Mu.exports=z;var v=Mu.exports;const x0=e0(v),v0=Xf({__proto__:null,default:x0},[v]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var y0=v,w0=Symbol.for("react.element"),b0=Symbol.for("react.fragment"),j0=Object.prototype.hasOwnProperty,C0=y0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,N0={key:!0,ref:!0,__self:!0,__source:!0};function Gu(e,t,r){var n,s={},a=null,l=null;r!==void 0&&(a=""+r),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(l=t.ref);for(n in t)j0.call(t,n)&&!N0.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:w0,type:e,key:a,ref:l,props:s,_owner:C0.current}}Mi.Fragment=b0;Mi.jsx=Gu;Mi.jsxs=Gu;Au.exports=Mi;var i=Au.exports,Ku={exports:{}},qe={},Qu={exports:{}},Ju={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(E,R){var $=E.length;E.push(R);e:for(;0<$;){var I=$-1>>>1,W=E[I];if(0<s(W,R))E[I]=R,E[$]=W,$=I;else break e}}function r(E){return E.length===0?null:E[0]}function n(E){if(E.length===0)return null;var R=E[0],$=E.pop();if($!==R){E[0]=$;e:for(var I=0,W=E.length,Qe=W>>>1;I<Qe;){var A=2*(I+1)-1,M=E[A],ne=A+1,fe=E[ne];if(0>s(M,$))ne<W&&0>s(fe,M)?(E[I]=fe,E[ne]=$,I=ne):(E[I]=M,E[A]=$,I=A);else if(ne<W&&0>s(fe,$))E[I]=fe,E[ne]=$,I=ne;else break e}}return R}function s(E,R){var $=E.sortIndex-R.sortIndex;return $!==0?$:E.id-R.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var l=Date,o=l.now();e.unstable_now=function(){return l.now()-o}}var c=[],u=[],d=1,h=null,m=3,x=!1,b=!1,w=!1,y=typeof setTimeout=="function"?setTimeout:null,f=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function p(E){for(var R=r(u);R!==null;){if(R.callback===null)n(u);else if(R.startTime<=E)n(u),R.sortIndex=R.expirationTime,t(c,R);else break;R=r(u)}}function j(E){if(w=!1,p(E),!b)if(r(c)!==null)b=!0,Ke(C);else{var R=r(u);R!==null&&Ie(j,R.startTime-E)}}function C(E,R){b=!1,w&&(w=!1,f(T),T=-1),x=!0;var $=m;try{for(p(R),h=r(c);h!==null&&(!(h.expirationTime>R)||E&&!Y());){var I=h.callback;if(typeof I=="function"){h.callback=null,m=h.priorityLevel;var W=I(h.expirationTime<=R);R=e.unstable_now(),typeof W=="function"?h.callback=W:h===r(c)&&n(c),p(R)}else n(c);h=r(c)}if(h!==null)var Qe=!0;else{var A=r(u);A!==null&&Ie(j,A.startTime-R),Qe=!1}return Qe}finally{h=null,m=$,x=!1}}var N=!1,k=null,T=-1,S=5,O=-1;function Y(){return!(e.unstable_now()-O<S)}function ze(){if(k!==null){var E=e.unstable_now();O=E;var R=!0;try{R=k(!0,E)}finally{R?ve():(N=!1,k=null)}}else N=!1}var ve;if(typeof g=="function")ve=function(){g(ze)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,he=F.port2;F.port1.onmessage=ze,ve=function(){he.postMessage(null)}}else ve=function(){y(ze,0)};function Ke(E){k=E,N||(N=!0,ve())}function Ie(E,R){T=y(function(){E(e.unstable_now())},R)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(E){E.callback=null},e.unstable_continueExecution=function(){b||x||(b=!0,Ke(C))},e.unstable_forceFrameRate=function(E){0>E||125<E?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<E?Math.floor(1e3/E):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(E){switch(m){case 1:case 2:case 3:var R=3;break;default:R=m}var $=m;m=R;try{return E()}finally{m=$}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(E,R){switch(E){case 1:case 2:case 3:case 4:case 5:break;default:E=3}var $=m;m=E;try{return R()}finally{m=$}},e.unstable_scheduleCallback=function(E,R,$){var I=e.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?I+$:I):$=I,E){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=$+W,E={id:d++,callback:R,priorityLevel:E,startTime:$,expirationTime:W,sortIndex:-1},$>I?(E.sortIndex=$,t(u,E),r(c)===null&&E===r(u)&&(w?(f(T),T=-1):w=!0,Ie(j,$-I))):(E.sortIndex=W,t(c,E),b||x||(b=!0,Ke(C))),E},e.unstable_shouldYield=Y,e.unstable_wrapCallback=function(E){var R=m;return function(){var $=m;m=R;try{return E.apply(this,arguments)}finally{m=$}}}})(Ju);Qu.exports=Ju;var _0=Qu.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var k0=v,Ve=_0;function _(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Zu=new Set,Vn={};function Nr(e,t){en(e,t),en(e+"Capture",t)}function en(e,t){for(Vn[e]=t,e=0;e<t.length;e++)Zu.add(t[e])}var St=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),qa=Object.prototype.hasOwnProperty,S0=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ic={},ac={};function E0(e){return qa.call(ac,e)?!0:qa.call(ic,e)?!1:S0.test(e)?ac[e]=!0:(ic[e]=!0,!1)}function P0(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function T0(e,t,r,n){if(t===null||typeof t>"u"||P0(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Te(e,t,r,n,s,a,l){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=l}var ge={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ge[e]=new Te(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ge[t]=new Te(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ge[e]=new Te(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ge[e]=new Te(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ge[e]=new Te(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ge[e]=new Te(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ge[e]=new Te(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ge[e]=new Te(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ge[e]=new Te(e,5,!1,e.toLowerCase(),null,!1,!1)});var eo=/[\-:]([a-z])/g;function to(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(eo,to);ge[t]=new Te(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(eo,to);ge[t]=new Te(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(eo,to);ge[t]=new Te(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ge[e]=new Te(e,1,!1,e.toLowerCase(),null,!1,!1)});ge.xlinkHref=new Te("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ge[e]=new Te(e,1,!1,e.toLowerCase(),null,!0,!0)});function ro(e,t,r,n){var s=ge.hasOwnProperty(t)?ge[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(T0(t,r,s,n)&&(r=null),n||s===null?E0(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var It=k0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ks=Symbol.for("react.element"),Lr=Symbol.for("react.portal"),Dr=Symbol.for("react.fragment"),no=Symbol.for("react.strict_mode"),Wa=Symbol.for("react.profiler"),Yu=Symbol.for("react.provider"),Xu=Symbol.for("react.context"),so=Symbol.for("react.forward_ref"),Ga=Symbol.for("react.suspense"),Ka=Symbol.for("react.suspense_list"),io=Symbol.for("react.memo"),Lt=Symbol.for("react.lazy"),ed=Symbol.for("react.offscreen"),lc=Symbol.iterator;function gn(e){return e===null||typeof e!="object"?null:(e=lc&&e[lc]||e["@@iterator"],typeof e=="function"?e:null)}var te=Object.assign,fa;function _n(e){if(fa===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);fa=t&&t[1]||""}return`
`+fa+e}var ma=!1;function pa(e,t){if(!e||ma)return"";ma=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),a=n.stack.split(`
`),l=s.length-1,o=a.length-1;1<=l&&0<=o&&s[l]!==a[o];)o--;for(;1<=l&&0<=o;l--,o--)if(s[l]!==a[o]){if(l!==1||o!==1)do if(l--,o--,0>o||s[l]!==a[o]){var c=`
`+s[l].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=l&&0<=o);break}}}finally{ma=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?_n(e):""}function O0(e){switch(e.tag){case 5:return _n(e.type);case 16:return _n("Lazy");case 13:return _n("Suspense");case 19:return _n("SuspenseList");case 0:case 2:case 15:return e=pa(e.type,!1),e;case 11:return e=pa(e.type.render,!1),e;case 1:return e=pa(e.type,!0),e;default:return""}}function Qa(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Dr:return"Fragment";case Lr:return"Portal";case Wa:return"Profiler";case no:return"StrictMode";case Ga:return"Suspense";case Ka:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Xu:return(e.displayName||"Context")+".Consumer";case Yu:return(e._context.displayName||"Context")+".Provider";case so:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case io:return t=e.displayName||null,t!==null?t:Qa(e.type)||"Memo";case Lt:t=e._payload,e=e._init;try{return Qa(e(t))}catch{}}return null}function I0(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qa(t);case 8:return t===no?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Xt(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function td(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function R0(e){var t=td(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(l){n=""+l,a.call(this,l)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(l){n=""+l},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ss(e){e._valueTracker||(e._valueTracker=R0(e))}function rd(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=td(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function oi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ja(e,t){var r=t.checked;return te({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function oc(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Xt(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function nd(e,t){t=t.checked,t!=null&&ro(e,"checked",t,!1)}function Za(e,t){nd(e,t);var r=Xt(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Ya(e,t.type,r):t.hasOwnProperty("defaultValue")&&Ya(e,t.type,Xt(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function cc(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Ya(e,t,r){(t!=="number"||oi(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var kn=Array.isArray;function Gr(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Xt(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Xa(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(_(91));return te({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function uc(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(_(92));if(kn(r)){if(1<r.length)throw Error(_(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Xt(r)}}function sd(e,t){var r=Xt(t.value),n=Xt(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function dc(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function id(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function el(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?id(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Es,ad=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Es=Es||document.createElement("div"),Es.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Es.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function qn(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Tn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},$0=["Webkit","ms","Moz","O"];Object.keys(Tn).forEach(function(e){$0.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Tn[t]=Tn[e]})});function ld(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Tn.hasOwnProperty(e)&&Tn[e]?(""+t).trim():t+"px"}function od(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=ld(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var L0=te({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function tl(e,t){if(t){if(L0[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(_(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(_(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(_(61))}if(t.style!=null&&typeof t.style!="object")throw Error(_(62))}}function rl(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var nl=null;function ao(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var sl=null,Kr=null,Qr=null;function hc(e){if(e=ps(e)){if(typeof sl!="function")throw Error(_(280));var t=e.stateNode;t&&(t=Hi(t),sl(e.stateNode,e.type,t))}}function cd(e){Kr?Qr?Qr.push(e):Qr=[e]:Kr=e}function ud(){if(Kr){var e=Kr,t=Qr;if(Qr=Kr=null,hc(e),t)for(e=0;e<t.length;e++)hc(t[e])}}function dd(e,t){return e(t)}function hd(){}var ga=!1;function fd(e,t,r){if(ga)return e(t,r);ga=!0;try{return dd(e,t,r)}finally{ga=!1,(Kr!==null||Qr!==null)&&(hd(),ud())}}function Wn(e,t){var r=e.stateNode;if(r===null)return null;var n=Hi(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(_(231,t,typeof r));return r}var il=!1;if(St)try{var xn={};Object.defineProperty(xn,"passive",{get:function(){il=!0}}),window.addEventListener("test",xn,xn),window.removeEventListener("test",xn,xn)}catch{il=!1}function D0(e,t,r,n,s,a,l,o,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var On=!1,ci=null,ui=!1,al=null,A0={onError:function(e){On=!0,ci=e}};function M0(e,t,r,n,s,a,l,o,c){On=!1,ci=null,D0.apply(A0,arguments)}function U0(e,t,r,n,s,a,l,o,c){if(M0.apply(this,arguments),On){if(On){var u=ci;On=!1,ci=null}else throw Error(_(198));ui||(ui=!0,al=u)}}function _r(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function md(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function fc(e){if(_r(e)!==e)throw Error(_(188))}function z0(e){var t=e.alternate;if(!t){if(t=_r(e),t===null)throw Error(_(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var a=s.alternate;if(a===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===a.child){for(a=s.child;a;){if(a===r)return fc(s),e;if(a===n)return fc(s),t;a=a.sibling}throw Error(_(188))}if(r.return!==n.return)r=s,n=a;else{for(var l=!1,o=s.child;o;){if(o===r){l=!0,r=s,n=a;break}if(o===n){l=!0,n=s,r=a;break}o=o.sibling}if(!l){for(o=a.child;o;){if(o===r){l=!0,r=a,n=s;break}if(o===n){l=!0,n=a,r=s;break}o=o.sibling}if(!l)throw Error(_(189))}}if(r.alternate!==n)throw Error(_(190))}if(r.tag!==3)throw Error(_(188));return r.stateNode.current===r?e:t}function pd(e){return e=z0(e),e!==null?gd(e):null}function gd(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=gd(e);if(t!==null)return t;e=e.sibling}return null}var xd=Ve.unstable_scheduleCallback,mc=Ve.unstable_cancelCallback,F0=Ve.unstable_shouldYield,B0=Ve.unstable_requestPaint,se=Ve.unstable_now,H0=Ve.unstable_getCurrentPriorityLevel,lo=Ve.unstable_ImmediatePriority,vd=Ve.unstable_UserBlockingPriority,di=Ve.unstable_NormalPriority,V0=Ve.unstable_LowPriority,yd=Ve.unstable_IdlePriority,Ui=null,gt=null;function q0(e){if(gt&&typeof gt.onCommitFiberRoot=="function")try{gt.onCommitFiberRoot(Ui,e,void 0,(e.current.flags&128)===128)}catch{}}var ut=Math.clz32?Math.clz32:K0,W0=Math.log,G0=Math.LN2;function K0(e){return e>>>=0,e===0?32:31-(W0(e)/G0|0)|0}var Ps=64,Ts=4194304;function Sn(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function hi(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,a=e.pingedLanes,l=r&268435455;if(l!==0){var o=l&~s;o!==0?n=Sn(o):(a&=l,a!==0&&(n=Sn(a)))}else l=r&~s,l!==0?n=Sn(l):a!==0&&(n=Sn(a));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,a=t&-t,s>=a||s===16&&(a&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-ut(t),s=1<<r,n|=e[r],t&=~s;return n}function Q0(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function J0(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,a=e.pendingLanes;0<a;){var l=31-ut(a),o=1<<l,c=s[l];c===-1?(!(o&r)||o&n)&&(s[l]=Q0(o,t)):c<=t&&(e.expiredLanes|=o),a&=~o}}function ll(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function wd(){var e=Ps;return Ps<<=1,!(Ps&4194240)&&(Ps=64),e}function xa(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function fs(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-ut(t),e[t]=r}function Z0(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-ut(r),a=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~a}}function oo(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-ut(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var q=0;function bd(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var jd,co,Cd,Nd,_d,ol=!1,Os=[],qt=null,Wt=null,Gt=null,Gn=new Map,Kn=new Map,Mt=[],Y0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pc(e,t){switch(e){case"focusin":case"focusout":qt=null;break;case"dragenter":case"dragleave":Wt=null;break;case"mouseover":case"mouseout":Gt=null;break;case"pointerover":case"pointerout":Gn.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Kn.delete(t.pointerId)}}function vn(e,t,r,n,s,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[s]},t!==null&&(t=ps(t),t!==null&&co(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function X0(e,t,r,n,s){switch(t){case"focusin":return qt=vn(qt,e,t,r,n,s),!0;case"dragenter":return Wt=vn(Wt,e,t,r,n,s),!0;case"mouseover":return Gt=vn(Gt,e,t,r,n,s),!0;case"pointerover":var a=s.pointerId;return Gn.set(a,vn(Gn.get(a)||null,e,t,r,n,s)),!0;case"gotpointercapture":return a=s.pointerId,Kn.set(a,vn(Kn.get(a)||null,e,t,r,n,s)),!0}return!1}function kd(e){var t=hr(e.target);if(t!==null){var r=_r(t);if(r!==null){if(t=r.tag,t===13){if(t=md(r),t!==null){e.blockedOn=t,_d(e.priority,function(){Cd(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Js(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=cl(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);nl=n,r.target.dispatchEvent(n),nl=null}else return t=ps(r),t!==null&&co(t),e.blockedOn=r,!1;t.shift()}return!0}function gc(e,t,r){Js(e)&&r.delete(t)}function em(){ol=!1,qt!==null&&Js(qt)&&(qt=null),Wt!==null&&Js(Wt)&&(Wt=null),Gt!==null&&Js(Gt)&&(Gt=null),Gn.forEach(gc),Kn.forEach(gc)}function yn(e,t){e.blockedOn===t&&(e.blockedOn=null,ol||(ol=!0,Ve.unstable_scheduleCallback(Ve.unstable_NormalPriority,em)))}function Qn(e){function t(s){return yn(s,e)}if(0<Os.length){yn(Os[0],e);for(var r=1;r<Os.length;r++){var n=Os[r];n.blockedOn===e&&(n.blockedOn=null)}}for(qt!==null&&yn(qt,e),Wt!==null&&yn(Wt,e),Gt!==null&&yn(Gt,e),Gn.forEach(t),Kn.forEach(t),r=0;r<Mt.length;r++)n=Mt[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Mt.length&&(r=Mt[0],r.blockedOn===null);)kd(r),r.blockedOn===null&&Mt.shift()}var Jr=It.ReactCurrentBatchConfig,fi=!0;function tm(e,t,r,n){var s=q,a=Jr.transition;Jr.transition=null;try{q=1,uo(e,t,r,n)}finally{q=s,Jr.transition=a}}function rm(e,t,r,n){var s=q,a=Jr.transition;Jr.transition=null;try{q=4,uo(e,t,r,n)}finally{q=s,Jr.transition=a}}function uo(e,t,r,n){if(fi){var s=cl(e,t,r,n);if(s===null)Sa(e,t,n,mi,r),pc(e,n);else if(X0(s,e,t,r,n))n.stopPropagation();else if(pc(e,n),t&4&&-1<Y0.indexOf(e)){for(;s!==null;){var a=ps(s);if(a!==null&&jd(a),a=cl(e,t,r,n),a===null&&Sa(e,t,n,mi,r),a===s)break;s=a}s!==null&&n.stopPropagation()}else Sa(e,t,n,null,r)}}var mi=null;function cl(e,t,r,n){if(mi=null,e=ao(n),e=hr(e),e!==null)if(t=_r(e),t===null)e=null;else if(r=t.tag,r===13){if(e=md(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return mi=e,null}function Sd(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(H0()){case lo:return 1;case vd:return 4;case di:case V0:return 16;case yd:return 536870912;default:return 16}default:return 16}}var Bt=null,ho=null,Zs=null;function Ed(){if(Zs)return Zs;var e,t=ho,r=t.length,n,s="value"in Bt?Bt.value:Bt.textContent,a=s.length;for(e=0;e<r&&t[e]===s[e];e++);var l=r-e;for(n=1;n<=l&&t[r-n]===s[a-n];n++);return Zs=s.slice(e,1<n?1-n:void 0)}function Ys(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Is(){return!0}function xc(){return!1}function We(e){function t(r,n,s,a,l){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=a,this.target=l,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(r=e[o],this[o]=r?r(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Is:xc,this.isPropagationStopped=xc,this}return te(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Is)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Is)},persist:function(){},isPersistent:Is}),t}var un={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fo=We(un),ms=te({},un,{view:0,detail:0}),nm=We(ms),va,ya,wn,zi=te({},ms,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:mo,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==wn&&(wn&&e.type==="mousemove"?(va=e.screenX-wn.screenX,ya=e.screenY-wn.screenY):ya=va=0,wn=e),va)},movementY:function(e){return"movementY"in e?e.movementY:ya}}),vc=We(zi),sm=te({},zi,{dataTransfer:0}),im=We(sm),am=te({},ms,{relatedTarget:0}),wa=We(am),lm=te({},un,{animationName:0,elapsedTime:0,pseudoElement:0}),om=We(lm),cm=te({},un,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),um=We(cm),dm=te({},un,{data:0}),yc=We(dm),hm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pm(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=mm[e])?!!t[e]:!1}function mo(){return pm}var gm=te({},ms,{key:function(e){if(e.key){var t=hm[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ys(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?fm[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:mo,charCode:function(e){return e.type==="keypress"?Ys(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ys(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),xm=We(gm),vm=te({},zi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),wc=We(vm),ym=te({},ms,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:mo}),wm=We(ym),bm=te({},un,{propertyName:0,elapsedTime:0,pseudoElement:0}),jm=We(bm),Cm=te({},zi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Nm=We(Cm),_m=[9,13,27,32],po=St&&"CompositionEvent"in window,In=null;St&&"documentMode"in document&&(In=document.documentMode);var km=St&&"TextEvent"in window&&!In,Pd=St&&(!po||In&&8<In&&11>=In),bc=" ",jc=!1;function Td(e,t){switch(e){case"keyup":return _m.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Od(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ar=!1;function Sm(e,t){switch(e){case"compositionend":return Od(t);case"keypress":return t.which!==32?null:(jc=!0,bc);case"textInput":return e=t.data,e===bc&&jc?null:e;default:return null}}function Em(e,t){if(Ar)return e==="compositionend"||!po&&Td(e,t)?(e=Ed(),Zs=ho=Bt=null,Ar=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Pd&&t.locale!=="ko"?null:t.data;default:return null}}var Pm={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Cc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Pm[e.type]:t==="textarea"}function Id(e,t,r,n){cd(n),t=pi(t,"onChange"),0<t.length&&(r=new fo("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Rn=null,Jn=null;function Tm(e){Hd(e,0)}function Fi(e){var t=zr(e);if(rd(t))return e}function Om(e,t){if(e==="change")return t}var Rd=!1;if(St){var ba;if(St){var ja="oninput"in document;if(!ja){var Nc=document.createElement("div");Nc.setAttribute("oninput","return;"),ja=typeof Nc.oninput=="function"}ba=ja}else ba=!1;Rd=ba&&(!document.documentMode||9<document.documentMode)}function _c(){Rn&&(Rn.detachEvent("onpropertychange",$d),Jn=Rn=null)}function $d(e){if(e.propertyName==="value"&&Fi(Jn)){var t=[];Id(t,Jn,e,ao(e)),fd(Tm,t)}}function Im(e,t,r){e==="focusin"?(_c(),Rn=t,Jn=r,Rn.attachEvent("onpropertychange",$d)):e==="focusout"&&_c()}function Rm(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Fi(Jn)}function $m(e,t){if(e==="click")return Fi(t)}function Lm(e,t){if(e==="input"||e==="change")return Fi(t)}function Dm(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ht=typeof Object.is=="function"?Object.is:Dm;function Zn(e,t){if(ht(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!qa.call(t,s)||!ht(e[s],t[s]))return!1}return!0}function kc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Sc(e,t){var r=kc(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=kc(r)}}function Ld(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Ld(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Dd(){for(var e=window,t=oi();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=oi(e.document)}return t}function go(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Am(e){var t=Dd(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Ld(r.ownerDocument.documentElement,r)){if(n!==null&&go(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,a=Math.min(n.start,s);n=n.end===void 0?a:Math.min(n.end,s),!e.extend&&a>n&&(s=n,n=a,a=s),s=Sc(r,a);var l=Sc(r,n);s&&l&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==l.node||e.focusOffset!==l.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),a>n?(e.addRange(t),e.extend(l.node,l.offset)):(t.setEnd(l.node,l.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Mm=St&&"documentMode"in document&&11>=document.documentMode,Mr=null,ul=null,$n=null,dl=!1;function Ec(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;dl||Mr==null||Mr!==oi(n)||(n=Mr,"selectionStart"in n&&go(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),$n&&Zn($n,n)||($n=n,n=pi(ul,"onSelect"),0<n.length&&(t=new fo("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Mr)))}function Rs(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Ur={animationend:Rs("Animation","AnimationEnd"),animationiteration:Rs("Animation","AnimationIteration"),animationstart:Rs("Animation","AnimationStart"),transitionend:Rs("Transition","TransitionEnd")},Ca={},Ad={};St&&(Ad=document.createElement("div").style,"AnimationEvent"in window||(delete Ur.animationend.animation,delete Ur.animationiteration.animation,delete Ur.animationstart.animation),"TransitionEvent"in window||delete Ur.transitionend.transition);function Bi(e){if(Ca[e])return Ca[e];if(!Ur[e])return e;var t=Ur[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Ad)return Ca[e]=t[r];return e}var Md=Bi("animationend"),Ud=Bi("animationiteration"),zd=Bi("animationstart"),Fd=Bi("transitionend"),Bd=new Map,Pc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function rr(e,t){Bd.set(e,t),Nr(t,[e])}for(var Na=0;Na<Pc.length;Na++){var _a=Pc[Na],Um=_a.toLowerCase(),zm=_a[0].toUpperCase()+_a.slice(1);rr(Um,"on"+zm)}rr(Md,"onAnimationEnd");rr(Ud,"onAnimationIteration");rr(zd,"onAnimationStart");rr("dblclick","onDoubleClick");rr("focusin","onFocus");rr("focusout","onBlur");rr(Fd,"onTransitionEnd");en("onMouseEnter",["mouseout","mouseover"]);en("onMouseLeave",["mouseout","mouseover"]);en("onPointerEnter",["pointerout","pointerover"]);en("onPointerLeave",["pointerout","pointerover"]);Nr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Nr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Nr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Nr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Nr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Nr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var En="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Fm=new Set("cancel close invalid load scroll toggle".split(" ").concat(En));function Tc(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,U0(n,t,void 0,e),e.currentTarget=null}function Hd(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var a=void 0;if(t)for(var l=n.length-1;0<=l;l--){var o=n[l],c=o.instance,u=o.currentTarget;if(o=o.listener,c!==a&&s.isPropagationStopped())break e;Tc(s,o,u),a=c}else for(l=0;l<n.length;l++){if(o=n[l],c=o.instance,u=o.currentTarget,o=o.listener,c!==a&&s.isPropagationStopped())break e;Tc(s,o,u),a=c}}}if(ui)throw e=al,ui=!1,al=null,e}function Q(e,t){var r=t[gl];r===void 0&&(r=t[gl]=new Set);var n=e+"__bubble";r.has(n)||(Vd(t,e,2,!1),r.add(n))}function ka(e,t,r){var n=0;t&&(n|=4),Vd(r,e,n,t)}var $s="_reactListening"+Math.random().toString(36).slice(2);function Yn(e){if(!e[$s]){e[$s]=!0,Zu.forEach(function(r){r!=="selectionchange"&&(Fm.has(r)||ka(r,!1,e),ka(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[$s]||(t[$s]=!0,ka("selectionchange",!1,t))}}function Vd(e,t,r,n){switch(Sd(t)){case 1:var s=tm;break;case 4:s=rm;break;default:s=uo}r=s.bind(null,t,r,e),s=void 0,!il||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function Sa(e,t,r,n,s){var a=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var l=n.tag;if(l===3||l===4){var o=n.stateNode.containerInfo;if(o===s||o.nodeType===8&&o.parentNode===s)break;if(l===4)for(l=n.return;l!==null;){var c=l.tag;if((c===3||c===4)&&(c=l.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;l=l.return}for(;o!==null;){if(l=hr(o),l===null)return;if(c=l.tag,c===5||c===6){n=a=l;continue e}o=o.parentNode}}n=n.return}fd(function(){var u=a,d=ao(r),h=[];e:{var m=Bd.get(e);if(m!==void 0){var x=fo,b=e;switch(e){case"keypress":if(Ys(r)===0)break e;case"keydown":case"keyup":x=xm;break;case"focusin":b="focus",x=wa;break;case"focusout":b="blur",x=wa;break;case"beforeblur":case"afterblur":x=wa;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":x=vc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":x=im;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":x=wm;break;case Md:case Ud:case zd:x=om;break;case Fd:x=jm;break;case"scroll":x=nm;break;case"wheel":x=Nm;break;case"copy":case"cut":case"paste":x=um;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":x=wc}var w=(t&4)!==0,y=!w&&e==="scroll",f=w?m!==null?m+"Capture":null:m;w=[];for(var g=u,p;g!==null;){p=g;var j=p.stateNode;if(p.tag===5&&j!==null&&(p=j,f!==null&&(j=Wn(g,f),j!=null&&w.push(Xn(g,j,p)))),y)break;g=g.return}0<w.length&&(m=new x(m,b,null,r,d),h.push({event:m,listeners:w}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",x=e==="mouseout"||e==="pointerout",m&&r!==nl&&(b=r.relatedTarget||r.fromElement)&&(hr(b)||b[Et]))break e;if((x||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,x?(b=r.relatedTarget||r.toElement,x=u,b=b?hr(b):null,b!==null&&(y=_r(b),b!==y||b.tag!==5&&b.tag!==6)&&(b=null)):(x=null,b=u),x!==b)){if(w=vc,j="onMouseLeave",f="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(w=wc,j="onPointerLeave",f="onPointerEnter",g="pointer"),y=x==null?m:zr(x),p=b==null?m:zr(b),m=new w(j,g+"leave",x,r,d),m.target=y,m.relatedTarget=p,j=null,hr(d)===u&&(w=new w(f,g+"enter",b,r,d),w.target=p,w.relatedTarget=y,j=w),y=j,x&&b)t:{for(w=x,f=b,g=0,p=w;p;p=Pr(p))g++;for(p=0,j=f;j;j=Pr(j))p++;for(;0<g-p;)w=Pr(w),g--;for(;0<p-g;)f=Pr(f),p--;for(;g--;){if(w===f||f!==null&&w===f.alternate)break t;w=Pr(w),f=Pr(f)}w=null}else w=null;x!==null&&Oc(h,m,x,w,!1),b!==null&&y!==null&&Oc(h,y,b,w,!0)}}e:{if(m=u?zr(u):window,x=m.nodeName&&m.nodeName.toLowerCase(),x==="select"||x==="input"&&m.type==="file")var C=Om;else if(Cc(m))if(Rd)C=Lm;else{C=Rm;var N=Im}else(x=m.nodeName)&&x.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(C=$m);if(C&&(C=C(e,u))){Id(h,C,r,d);break e}N&&N(e,m,u),e==="focusout"&&(N=m._wrapperState)&&N.controlled&&m.type==="number"&&Ya(m,"number",m.value)}switch(N=u?zr(u):window,e){case"focusin":(Cc(N)||N.contentEditable==="true")&&(Mr=N,ul=u,$n=null);break;case"focusout":$n=ul=Mr=null;break;case"mousedown":dl=!0;break;case"contextmenu":case"mouseup":case"dragend":dl=!1,Ec(h,r,d);break;case"selectionchange":if(Mm)break;case"keydown":case"keyup":Ec(h,r,d)}var k;if(po)e:{switch(e){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else Ar?Td(e,r)&&(T="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(T="onCompositionStart");T&&(Pd&&r.locale!=="ko"&&(Ar||T!=="onCompositionStart"?T==="onCompositionEnd"&&Ar&&(k=Ed()):(Bt=d,ho="value"in Bt?Bt.value:Bt.textContent,Ar=!0)),N=pi(u,T),0<N.length&&(T=new yc(T,e,null,r,d),h.push({event:T,listeners:N}),k?T.data=k:(k=Od(r),k!==null&&(T.data=k)))),(k=km?Sm(e,r):Em(e,r))&&(u=pi(u,"onBeforeInput"),0<u.length&&(d=new yc("onBeforeInput","beforeinput",null,r,d),h.push({event:d,listeners:u}),d.data=k))}Hd(h,t)})}function Xn(e,t,r){return{instance:e,listener:t,currentTarget:r}}function pi(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,a=s.stateNode;s.tag===5&&a!==null&&(s=a,a=Wn(e,r),a!=null&&n.unshift(Xn(e,a,s)),a=Wn(e,t),a!=null&&n.push(Xn(e,a,s))),e=e.return}return n}function Pr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Oc(e,t,r,n,s){for(var a=t._reactName,l=[];r!==null&&r!==n;){var o=r,c=o.alternate,u=o.stateNode;if(c!==null&&c===n)break;o.tag===5&&u!==null&&(o=u,s?(c=Wn(r,a),c!=null&&l.unshift(Xn(r,c,o))):s||(c=Wn(r,a),c!=null&&l.push(Xn(r,c,o)))),r=r.return}l.length!==0&&e.push({event:t,listeners:l})}var Bm=/\r\n?/g,Hm=/\u0000|\uFFFD/g;function Ic(e){return(typeof e=="string"?e:""+e).replace(Bm,`
`).replace(Hm,"")}function Ls(e,t,r){if(t=Ic(t),Ic(e)!==t&&r)throw Error(_(425))}function gi(){}var hl=null,fl=null;function ml(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var pl=typeof setTimeout=="function"?setTimeout:void 0,Vm=typeof clearTimeout=="function"?clearTimeout:void 0,Rc=typeof Promise=="function"?Promise:void 0,qm=typeof queueMicrotask=="function"?queueMicrotask:typeof Rc<"u"?function(e){return Rc.resolve(null).then(e).catch(Wm)}:pl;function Wm(e){setTimeout(function(){throw e})}function Ea(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),Qn(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);Qn(t)}function Kt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function $c(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var dn=Math.random().toString(36).slice(2),pt="__reactFiber$"+dn,es="__reactProps$"+dn,Et="__reactContainer$"+dn,gl="__reactEvents$"+dn,Gm="__reactListeners$"+dn,Km="__reactHandles$"+dn;function hr(e){var t=e[pt];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Et]||r[pt]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=$c(e);e!==null;){if(r=e[pt])return r;e=$c(e)}return t}e=r,r=e.parentNode}return null}function ps(e){return e=e[pt]||e[Et],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function zr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(_(33))}function Hi(e){return e[es]||null}var xl=[],Fr=-1;function nr(e){return{current:e}}function J(e){0>Fr||(e.current=xl[Fr],xl[Fr]=null,Fr--)}function K(e,t){Fr++,xl[Fr]=e.current,e.current=t}var er={},Ne=nr(er),Ae=nr(!1),yr=er;function tn(e,t){var r=e.type.contextTypes;if(!r)return er;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},a;for(a in r)s[a]=t[a];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Me(e){return e=e.childContextTypes,e!=null}function xi(){J(Ae),J(Ne)}function Lc(e,t,r){if(Ne.current!==er)throw Error(_(168));K(Ne,t),K(Ae,r)}function qd(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(_(108,I0(e)||"Unknown",s));return te({},r,n)}function vi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||er,yr=Ne.current,K(Ne,e),K(Ae,Ae.current),!0}function Dc(e,t,r){var n=e.stateNode;if(!n)throw Error(_(169));r?(e=qd(e,t,yr),n.__reactInternalMemoizedMergedChildContext=e,J(Ae),J(Ne),K(Ne,e)):J(Ae),K(Ae,r)}var Ct=null,Vi=!1,Pa=!1;function Wd(e){Ct===null?Ct=[e]:Ct.push(e)}function Qm(e){Vi=!0,Wd(e)}function sr(){if(!Pa&&Ct!==null){Pa=!0;var e=0,t=q;try{var r=Ct;for(q=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Ct=null,Vi=!1}catch(s){throw Ct!==null&&(Ct=Ct.slice(e+1)),xd(lo,sr),s}finally{q=t,Pa=!1}}return null}var Br=[],Hr=0,yi=null,wi=0,Je=[],Ze=0,wr=null,Nt=1,_t="";function or(e,t){Br[Hr++]=wi,Br[Hr++]=yi,yi=e,wi=t}function Gd(e,t,r){Je[Ze++]=Nt,Je[Ze++]=_t,Je[Ze++]=wr,wr=e;var n=Nt;e=_t;var s=32-ut(n)-1;n&=~(1<<s),r+=1;var a=32-ut(t)+s;if(30<a){var l=s-s%5;a=(n&(1<<l)-1).toString(32),n>>=l,s-=l,Nt=1<<32-ut(t)+s|r<<s|n,_t=a+e}else Nt=1<<a|r<<s|n,_t=e}function xo(e){e.return!==null&&(or(e,1),Gd(e,1,0))}function vo(e){for(;e===yi;)yi=Br[--Hr],Br[Hr]=null,wi=Br[--Hr],Br[Hr]=null;for(;e===wr;)wr=Je[--Ze],Je[Ze]=null,_t=Je[--Ze],Je[Ze]=null,Nt=Je[--Ze],Je[Ze]=null}var He=null,Be=null,Z=!1,ct=null;function Kd(e,t){var r=Ye(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Ac(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,He=e,Be=Kt(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,He=e,Be=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=wr!==null?{id:Nt,overflow:_t}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Ye(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,He=e,Be=null,!0):!1;default:return!1}}function vl(e){return(e.mode&1)!==0&&(e.flags&128)===0}function yl(e){if(Z){var t=Be;if(t){var r=t;if(!Ac(e,t)){if(vl(e))throw Error(_(418));t=Kt(r.nextSibling);var n=He;t&&Ac(e,t)?Kd(n,r):(e.flags=e.flags&-4097|2,Z=!1,He=e)}}else{if(vl(e))throw Error(_(418));e.flags=e.flags&-4097|2,Z=!1,He=e}}}function Mc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;He=e}function Ds(e){if(e!==He)return!1;if(!Z)return Mc(e),Z=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!ml(e.type,e.memoizedProps)),t&&(t=Be)){if(vl(e))throw Qd(),Error(_(418));for(;t;)Kd(e,t),t=Kt(t.nextSibling)}if(Mc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(_(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Be=Kt(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Be=null}}else Be=He?Kt(e.stateNode.nextSibling):null;return!0}function Qd(){for(var e=Be;e;)e=Kt(e.nextSibling)}function rn(){Be=He=null,Z=!1}function yo(e){ct===null?ct=[e]:ct.push(e)}var Jm=It.ReactCurrentBatchConfig;function bn(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(_(309));var n=r.stateNode}if(!n)throw Error(_(147,e));var s=n,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(l){var o=s.refs;l===null?delete o[a]:o[a]=l},t._stringRef=a,t)}if(typeof e!="string")throw Error(_(284));if(!r._owner)throw Error(_(290,e))}return e}function As(e,t){throw e=Object.prototype.toString.call(t),Error(_(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Uc(e){var t=e._init;return t(e._payload)}function Jd(e){function t(f,g){if(e){var p=f.deletions;p===null?(f.deletions=[g],f.flags|=16):p.push(g)}}function r(f,g){if(!e)return null;for(;g!==null;)t(f,g),g=g.sibling;return null}function n(f,g){for(f=new Map;g!==null;)g.key!==null?f.set(g.key,g):f.set(g.index,g),g=g.sibling;return f}function s(f,g){return f=Yt(f,g),f.index=0,f.sibling=null,f}function a(f,g,p){return f.index=p,e?(p=f.alternate,p!==null?(p=p.index,p<g?(f.flags|=2,g):p):(f.flags|=2,g)):(f.flags|=1048576,g)}function l(f){return e&&f.alternate===null&&(f.flags|=2),f}function o(f,g,p,j){return g===null||g.tag!==6?(g=Da(p,f.mode,j),g.return=f,g):(g=s(g,p),g.return=f,g)}function c(f,g,p,j){var C=p.type;return C===Dr?d(f,g,p.props.children,j,p.key):g!==null&&(g.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Lt&&Uc(C)===g.type)?(j=s(g,p.props),j.ref=bn(f,g,p),j.return=f,j):(j=ii(p.type,p.key,p.props,null,f.mode,j),j.ref=bn(f,g,p),j.return=f,j)}function u(f,g,p,j){return g===null||g.tag!==4||g.stateNode.containerInfo!==p.containerInfo||g.stateNode.implementation!==p.implementation?(g=Aa(p,f.mode,j),g.return=f,g):(g=s(g,p.children||[]),g.return=f,g)}function d(f,g,p,j,C){return g===null||g.tag!==7?(g=xr(p,f.mode,j,C),g.return=f,g):(g=s(g,p),g.return=f,g)}function h(f,g,p){if(typeof g=="string"&&g!==""||typeof g=="number")return g=Da(""+g,f.mode,p),g.return=f,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case ks:return p=ii(g.type,g.key,g.props,null,f.mode,p),p.ref=bn(f,null,g),p.return=f,p;case Lr:return g=Aa(g,f.mode,p),g.return=f,g;case Lt:var j=g._init;return h(f,j(g._payload),p)}if(kn(g)||gn(g))return g=xr(g,f.mode,p,null),g.return=f,g;As(f,g)}return null}function m(f,g,p,j){var C=g!==null?g.key:null;if(typeof p=="string"&&p!==""||typeof p=="number")return C!==null?null:o(f,g,""+p,j);if(typeof p=="object"&&p!==null){switch(p.$$typeof){case ks:return p.key===C?c(f,g,p,j):null;case Lr:return p.key===C?u(f,g,p,j):null;case Lt:return C=p._init,m(f,g,C(p._payload),j)}if(kn(p)||gn(p))return C!==null?null:d(f,g,p,j,null);As(f,p)}return null}function x(f,g,p,j,C){if(typeof j=="string"&&j!==""||typeof j=="number")return f=f.get(p)||null,o(g,f,""+j,C);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case ks:return f=f.get(j.key===null?p:j.key)||null,c(g,f,j,C);case Lr:return f=f.get(j.key===null?p:j.key)||null,u(g,f,j,C);case Lt:var N=j._init;return x(f,g,p,N(j._payload),C)}if(kn(j)||gn(j))return f=f.get(p)||null,d(g,f,j,C,null);As(g,j)}return null}function b(f,g,p,j){for(var C=null,N=null,k=g,T=g=0,S=null;k!==null&&T<p.length;T++){k.index>T?(S=k,k=null):S=k.sibling;var O=m(f,k,p[T],j);if(O===null){k===null&&(k=S);break}e&&k&&O.alternate===null&&t(f,k),g=a(O,g,T),N===null?C=O:N.sibling=O,N=O,k=S}if(T===p.length)return r(f,k),Z&&or(f,T),C;if(k===null){for(;T<p.length;T++)k=h(f,p[T],j),k!==null&&(g=a(k,g,T),N===null?C=k:N.sibling=k,N=k);return Z&&or(f,T),C}for(k=n(f,k);T<p.length;T++)S=x(k,f,T,p[T],j),S!==null&&(e&&S.alternate!==null&&k.delete(S.key===null?T:S.key),g=a(S,g,T),N===null?C=S:N.sibling=S,N=S);return e&&k.forEach(function(Y){return t(f,Y)}),Z&&or(f,T),C}function w(f,g,p,j){var C=gn(p);if(typeof C!="function")throw Error(_(150));if(p=C.call(p),p==null)throw Error(_(151));for(var N=C=null,k=g,T=g=0,S=null,O=p.next();k!==null&&!O.done;T++,O=p.next()){k.index>T?(S=k,k=null):S=k.sibling;var Y=m(f,k,O.value,j);if(Y===null){k===null&&(k=S);break}e&&k&&Y.alternate===null&&t(f,k),g=a(Y,g,T),N===null?C=Y:N.sibling=Y,N=Y,k=S}if(O.done)return r(f,k),Z&&or(f,T),C;if(k===null){for(;!O.done;T++,O=p.next())O=h(f,O.value,j),O!==null&&(g=a(O,g,T),N===null?C=O:N.sibling=O,N=O);return Z&&or(f,T),C}for(k=n(f,k);!O.done;T++,O=p.next())O=x(k,f,T,O.value,j),O!==null&&(e&&O.alternate!==null&&k.delete(O.key===null?T:O.key),g=a(O,g,T),N===null?C=O:N.sibling=O,N=O);return e&&k.forEach(function(ze){return t(f,ze)}),Z&&or(f,T),C}function y(f,g,p,j){if(typeof p=="object"&&p!==null&&p.type===Dr&&p.key===null&&(p=p.props.children),typeof p=="object"&&p!==null){switch(p.$$typeof){case ks:e:{for(var C=p.key,N=g;N!==null;){if(N.key===C){if(C=p.type,C===Dr){if(N.tag===7){r(f,N.sibling),g=s(N,p.props.children),g.return=f,f=g;break e}}else if(N.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Lt&&Uc(C)===N.type){r(f,N.sibling),g=s(N,p.props),g.ref=bn(f,N,p),g.return=f,f=g;break e}r(f,N);break}else t(f,N);N=N.sibling}p.type===Dr?(g=xr(p.props.children,f.mode,j,p.key),g.return=f,f=g):(j=ii(p.type,p.key,p.props,null,f.mode,j),j.ref=bn(f,g,p),j.return=f,f=j)}return l(f);case Lr:e:{for(N=p.key;g!==null;){if(g.key===N)if(g.tag===4&&g.stateNode.containerInfo===p.containerInfo&&g.stateNode.implementation===p.implementation){r(f,g.sibling),g=s(g,p.children||[]),g.return=f,f=g;break e}else{r(f,g);break}else t(f,g);g=g.sibling}g=Aa(p,f.mode,j),g.return=f,f=g}return l(f);case Lt:return N=p._init,y(f,g,N(p._payload),j)}if(kn(p))return b(f,g,p,j);if(gn(p))return w(f,g,p,j);As(f,p)}return typeof p=="string"&&p!==""||typeof p=="number"?(p=""+p,g!==null&&g.tag===6?(r(f,g.sibling),g=s(g,p),g.return=f,f=g):(r(f,g),g=Da(p,f.mode,j),g.return=f,f=g),l(f)):r(f,g)}return y}var nn=Jd(!0),Zd=Jd(!1),bi=nr(null),ji=null,Vr=null,wo=null;function bo(){wo=Vr=ji=null}function jo(e){var t=bi.current;J(bi),e._currentValue=t}function wl(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Zr(e,t){ji=e,wo=Vr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(De=!0),e.firstContext=null)}function tt(e){var t=e._currentValue;if(wo!==e)if(e={context:e,memoizedValue:t,next:null},Vr===null){if(ji===null)throw Error(_(308));Vr=e,ji.dependencies={lanes:0,firstContext:e}}else Vr=Vr.next=e;return t}var fr=null;function Co(e){fr===null?fr=[e]:fr.push(e)}function Yd(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,Co(t)):(r.next=s.next,s.next=r),t.interleaved=r,Pt(e,n)}function Pt(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Dt=!1;function No(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Xd(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function kt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Qt(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,B&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,Pt(e,r)}return s=n.interleaved,s===null?(t.next=t,Co(n)):(t.next=s.next,s.next=t),n.interleaved=t,Pt(e,r)}function Xs(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,oo(e,r)}}function zc(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var l={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?s=a=l:a=a.next=l,r=r.next}while(r!==null);a===null?s=a=t:a=a.next=t}else s=a=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:a,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Ci(e,t,r,n){var s=e.updateQueue;Dt=!1;var a=s.firstBaseUpdate,l=s.lastBaseUpdate,o=s.shared.pending;if(o!==null){s.shared.pending=null;var c=o,u=c.next;c.next=null,l===null?a=u:l.next=u,l=c;var d=e.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==l&&(o===null?d.firstBaseUpdate=u:o.next=u,d.lastBaseUpdate=c))}if(a!==null){var h=s.baseState;l=0,d=u=c=null,o=a;do{var m=o.lane,x=o.eventTime;if((n&m)===m){d!==null&&(d=d.next={eventTime:x,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var b=e,w=o;switch(m=t,x=r,w.tag){case 1:if(b=w.payload,typeof b=="function"){h=b.call(x,h,m);break e}h=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=w.payload,m=typeof b=="function"?b.call(x,h,m):b,m==null)break e;h=te({},h,m);break e;case 2:Dt=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,m=s.effects,m===null?s.effects=[o]:m.push(o))}else x={eventTime:x,lane:m,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(u=d=x,c=h):d=d.next=x,l|=m;if(o=o.next,o===null){if(o=s.shared.pending,o===null)break;m=o,o=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(!0);if(d===null&&(c=h),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do l|=s.lane,s=s.next;while(s!==t)}else a===null&&(s.shared.lanes=0);jr|=l,e.lanes=l,e.memoizedState=h}}function Fc(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(_(191,s));s.call(n)}}}var gs={},xt=nr(gs),ts=nr(gs),rs=nr(gs);function mr(e){if(e===gs)throw Error(_(174));return e}function _o(e,t){switch(K(rs,t),K(ts,e),K(xt,gs),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:el(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=el(t,e)}J(xt),K(xt,t)}function sn(){J(xt),J(ts),J(rs)}function eh(e){mr(rs.current);var t=mr(xt.current),r=el(t,e.type);t!==r&&(K(ts,e),K(xt,r))}function ko(e){ts.current===e&&(J(xt),J(ts))}var X=nr(0);function Ni(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ta=[];function So(){for(var e=0;e<Ta.length;e++)Ta[e]._workInProgressVersionPrimary=null;Ta.length=0}var ei=It.ReactCurrentDispatcher,Oa=It.ReactCurrentBatchConfig,br=0,ee=null,le=null,ue=null,_i=!1,Ln=!1,ns=0,Zm=0;function ye(){throw Error(_(321))}function Eo(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!ht(e[r],t[r]))return!1;return!0}function Po(e,t,r,n,s,a){if(br=a,ee=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ei.current=e===null||e.memoizedState===null?tp:rp,e=r(n,s),Ln){a=0;do{if(Ln=!1,ns=0,25<=a)throw Error(_(301));a+=1,ue=le=null,t.updateQueue=null,ei.current=np,e=r(n,s)}while(Ln)}if(ei.current=ki,t=le!==null&&le.next!==null,br=0,ue=le=ee=null,_i=!1,t)throw Error(_(300));return e}function To(){var e=ns!==0;return ns=0,e}function mt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ue===null?ee.memoizedState=ue=e:ue=ue.next=e,ue}function rt(){if(le===null){var e=ee.alternate;e=e!==null?e.memoizedState:null}else e=le.next;var t=ue===null?ee.memoizedState:ue.next;if(t!==null)ue=t,le=e;else{if(e===null)throw Error(_(310));le=e,e={memoizedState:le.memoizedState,baseState:le.baseState,baseQueue:le.baseQueue,queue:le.queue,next:null},ue===null?ee.memoizedState=ue=e:ue=ue.next=e}return ue}function ss(e,t){return typeof t=="function"?t(e):t}function Ia(e){var t=rt(),r=t.queue;if(r===null)throw Error(_(311));r.lastRenderedReducer=e;var n=le,s=n.baseQueue,a=r.pending;if(a!==null){if(s!==null){var l=s.next;s.next=a.next,a.next=l}n.baseQueue=s=a,r.pending=null}if(s!==null){a=s.next,n=n.baseState;var o=l=null,c=null,u=a;do{var d=u.lane;if((br&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(o=c=h,l=n):c=c.next=h,ee.lanes|=d,jr|=d}u=u.next}while(u!==null&&u!==a);c===null?l=n:c.next=o,ht(n,t.memoizedState)||(De=!0),t.memoizedState=n,t.baseState=l,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do a=s.lane,ee.lanes|=a,jr|=a,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Ra(e){var t=rt(),r=t.queue;if(r===null)throw Error(_(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,a=t.memoizedState;if(s!==null){r.pending=null;var l=s=s.next;do a=e(a,l.action),l=l.next;while(l!==s);ht(a,t.memoizedState)||(De=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),r.lastRenderedState=a}return[a,n]}function th(){}function rh(e,t){var r=ee,n=rt(),s=t(),a=!ht(n.memoizedState,s);if(a&&(n.memoizedState=s,De=!0),n=n.queue,Oo(ih.bind(null,r,n,e),[e]),n.getSnapshot!==t||a||ue!==null&&ue.memoizedState.tag&1){if(r.flags|=2048,is(9,sh.bind(null,r,n,s,t),void 0,null),de===null)throw Error(_(349));br&30||nh(r,t,s)}return s}function nh(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=ee.updateQueue,t===null?(t={lastEffect:null,stores:null},ee.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function sh(e,t,r,n){t.value=r,t.getSnapshot=n,ah(t)&&lh(e)}function ih(e,t,r){return r(function(){ah(t)&&lh(e)})}function ah(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!ht(e,r)}catch{return!0}}function lh(e){var t=Pt(e,1);t!==null&&dt(t,e,1,-1)}function Bc(e){var t=mt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ss,lastRenderedState:e},t.queue=e,e=e.dispatch=ep.bind(null,ee,e),[t.memoizedState,e]}function is(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=ee.updateQueue,t===null?(t={lastEffect:null,stores:null},ee.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function oh(){return rt().memoizedState}function ti(e,t,r,n){var s=mt();ee.flags|=e,s.memoizedState=is(1|t,r,void 0,n===void 0?null:n)}function qi(e,t,r,n){var s=rt();n=n===void 0?null:n;var a=void 0;if(le!==null){var l=le.memoizedState;if(a=l.destroy,n!==null&&Eo(n,l.deps)){s.memoizedState=is(t,r,a,n);return}}ee.flags|=e,s.memoizedState=is(1|t,r,a,n)}function Hc(e,t){return ti(8390656,8,e,t)}function Oo(e,t){return qi(2048,8,e,t)}function ch(e,t){return qi(4,2,e,t)}function uh(e,t){return qi(4,4,e,t)}function dh(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function hh(e,t,r){return r=r!=null?r.concat([e]):null,qi(4,4,dh.bind(null,t,e),r)}function Io(){}function fh(e,t){var r=rt();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Eo(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function mh(e,t){var r=rt();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Eo(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function ph(e,t,r){return br&21?(ht(r,t)||(r=wd(),ee.lanes|=r,jr|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,De=!0),e.memoizedState=r)}function Ym(e,t){var r=q;q=r!==0&&4>r?r:4,e(!0);var n=Oa.transition;Oa.transition={};try{e(!1),t()}finally{q=r,Oa.transition=n}}function gh(){return rt().memoizedState}function Xm(e,t,r){var n=Zt(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},xh(e))vh(t,r);else if(r=Yd(e,t,r,n),r!==null){var s=Ee();dt(r,e,n,s),yh(r,t,n)}}function ep(e,t,r){var n=Zt(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(xh(e))vh(t,s);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var l=t.lastRenderedState,o=a(l,r);if(s.hasEagerState=!0,s.eagerState=o,ht(o,l)){var c=t.interleaved;c===null?(s.next=s,Co(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}r=Yd(e,t,s,n),r!==null&&(s=Ee(),dt(r,e,n,s),yh(r,t,n))}}function xh(e){var t=e.alternate;return e===ee||t!==null&&t===ee}function vh(e,t){Ln=_i=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function yh(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,oo(e,r)}}var ki={readContext:tt,useCallback:ye,useContext:ye,useEffect:ye,useImperativeHandle:ye,useInsertionEffect:ye,useLayoutEffect:ye,useMemo:ye,useReducer:ye,useRef:ye,useState:ye,useDebugValue:ye,useDeferredValue:ye,useTransition:ye,useMutableSource:ye,useSyncExternalStore:ye,useId:ye,unstable_isNewReconciler:!1},tp={readContext:tt,useCallback:function(e,t){return mt().memoizedState=[e,t===void 0?null:t],e},useContext:tt,useEffect:Hc,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,ti(4194308,4,dh.bind(null,t,e),r)},useLayoutEffect:function(e,t){return ti(4194308,4,e,t)},useInsertionEffect:function(e,t){return ti(4,2,e,t)},useMemo:function(e,t){var r=mt();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=mt();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=Xm.bind(null,ee,e),[n.memoizedState,e]},useRef:function(e){var t=mt();return e={current:e},t.memoizedState=e},useState:Bc,useDebugValue:Io,useDeferredValue:function(e){return mt().memoizedState=e},useTransition:function(){var e=Bc(!1),t=e[0];return e=Ym.bind(null,e[1]),mt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=ee,s=mt();if(Z){if(r===void 0)throw Error(_(407));r=r()}else{if(r=t(),de===null)throw Error(_(349));br&30||nh(n,t,r)}s.memoizedState=r;var a={value:r,getSnapshot:t};return s.queue=a,Hc(ih.bind(null,n,a,e),[e]),n.flags|=2048,is(9,sh.bind(null,n,a,r,t),void 0,null),r},useId:function(){var e=mt(),t=de.identifierPrefix;if(Z){var r=_t,n=Nt;r=(n&~(1<<32-ut(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=ns++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=Zm++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},rp={readContext:tt,useCallback:fh,useContext:tt,useEffect:Oo,useImperativeHandle:hh,useInsertionEffect:ch,useLayoutEffect:uh,useMemo:mh,useReducer:Ia,useRef:oh,useState:function(){return Ia(ss)},useDebugValue:Io,useDeferredValue:function(e){var t=rt();return ph(t,le.memoizedState,e)},useTransition:function(){var e=Ia(ss)[0],t=rt().memoizedState;return[e,t]},useMutableSource:th,useSyncExternalStore:rh,useId:gh,unstable_isNewReconciler:!1},np={readContext:tt,useCallback:fh,useContext:tt,useEffect:Oo,useImperativeHandle:hh,useInsertionEffect:ch,useLayoutEffect:uh,useMemo:mh,useReducer:Ra,useRef:oh,useState:function(){return Ra(ss)},useDebugValue:Io,useDeferredValue:function(e){var t=rt();return le===null?t.memoizedState=e:ph(t,le.memoizedState,e)},useTransition:function(){var e=Ra(ss)[0],t=rt().memoizedState;return[e,t]},useMutableSource:th,useSyncExternalStore:rh,useId:gh,unstable_isNewReconciler:!1};function at(e,t){if(e&&e.defaultProps){t=te({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function bl(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:te({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Wi={isMounted:function(e){return(e=e._reactInternals)?_r(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Ee(),s=Zt(e),a=kt(n,s);a.payload=t,r!=null&&(a.callback=r),t=Qt(e,a,s),t!==null&&(dt(t,e,s,n),Xs(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Ee(),s=Zt(e),a=kt(n,s);a.tag=1,a.payload=t,r!=null&&(a.callback=r),t=Qt(e,a,s),t!==null&&(dt(t,e,s,n),Xs(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Ee(),n=Zt(e),s=kt(r,n);s.tag=2,t!=null&&(s.callback=t),t=Qt(e,s,n),t!==null&&(dt(t,e,n,r),Xs(t,e,n))}};function Vc(e,t,r,n,s,a,l){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,a,l):t.prototype&&t.prototype.isPureReactComponent?!Zn(r,n)||!Zn(s,a):!0}function wh(e,t,r){var n=!1,s=er,a=t.contextType;return typeof a=="object"&&a!==null?a=tt(a):(s=Me(t)?yr:Ne.current,n=t.contextTypes,a=(n=n!=null)?tn(e,s):er),t=new t(r,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Wi,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=a),t}function qc(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Wi.enqueueReplaceState(t,t.state,null)}function jl(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},No(e);var a=t.contextType;typeof a=="object"&&a!==null?s.context=tt(a):(a=Me(t)?yr:Ne.current,s.context=tn(e,a)),s.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(bl(e,t,a,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Wi.enqueueReplaceState(s,s.state,null),Ci(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function an(e,t){try{var r="",n=t;do r+=O0(n),n=n.return;while(n);var s=r}catch(a){s=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:s,digest:null}}function $a(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Cl(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var sp=typeof WeakMap=="function"?WeakMap:Map;function bh(e,t,r){r=kt(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Ei||(Ei=!0,Rl=n),Cl(e,t)},r}function jh(e,t,r){r=kt(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){Cl(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){Cl(e,t),typeof n!="function"&&(Jt===null?Jt=new Set([this]):Jt.add(this));var l=t.stack;this.componentDidCatch(t.value,{componentStack:l!==null?l:""})}),r}function Wc(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new sp;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=vp.bind(null,e,t,r),t.then(e,e))}function Gc(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Kc(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=kt(-1,1),t.tag=2,Qt(r,t,1))),r.lanes|=1),e)}var ip=It.ReactCurrentOwner,De=!1;function _e(e,t,r,n){t.child=e===null?Zd(t,null,r,n):nn(t,e.child,r,n)}function Qc(e,t,r,n,s){r=r.render;var a=t.ref;return Zr(t,s),n=Po(e,t,r,n,a,s),r=To(),e!==null&&!De?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Tt(e,t,s)):(Z&&r&&xo(t),t.flags|=1,_e(e,t,n,s),t.child)}function Jc(e,t,r,n,s){if(e===null){var a=r.type;return typeof a=="function"&&!zo(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=a,Ch(e,t,a,n,s)):(e=ii(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&s)){var l=a.memoizedProps;if(r=r.compare,r=r!==null?r:Zn,r(l,n)&&e.ref===t.ref)return Tt(e,t,s)}return t.flags|=1,e=Yt(a,n),e.ref=t.ref,e.return=t,t.child=e}function Ch(e,t,r,n,s){if(e!==null){var a=e.memoizedProps;if(Zn(a,n)&&e.ref===t.ref)if(De=!1,t.pendingProps=n=a,(e.lanes&s)!==0)e.flags&131072&&(De=!0);else return t.lanes=e.lanes,Tt(e,t,s)}return Nl(e,t,r,n,s)}function Nh(e,t,r){var n=t.pendingProps,s=n.children,a=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},K(Wr,Fe),Fe|=r;else{if(!(r&1073741824))return e=a!==null?a.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,K(Wr,Fe),Fe|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,K(Wr,Fe),Fe|=n}else a!==null?(n=a.baseLanes|r,t.memoizedState=null):n=r,K(Wr,Fe),Fe|=n;return _e(e,t,s,r),t.child}function _h(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Nl(e,t,r,n,s){var a=Me(r)?yr:Ne.current;return a=tn(t,a),Zr(t,s),r=Po(e,t,r,n,a,s),n=To(),e!==null&&!De?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Tt(e,t,s)):(Z&&n&&xo(t),t.flags|=1,_e(e,t,r,s),t.child)}function Zc(e,t,r,n,s){if(Me(r)){var a=!0;vi(t)}else a=!1;if(Zr(t,s),t.stateNode===null)ri(e,t),wh(t,r,n),jl(t,r,n,s),n=!0;else if(e===null){var l=t.stateNode,o=t.memoizedProps;l.props=o;var c=l.context,u=r.contextType;typeof u=="object"&&u!==null?u=tt(u):(u=Me(r)?yr:Ne.current,u=tn(t,u));var d=r.getDerivedStateFromProps,h=typeof d=="function"||typeof l.getSnapshotBeforeUpdate=="function";h||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(o!==n||c!==u)&&qc(t,l,n,u),Dt=!1;var m=t.memoizedState;l.state=m,Ci(t,n,l,s),c=t.memoizedState,o!==n||m!==c||Ae.current||Dt?(typeof d=="function"&&(bl(t,r,d,n),c=t.memoizedState),(o=Dt||Vc(t,r,o,n,m,c,u))?(h||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(t.flags|=4194308)):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),l.props=n,l.state=c,l.context=u,n=o):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{l=t.stateNode,Xd(e,t),o=t.memoizedProps,u=t.type===t.elementType?o:at(t.type,o),l.props=u,h=t.pendingProps,m=l.context,c=r.contextType,typeof c=="object"&&c!==null?c=tt(c):(c=Me(r)?yr:Ne.current,c=tn(t,c));var x=r.getDerivedStateFromProps;(d=typeof x=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(o!==h||m!==c)&&qc(t,l,n,c),Dt=!1,m=t.memoizedState,l.state=m,Ci(t,n,l,s);var b=t.memoizedState;o!==h||m!==b||Ae.current||Dt?(typeof x=="function"&&(bl(t,r,x,n),b=t.memoizedState),(u=Dt||Vc(t,r,u,n,m,b,c)||!1)?(d||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(n,b,c),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(n,b,c)),typeof l.componentDidUpdate=="function"&&(t.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof l.componentDidUpdate!="function"||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=b),l.props=n,l.state=b,l.context=c,n=u):(typeof l.componentDidUpdate!="function"||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),n=!1)}return _l(e,t,r,n,a,s)}function _l(e,t,r,n,s,a){_h(e,t);var l=(t.flags&128)!==0;if(!n&&!l)return s&&Dc(t,r,!1),Tt(e,t,a);n=t.stateNode,ip.current=t;var o=l&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&l?(t.child=nn(t,e.child,null,a),t.child=nn(t,null,o,a)):_e(e,t,o,a),t.memoizedState=n.state,s&&Dc(t,r,!0),t.child}function kh(e){var t=e.stateNode;t.pendingContext?Lc(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Lc(e,t.context,!1),_o(e,t.containerInfo)}function Yc(e,t,r,n,s){return rn(),yo(s),t.flags|=256,_e(e,t,r,n),t.child}var kl={dehydrated:null,treeContext:null,retryLane:0};function Sl(e){return{baseLanes:e,cachePool:null,transitions:null}}function Sh(e,t,r){var n=t.pendingProps,s=X.current,a=!1,l=(t.flags&128)!==0,o;if((o=l)||(o=e!==null&&e.memoizedState===null?!1:(s&2)!==0),o?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),K(X,s&1),e===null)return yl(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(l=n.children,e=n.fallback,a?(n=t.mode,a=t.child,l={mode:"hidden",children:l},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=l):a=Qi(l,n,0,null),e=xr(e,n,r,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Sl(r),t.memoizedState=kl,e):Ro(t,l));if(s=e.memoizedState,s!==null&&(o=s.dehydrated,o!==null))return ap(e,t,l,n,o,s,r);if(a){a=n.fallback,l=t.mode,s=e.child,o=s.sibling;var c={mode:"hidden",children:n.children};return!(l&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=Yt(s,c),n.subtreeFlags=s.subtreeFlags&14680064),o!==null?a=Yt(o,a):(a=xr(a,l,r,null),a.flags|=2),a.return=t,n.return=t,n.sibling=a,t.child=n,n=a,a=t.child,l=e.child.memoizedState,l=l===null?Sl(r):{baseLanes:l.baseLanes|r,cachePool:null,transitions:l.transitions},a.memoizedState=l,a.childLanes=e.childLanes&~r,t.memoizedState=kl,n}return a=e.child,e=a.sibling,n=Yt(a,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Ro(e,t){return t=Qi({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ms(e,t,r,n){return n!==null&&yo(n),nn(t,e.child,null,r),e=Ro(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function ap(e,t,r,n,s,a,l){if(r)return t.flags&256?(t.flags&=-257,n=$a(Error(_(422))),Ms(e,t,l,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=n.fallback,s=t.mode,n=Qi({mode:"visible",children:n.children},s,0,null),a=xr(a,s,l,null),a.flags|=2,n.return=t,a.return=t,n.sibling=a,t.child=n,t.mode&1&&nn(t,e.child,null,l),t.child.memoizedState=Sl(l),t.memoizedState=kl,a);if(!(t.mode&1))return Ms(e,t,l,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var o=n.dgst;return n=o,a=Error(_(419)),n=$a(a,n,void 0),Ms(e,t,l,n)}if(o=(l&e.childLanes)!==0,De||o){if(n=de,n!==null){switch(l&-l){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|l)?0:s,s!==0&&s!==a.retryLane&&(a.retryLane=s,Pt(e,s),dt(n,e,s,-1))}return Uo(),n=$a(Error(_(421))),Ms(e,t,l,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=yp.bind(null,e),s._reactRetry=t,null):(e=a.treeContext,Be=Kt(s.nextSibling),He=t,Z=!0,ct=null,e!==null&&(Je[Ze++]=Nt,Je[Ze++]=_t,Je[Ze++]=wr,Nt=e.id,_t=e.overflow,wr=t),t=Ro(t,n.children),t.flags|=4096,t)}function Xc(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),wl(e.return,t,r)}function La(e,t,r,n,s){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=s)}function Eh(e,t,r){var n=t.pendingProps,s=n.revealOrder,a=n.tail;if(_e(e,t,n.children,r),n=X.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Xc(e,r,t);else if(e.tag===19)Xc(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(K(X,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&Ni(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),La(t,!1,s,r,a);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Ni(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}La(t,!0,r,null,a);break;case"together":La(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ri(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Tt(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),jr|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(_(153));if(t.child!==null){for(e=t.child,r=Yt(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Yt(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function lp(e,t,r){switch(t.tag){case 3:kh(t),rn();break;case 5:eh(t);break;case 1:Me(t.type)&&vi(t);break;case 4:_o(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;K(bi,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(K(X,X.current&1),t.flags|=128,null):r&t.child.childLanes?Sh(e,t,r):(K(X,X.current&1),e=Tt(e,t,r),e!==null?e.sibling:null);K(X,X.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return Eh(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),K(X,X.current),n)break;return null;case 22:case 23:return t.lanes=0,Nh(e,t,r)}return Tt(e,t,r)}var Ph,El,Th,Oh;Ph=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};El=function(){};Th=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,mr(xt.current);var a=null;switch(r){case"input":s=Ja(e,s),n=Ja(e,n),a=[];break;case"select":s=te({},s,{value:void 0}),n=te({},n,{value:void 0}),a=[];break;case"textarea":s=Xa(e,s),n=Xa(e,n),a=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=gi)}tl(r,n);var l;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var o=s[u];for(l in o)o.hasOwnProperty(l)&&(r||(r={}),r[l]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Vn.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in n){var c=n[u];if(o=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&c!==o&&(c!=null||o!=null))if(u==="style")if(o){for(l in o)!o.hasOwnProperty(l)||c&&c.hasOwnProperty(l)||(r||(r={}),r[l]="");for(l in c)c.hasOwnProperty(l)&&o[l]!==c[l]&&(r||(r={}),r[l]=c[l])}else r||(a||(a=[]),a.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,o=o?o.__html:void 0,c!=null&&o!==c&&(a=a||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Vn.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Q("scroll",e),a||o===c||(a=[])):(a=a||[]).push(u,c))}r&&(a=a||[]).push("style",r);var u=a;(t.updateQueue=u)&&(t.flags|=4)}};Oh=function(e,t,r,n){r!==n&&(t.flags|=4)};function jn(e,t){if(!Z)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function we(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function op(e,t,r){var n=t.pendingProps;switch(vo(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return we(t),null;case 1:return Me(t.type)&&xi(),we(t),null;case 3:return n=t.stateNode,sn(),J(Ae),J(Ne),So(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Ds(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ct!==null&&(Dl(ct),ct=null))),El(e,t),we(t),null;case 5:ko(t);var s=mr(rs.current);if(r=t.type,e!==null&&t.stateNode!=null)Th(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(_(166));return we(t),null}if(e=mr(xt.current),Ds(t)){n=t.stateNode,r=t.type;var a=t.memoizedProps;switch(n[pt]=t,n[es]=a,e=(t.mode&1)!==0,r){case"dialog":Q("cancel",n),Q("close",n);break;case"iframe":case"object":case"embed":Q("load",n);break;case"video":case"audio":for(s=0;s<En.length;s++)Q(En[s],n);break;case"source":Q("error",n);break;case"img":case"image":case"link":Q("error",n),Q("load",n);break;case"details":Q("toggle",n);break;case"input":oc(n,a),Q("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},Q("invalid",n);break;case"textarea":uc(n,a),Q("invalid",n)}tl(r,a),s=null;for(var l in a)if(a.hasOwnProperty(l)){var o=a[l];l==="children"?typeof o=="string"?n.textContent!==o&&(a.suppressHydrationWarning!==!0&&Ls(n.textContent,o,e),s=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(a.suppressHydrationWarning!==!0&&Ls(n.textContent,o,e),s=["children",""+o]):Vn.hasOwnProperty(l)&&o!=null&&l==="onScroll"&&Q("scroll",n)}switch(r){case"input":Ss(n),cc(n,a,!0);break;case"textarea":Ss(n),dc(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=gi)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{l=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=id(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=l.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=l.createElement(r,{is:n.is}):(e=l.createElement(r),r==="select"&&(l=e,n.multiple?l.multiple=!0:n.size&&(l.size=n.size))):e=l.createElementNS(e,r),e[pt]=t,e[es]=n,Ph(e,t,!1,!1),t.stateNode=e;e:{switch(l=rl(r,n),r){case"dialog":Q("cancel",e),Q("close",e),s=n;break;case"iframe":case"object":case"embed":Q("load",e),s=n;break;case"video":case"audio":for(s=0;s<En.length;s++)Q(En[s],e);s=n;break;case"source":Q("error",e),s=n;break;case"img":case"image":case"link":Q("error",e),Q("load",e),s=n;break;case"details":Q("toggle",e),s=n;break;case"input":oc(e,n),s=Ja(e,n),Q("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=te({},n,{value:void 0}),Q("invalid",e);break;case"textarea":uc(e,n),s=Xa(e,n),Q("invalid",e);break;default:s=n}tl(r,s),o=s;for(a in o)if(o.hasOwnProperty(a)){var c=o[a];a==="style"?od(e,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&ad(e,c)):a==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&qn(e,c):typeof c=="number"&&qn(e,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Vn.hasOwnProperty(a)?c!=null&&a==="onScroll"&&Q("scroll",e):c!=null&&ro(e,a,c,l))}switch(r){case"input":Ss(e),cc(e,n,!1);break;case"textarea":Ss(e),dc(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Xt(n.value));break;case"select":e.multiple=!!n.multiple,a=n.value,a!=null?Gr(e,!!n.multiple,a,!1):n.defaultValue!=null&&Gr(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=gi)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return we(t),null;case 6:if(e&&t.stateNode!=null)Oh(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(_(166));if(r=mr(rs.current),mr(xt.current),Ds(t)){if(n=t.stateNode,r=t.memoizedProps,n[pt]=t,(a=n.nodeValue!==r)&&(e=He,e!==null))switch(e.tag){case 3:Ls(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ls(n.nodeValue,r,(e.mode&1)!==0)}a&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[pt]=t,t.stateNode=n}return we(t),null;case 13:if(J(X),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Z&&Be!==null&&t.mode&1&&!(t.flags&128))Qd(),rn(),t.flags|=98560,a=!1;else if(a=Ds(t),n!==null&&n.dehydrated!==null){if(e===null){if(!a)throw Error(_(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(_(317));a[pt]=t}else rn(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;we(t),a=!1}else ct!==null&&(Dl(ct),ct=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||X.current&1?oe===0&&(oe=3):Uo())),t.updateQueue!==null&&(t.flags|=4),we(t),null);case 4:return sn(),El(e,t),e===null&&Yn(t.stateNode.containerInfo),we(t),null;case 10:return jo(t.type._context),we(t),null;case 17:return Me(t.type)&&xi(),we(t),null;case 19:if(J(X),a=t.memoizedState,a===null)return we(t),null;if(n=(t.flags&128)!==0,l=a.rendering,l===null)if(n)jn(a,!1);else{if(oe!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(l=Ni(e),l!==null){for(t.flags|=128,jn(a,!1),n=l.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)a=r,e=n,a.flags&=14680066,l=a.alternate,l===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,e=l.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return K(X,X.current&1|2),t.child}e=e.sibling}a.tail!==null&&se()>ln&&(t.flags|=128,n=!0,jn(a,!1),t.lanes=4194304)}else{if(!n)if(e=Ni(l),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),jn(a,!0),a.tail===null&&a.tailMode==="hidden"&&!l.alternate&&!Z)return we(t),null}else 2*se()-a.renderingStartTime>ln&&r!==1073741824&&(t.flags|=128,n=!0,jn(a,!1),t.lanes=4194304);a.isBackwards?(l.sibling=t.child,t.child=l):(r=a.last,r!==null?r.sibling=l:t.child=l,a.last=l)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=se(),t.sibling=null,r=X.current,K(X,n?r&1|2:r&1),t):(we(t),null);case 22:case 23:return Mo(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Fe&1073741824&&(we(t),t.subtreeFlags&6&&(t.flags|=8192)):we(t),null;case 24:return null;case 25:return null}throw Error(_(156,t.tag))}function cp(e,t){switch(vo(t),t.tag){case 1:return Me(t.type)&&xi(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return sn(),J(Ae),J(Ne),So(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return ko(t),null;case 13:if(J(X),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(_(340));rn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return J(X),null;case 4:return sn(),null;case 10:return jo(t.type._context),null;case 22:case 23:return Mo(),null;case 24:return null;default:return null}}var Us=!1,Ce=!1,up=typeof WeakSet=="function"?WeakSet:Set,P=null;function qr(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){re(e,t,n)}else r.current=null}function Pl(e,t,r){try{r()}catch(n){re(e,t,n)}}var eu=!1;function dp(e,t){if(hl=fi,e=Dd(),go(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var l=0,o=-1,c=-1,u=0,d=0,h=e,m=null;t:for(;;){for(var x;h!==r||s!==0&&h.nodeType!==3||(o=l+s),h!==a||n!==0&&h.nodeType!==3||(c=l+n),h.nodeType===3&&(l+=h.nodeValue.length),(x=h.firstChild)!==null;)m=h,h=x;for(;;){if(h===e)break t;if(m===r&&++u===s&&(o=l),m===a&&++d===n&&(c=l),(x=h.nextSibling)!==null)break;h=m,m=h.parentNode}h=x}r=o===-1||c===-1?null:{start:o,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(fl={focusedElem:e,selectionRange:r},fi=!1,P=t;P!==null;)if(t=P,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,P=e;else for(;P!==null;){t=P;try{var b=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var w=b.memoizedProps,y=b.memoizedState,f=t.stateNode,g=f.getSnapshotBeforeUpdate(t.elementType===t.type?w:at(t.type,w),y);f.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var p=t.stateNode.containerInfo;p.nodeType===1?p.textContent="":p.nodeType===9&&p.documentElement&&p.removeChild(p.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(_(163))}}catch(j){re(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,P=e;break}P=t.return}return b=eu,eu=!1,b}function Dn(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var a=s.destroy;s.destroy=void 0,a!==void 0&&Pl(t,r,a)}s=s.next}while(s!==n)}}function Gi(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Tl(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Ih(e){var t=e.alternate;t!==null&&(e.alternate=null,Ih(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[pt],delete t[es],delete t[gl],delete t[Gm],delete t[Km])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Rh(e){return e.tag===5||e.tag===3||e.tag===4}function tu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Rh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ol(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=gi));else if(n!==4&&(e=e.child,e!==null))for(Ol(e,t,r),e=e.sibling;e!==null;)Ol(e,t,r),e=e.sibling}function Il(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Il(e,t,r),e=e.sibling;e!==null;)Il(e,t,r),e=e.sibling}var me=null,lt=!1;function Rt(e,t,r){for(r=r.child;r!==null;)$h(e,t,r),r=r.sibling}function $h(e,t,r){if(gt&&typeof gt.onCommitFiberUnmount=="function")try{gt.onCommitFiberUnmount(Ui,r)}catch{}switch(r.tag){case 5:Ce||qr(r,t);case 6:var n=me,s=lt;me=null,Rt(e,t,r),me=n,lt=s,me!==null&&(lt?(e=me,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):me.removeChild(r.stateNode));break;case 18:me!==null&&(lt?(e=me,r=r.stateNode,e.nodeType===8?Ea(e.parentNode,r):e.nodeType===1&&Ea(e,r),Qn(e)):Ea(me,r.stateNode));break;case 4:n=me,s=lt,me=r.stateNode.containerInfo,lt=!0,Rt(e,t,r),me=n,lt=s;break;case 0:case 11:case 14:case 15:if(!Ce&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var a=s,l=a.destroy;a=a.tag,l!==void 0&&(a&2||a&4)&&Pl(r,t,l),s=s.next}while(s!==n)}Rt(e,t,r);break;case 1:if(!Ce&&(qr(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){re(r,t,o)}Rt(e,t,r);break;case 21:Rt(e,t,r);break;case 22:r.mode&1?(Ce=(n=Ce)||r.memoizedState!==null,Rt(e,t,r),Ce=n):Rt(e,t,r);break;default:Rt(e,t,r)}}function ru(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new up),t.forEach(function(n){var s=wp.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function st(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var a=e,l=t,o=l;e:for(;o!==null;){switch(o.tag){case 5:me=o.stateNode,lt=!1;break e;case 3:me=o.stateNode.containerInfo,lt=!0;break e;case 4:me=o.stateNode.containerInfo,lt=!0;break e}o=o.return}if(me===null)throw Error(_(160));$h(a,l,s),me=null,lt=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){re(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Lh(t,e),t=t.sibling}function Lh(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(st(t,e),ft(e),n&4){try{Dn(3,e,e.return),Gi(3,e)}catch(w){re(e,e.return,w)}try{Dn(5,e,e.return)}catch(w){re(e,e.return,w)}}break;case 1:st(t,e),ft(e),n&512&&r!==null&&qr(r,r.return);break;case 5:if(st(t,e),ft(e),n&512&&r!==null&&qr(r,r.return),e.flags&32){var s=e.stateNode;try{qn(s,"")}catch(w){re(e,e.return,w)}}if(n&4&&(s=e.stateNode,s!=null)){var a=e.memoizedProps,l=r!==null?r.memoizedProps:a,o=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{o==="input"&&a.type==="radio"&&a.name!=null&&nd(s,a),rl(o,l);var u=rl(o,a);for(l=0;l<c.length;l+=2){var d=c[l],h=c[l+1];d==="style"?od(s,h):d==="dangerouslySetInnerHTML"?ad(s,h):d==="children"?qn(s,h):ro(s,d,h,u)}switch(o){case"input":Za(s,a);break;case"textarea":sd(s,a);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!a.multiple;var x=a.value;x!=null?Gr(s,!!a.multiple,x,!1):m!==!!a.multiple&&(a.defaultValue!=null?Gr(s,!!a.multiple,a.defaultValue,!0):Gr(s,!!a.multiple,a.multiple?[]:"",!1))}s[es]=a}catch(w){re(e,e.return,w)}}break;case 6:if(st(t,e),ft(e),n&4){if(e.stateNode===null)throw Error(_(162));s=e.stateNode,a=e.memoizedProps;try{s.nodeValue=a}catch(w){re(e,e.return,w)}}break;case 3:if(st(t,e),ft(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Qn(t.containerInfo)}catch(w){re(e,e.return,w)}break;case 4:st(t,e),ft(e);break;case 13:st(t,e),ft(e),s=e.child,s.flags&8192&&(a=s.memoizedState!==null,s.stateNode.isHidden=a,!a||s.alternate!==null&&s.alternate.memoizedState!==null||(Do=se())),n&4&&ru(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(Ce=(u=Ce)||d,st(t,e),Ce=u):st(t,e),ft(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(P=e,d=e.child;d!==null;){for(h=P=d;P!==null;){switch(m=P,x=m.child,m.tag){case 0:case 11:case 14:case 15:Dn(4,m,m.return);break;case 1:qr(m,m.return);var b=m.stateNode;if(typeof b.componentWillUnmount=="function"){n=m,r=m.return;try{t=n,b.props=t.memoizedProps,b.state=t.memoizedState,b.componentWillUnmount()}catch(w){re(n,r,w)}}break;case 5:qr(m,m.return);break;case 22:if(m.memoizedState!==null){su(h);continue}}x!==null?(x.return=m,P=x):su(h)}d=d.sibling}e:for(d=null,h=e;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,u?(a=s.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(o=h.stateNode,c=h.memoizedProps.style,l=c!=null&&c.hasOwnProperty("display")?c.display:null,o.style.display=ld("display",l))}catch(w){re(e,e.return,w)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(w){re(e,e.return,w)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:st(t,e),ft(e),n&4&&ru(e);break;case 21:break;default:st(t,e),ft(e)}}function ft(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Rh(r)){var n=r;break e}r=r.return}throw Error(_(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(qn(s,""),n.flags&=-33);var a=tu(e);Il(e,a,s);break;case 3:case 4:var l=n.stateNode.containerInfo,o=tu(e);Ol(e,o,l);break;default:throw Error(_(161))}}catch(c){re(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function hp(e,t,r){P=e,Dh(e)}function Dh(e,t,r){for(var n=(e.mode&1)!==0;P!==null;){var s=P,a=s.child;if(s.tag===22&&n){var l=s.memoizedState!==null||Us;if(!l){var o=s.alternate,c=o!==null&&o.memoizedState!==null||Ce;o=Us;var u=Ce;if(Us=l,(Ce=c)&&!u)for(P=s;P!==null;)l=P,c=l.child,l.tag===22&&l.memoizedState!==null?iu(s):c!==null?(c.return=l,P=c):iu(s);for(;a!==null;)P=a,Dh(a),a=a.sibling;P=s,Us=o,Ce=u}nu(e)}else s.subtreeFlags&8772&&a!==null?(a.return=s,P=a):nu(e)}}function nu(e){for(;P!==null;){var t=P;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ce||Gi(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Ce)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:at(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&Fc(t,a,n);break;case 3:var l=t.updateQueue;if(l!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Fc(t,l,r)}break;case 5:var o=t.stateNode;if(r===null&&t.flags&4){r=o;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Qn(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(_(163))}Ce||t.flags&512&&Tl(t)}catch(m){re(t,t.return,m)}}if(t===e){P=null;break}if(r=t.sibling,r!==null){r.return=t.return,P=r;break}P=t.return}}function su(e){for(;P!==null;){var t=P;if(t===e){P=null;break}var r=t.sibling;if(r!==null){r.return=t.return,P=r;break}P=t.return}}function iu(e){for(;P!==null;){var t=P;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Gi(4,t)}catch(c){re(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(c){re(t,s,c)}}var a=t.return;try{Tl(t)}catch(c){re(t,a,c)}break;case 5:var l=t.return;try{Tl(t)}catch(c){re(t,l,c)}}}catch(c){re(t,t.return,c)}if(t===e){P=null;break}var o=t.sibling;if(o!==null){o.return=t.return,P=o;break}P=t.return}}var fp=Math.ceil,Si=It.ReactCurrentDispatcher,$o=It.ReactCurrentOwner,Xe=It.ReactCurrentBatchConfig,B=0,de=null,ie=null,pe=0,Fe=0,Wr=nr(0),oe=0,as=null,jr=0,Ki=0,Lo=0,An=null,$e=null,Do=0,ln=1/0,bt=null,Ei=!1,Rl=null,Jt=null,zs=!1,Ht=null,Pi=0,Mn=0,$l=null,ni=-1,si=0;function Ee(){return B&6?se():ni!==-1?ni:ni=se()}function Zt(e){return e.mode&1?B&2&&pe!==0?pe&-pe:Jm.transition!==null?(si===0&&(si=wd()),si):(e=q,e!==0||(e=window.event,e=e===void 0?16:Sd(e.type)),e):1}function dt(e,t,r,n){if(50<Mn)throw Mn=0,$l=null,Error(_(185));fs(e,r,n),(!(B&2)||e!==de)&&(e===de&&(!(B&2)&&(Ki|=r),oe===4&&Ut(e,pe)),Ue(e,n),r===1&&B===0&&!(t.mode&1)&&(ln=se()+500,Vi&&sr()))}function Ue(e,t){var r=e.callbackNode;J0(e,t);var n=hi(e,e===de?pe:0);if(n===0)r!==null&&mc(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&mc(r),t===1)e.tag===0?Qm(au.bind(null,e)):Wd(au.bind(null,e)),qm(function(){!(B&6)&&sr()}),r=null;else{switch(bd(n)){case 1:r=lo;break;case 4:r=vd;break;case 16:r=di;break;case 536870912:r=yd;break;default:r=di}r=Vh(r,Ah.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Ah(e,t){if(ni=-1,si=0,B&6)throw Error(_(327));var r=e.callbackNode;if(Yr()&&e.callbackNode!==r)return null;var n=hi(e,e===de?pe:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Ti(e,n);else{t=n;var s=B;B|=2;var a=Uh();(de!==e||pe!==t)&&(bt=null,ln=se()+500,gr(e,t));do try{gp();break}catch(o){Mh(e,o)}while(!0);bo(),Si.current=a,B=s,ie!==null?t=0:(de=null,pe=0,t=oe)}if(t!==0){if(t===2&&(s=ll(e),s!==0&&(n=s,t=Ll(e,s))),t===1)throw r=as,gr(e,0),Ut(e,n),Ue(e,se()),r;if(t===6)Ut(e,n);else{if(s=e.current.alternate,!(n&30)&&!mp(s)&&(t=Ti(e,n),t===2&&(a=ll(e),a!==0&&(n=a,t=Ll(e,a))),t===1))throw r=as,gr(e,0),Ut(e,n),Ue(e,se()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(_(345));case 2:cr(e,$e,bt);break;case 3:if(Ut(e,n),(n&130023424)===n&&(t=Do+500-se(),10<t)){if(hi(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){Ee(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=pl(cr.bind(null,e,$e,bt),t);break}cr(e,$e,bt);break;case 4:if(Ut(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var l=31-ut(n);a=1<<l,l=t[l],l>s&&(s=l),n&=~a}if(n=s,n=se()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*fp(n/1960))-n,10<n){e.timeoutHandle=pl(cr.bind(null,e,$e,bt),n);break}cr(e,$e,bt);break;case 5:cr(e,$e,bt);break;default:throw Error(_(329))}}}return Ue(e,se()),e.callbackNode===r?Ah.bind(null,e):null}function Ll(e,t){var r=An;return e.current.memoizedState.isDehydrated&&(gr(e,t).flags|=256),e=Ti(e,t),e!==2&&(t=$e,$e=r,t!==null&&Dl(t)),e}function Dl(e){$e===null?$e=e:$e.push.apply($e,e)}function mp(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],a=s.getSnapshot;s=s.value;try{if(!ht(a(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ut(e,t){for(t&=~Lo,t&=~Ki,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-ut(t),n=1<<r;e[r]=-1,t&=~n}}function au(e){if(B&6)throw Error(_(327));Yr();var t=hi(e,0);if(!(t&1))return Ue(e,se()),null;var r=Ti(e,t);if(e.tag!==0&&r===2){var n=ll(e);n!==0&&(t=n,r=Ll(e,n))}if(r===1)throw r=as,gr(e,0),Ut(e,t),Ue(e,se()),r;if(r===6)throw Error(_(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,cr(e,$e,bt),Ue(e,se()),null}function Ao(e,t){var r=B;B|=1;try{return e(t)}finally{B=r,B===0&&(ln=se()+500,Vi&&sr())}}function Cr(e){Ht!==null&&Ht.tag===0&&!(B&6)&&Yr();var t=B;B|=1;var r=Xe.transition,n=q;try{if(Xe.transition=null,q=1,e)return e()}finally{q=n,Xe.transition=r,B=t,!(B&6)&&sr()}}function Mo(){Fe=Wr.current,J(Wr)}function gr(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,Vm(r)),ie!==null)for(r=ie.return;r!==null;){var n=r;switch(vo(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&xi();break;case 3:sn(),J(Ae),J(Ne),So();break;case 5:ko(n);break;case 4:sn();break;case 13:J(X);break;case 19:J(X);break;case 10:jo(n.type._context);break;case 22:case 23:Mo()}r=r.return}if(de=e,ie=e=Yt(e.current,null),pe=Fe=t,oe=0,as=null,Lo=Ki=jr=0,$e=An=null,fr!==null){for(t=0;t<fr.length;t++)if(r=fr[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,a=r.pending;if(a!==null){var l=a.next;a.next=s,n.next=l}r.pending=n}fr=null}return e}function Mh(e,t){do{var r=ie;try{if(bo(),ei.current=ki,_i){for(var n=ee.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}_i=!1}if(br=0,ue=le=ee=null,Ln=!1,ns=0,$o.current=null,r===null||r.return===null){oe=1,as=t,ie=null;break}e:{var a=e,l=r.return,o=r,c=t;if(t=pe,o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=o,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var x=Gc(l);if(x!==null){x.flags&=-257,Kc(x,l,o,a,t),x.mode&1&&Wc(a,u,t),t=x,c=u;var b=t.updateQueue;if(b===null){var w=new Set;w.add(c),t.updateQueue=w}else b.add(c);break e}else{if(!(t&1)){Wc(a,u,t),Uo();break e}c=Error(_(426))}}else if(Z&&o.mode&1){var y=Gc(l);if(y!==null){!(y.flags&65536)&&(y.flags|=256),Kc(y,l,o,a,t),yo(an(c,o));break e}}a=c=an(c,o),oe!==4&&(oe=2),An===null?An=[a]:An.push(a),a=l;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var f=bh(a,c,t);zc(a,f);break e;case 1:o=c;var g=a.type,p=a.stateNode;if(!(a.flags&128)&&(typeof g.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(Jt===null||!Jt.has(p)))){a.flags|=65536,t&=-t,a.lanes|=t;var j=jh(a,o,t);zc(a,j);break e}}a=a.return}while(a!==null)}Fh(r)}catch(C){t=C,ie===r&&r!==null&&(ie=r=r.return);continue}break}while(!0)}function Uh(){var e=Si.current;return Si.current=ki,e===null?ki:e}function Uo(){(oe===0||oe===3||oe===2)&&(oe=4),de===null||!(jr&268435455)&&!(Ki&268435455)||Ut(de,pe)}function Ti(e,t){var r=B;B|=2;var n=Uh();(de!==e||pe!==t)&&(bt=null,gr(e,t));do try{pp();break}catch(s){Mh(e,s)}while(!0);if(bo(),B=r,Si.current=n,ie!==null)throw Error(_(261));return de=null,pe=0,oe}function pp(){for(;ie!==null;)zh(ie)}function gp(){for(;ie!==null&&!F0();)zh(ie)}function zh(e){var t=Hh(e.alternate,e,Fe);e.memoizedProps=e.pendingProps,t===null?Fh(e):ie=t,$o.current=null}function Fh(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=cp(r,t),r!==null){r.flags&=32767,ie=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{oe=6,ie=null;return}}else if(r=op(r,t,Fe),r!==null){ie=r;return}if(t=t.sibling,t!==null){ie=t;return}ie=t=e}while(t!==null);oe===0&&(oe=5)}function cr(e,t,r){var n=q,s=Xe.transition;try{Xe.transition=null,q=1,xp(e,t,r,n)}finally{Xe.transition=s,q=n}return null}function xp(e,t,r,n){do Yr();while(Ht!==null);if(B&6)throw Error(_(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(_(177));e.callbackNode=null,e.callbackPriority=0;var a=r.lanes|r.childLanes;if(Z0(e,a),e===de&&(ie=de=null,pe=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||zs||(zs=!0,Vh(di,function(){return Yr(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=Xe.transition,Xe.transition=null;var l=q;q=1;var o=B;B|=4,$o.current=null,dp(e,r),Lh(r,e),Am(fl),fi=!!hl,fl=hl=null,e.current=r,hp(r),B0(),B=o,q=l,Xe.transition=a}else e.current=r;if(zs&&(zs=!1,Ht=e,Pi=s),a=e.pendingLanes,a===0&&(Jt=null),q0(r.stateNode),Ue(e,se()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(Ei)throw Ei=!1,e=Rl,Rl=null,e;return Pi&1&&e.tag!==0&&Yr(),a=e.pendingLanes,a&1?e===$l?Mn++:(Mn=0,$l=e):Mn=0,sr(),null}function Yr(){if(Ht!==null){var e=bd(Pi),t=Xe.transition,r=q;try{if(Xe.transition=null,q=16>e?16:e,Ht===null)var n=!1;else{if(e=Ht,Ht=null,Pi=0,B&6)throw Error(_(331));var s=B;for(B|=4,P=e.current;P!==null;){var a=P,l=a.child;if(P.flags&16){var o=a.deletions;if(o!==null){for(var c=0;c<o.length;c++){var u=o[c];for(P=u;P!==null;){var d=P;switch(d.tag){case 0:case 11:case 15:Dn(8,d,a)}var h=d.child;if(h!==null)h.return=d,P=h;else for(;P!==null;){d=P;var m=d.sibling,x=d.return;if(Ih(d),d===u){P=null;break}if(m!==null){m.return=x,P=m;break}P=x}}}var b=a.alternate;if(b!==null){var w=b.child;if(w!==null){b.child=null;do{var y=w.sibling;w.sibling=null,w=y}while(w!==null)}}P=a}}if(a.subtreeFlags&2064&&l!==null)l.return=a,P=l;else e:for(;P!==null;){if(a=P,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Dn(9,a,a.return)}var f=a.sibling;if(f!==null){f.return=a.return,P=f;break e}P=a.return}}var g=e.current;for(P=g;P!==null;){l=P;var p=l.child;if(l.subtreeFlags&2064&&p!==null)p.return=l,P=p;else e:for(l=g;P!==null;){if(o=P,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Gi(9,o)}}catch(C){re(o,o.return,C)}if(o===l){P=null;break e}var j=o.sibling;if(j!==null){j.return=o.return,P=j;break e}P=o.return}}if(B=s,sr(),gt&&typeof gt.onPostCommitFiberRoot=="function")try{gt.onPostCommitFiberRoot(Ui,e)}catch{}n=!0}return n}finally{q=r,Xe.transition=t}}return!1}function lu(e,t,r){t=an(r,t),t=bh(e,t,1),e=Qt(e,t,1),t=Ee(),e!==null&&(fs(e,1,t),Ue(e,t))}function re(e,t,r){if(e.tag===3)lu(e,e,r);else for(;t!==null;){if(t.tag===3){lu(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Jt===null||!Jt.has(n))){e=an(r,e),e=jh(t,e,1),t=Qt(t,e,1),e=Ee(),t!==null&&(fs(t,1,e),Ue(t,e));break}}t=t.return}}function vp(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Ee(),e.pingedLanes|=e.suspendedLanes&r,de===e&&(pe&r)===r&&(oe===4||oe===3&&(pe&130023424)===pe&&500>se()-Do?gr(e,0):Lo|=r),Ue(e,t)}function Bh(e,t){t===0&&(e.mode&1?(t=Ts,Ts<<=1,!(Ts&130023424)&&(Ts=4194304)):t=1);var r=Ee();e=Pt(e,t),e!==null&&(fs(e,t,r),Ue(e,r))}function yp(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Bh(e,r)}function wp(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(_(314))}n!==null&&n.delete(t),Bh(e,r)}var Hh;Hh=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ae.current)De=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return De=!1,lp(e,t,r);De=!!(e.flags&131072)}else De=!1,Z&&t.flags&1048576&&Gd(t,wi,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;ri(e,t),e=t.pendingProps;var s=tn(t,Ne.current);Zr(t,r),s=Po(null,t,n,e,s,r);var a=To();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Me(n)?(a=!0,vi(t)):a=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,No(t),s.updater=Wi,t.stateNode=s,s._reactInternals=t,jl(t,n,e,r),t=_l(null,t,n,!0,a,r)):(t.tag=0,Z&&a&&xo(t),_e(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(ri(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=jp(n),e=at(n,e),s){case 0:t=Nl(null,t,n,e,r);break e;case 1:t=Zc(null,t,n,e,r);break e;case 11:t=Qc(null,t,n,e,r);break e;case 14:t=Jc(null,t,n,at(n.type,e),r);break e}throw Error(_(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:at(n,s),Nl(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:at(n,s),Zc(e,t,n,s,r);case 3:e:{if(kh(t),e===null)throw Error(_(387));n=t.pendingProps,a=t.memoizedState,s=a.element,Xd(e,t),Ci(t,n,null,r);var l=t.memoizedState;if(n=l.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){s=an(Error(_(423)),t),t=Yc(e,t,n,r,s);break e}else if(n!==s){s=an(Error(_(424)),t),t=Yc(e,t,n,r,s);break e}else for(Be=Kt(t.stateNode.containerInfo.firstChild),He=t,Z=!0,ct=null,r=Zd(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(rn(),n===s){t=Tt(e,t,r);break e}_e(e,t,n,r)}t=t.child}return t;case 5:return eh(t),e===null&&yl(t),n=t.type,s=t.pendingProps,a=e!==null?e.memoizedProps:null,l=s.children,ml(n,s)?l=null:a!==null&&ml(n,a)&&(t.flags|=32),_h(e,t),_e(e,t,l,r),t.child;case 6:return e===null&&yl(t),null;case 13:return Sh(e,t,r);case 4:return _o(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=nn(t,null,n,r):_e(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:at(n,s),Qc(e,t,n,s,r);case 7:return _e(e,t,t.pendingProps,r),t.child;case 8:return _e(e,t,t.pendingProps.children,r),t.child;case 12:return _e(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,a=t.memoizedProps,l=s.value,K(bi,n._currentValue),n._currentValue=l,a!==null)if(ht(a.value,l)){if(a.children===s.children&&!Ae.current){t=Tt(e,t,r);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var o=a.dependencies;if(o!==null){l=a.child;for(var c=o.firstContext;c!==null;){if(c.context===n){if(a.tag===1){c=kt(-1,r&-r),c.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=r,c=a.alternate,c!==null&&(c.lanes|=r),wl(a.return,r,t),o.lanes|=r;break}c=c.next}}else if(a.tag===10)l=a.type===t.type?null:a.child;else if(a.tag===18){if(l=a.return,l===null)throw Error(_(341));l.lanes|=r,o=l.alternate,o!==null&&(o.lanes|=r),wl(l,r,t),l=a.sibling}else l=a.child;if(l!==null)l.return=a;else for(l=a;l!==null;){if(l===t){l=null;break}if(a=l.sibling,a!==null){a.return=l.return,l=a;break}l=l.return}a=l}_e(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,Zr(t,r),s=tt(s),n=n(s),t.flags|=1,_e(e,t,n,r),t.child;case 14:return n=t.type,s=at(n,t.pendingProps),s=at(n.type,s),Jc(e,t,n,s,r);case 15:return Ch(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:at(n,s),ri(e,t),t.tag=1,Me(n)?(e=!0,vi(t)):e=!1,Zr(t,r),wh(t,n,s),jl(t,n,s,r),_l(null,t,n,!0,e,r);case 19:return Eh(e,t,r);case 22:return Nh(e,t,r)}throw Error(_(156,t.tag))};function Vh(e,t){return xd(e,t)}function bp(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ye(e,t,r,n){return new bp(e,t,r,n)}function zo(e){return e=e.prototype,!(!e||!e.isReactComponent)}function jp(e){if(typeof e=="function")return zo(e)?1:0;if(e!=null){if(e=e.$$typeof,e===so)return 11;if(e===io)return 14}return 2}function Yt(e,t){var r=e.alternate;return r===null?(r=Ye(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function ii(e,t,r,n,s,a){var l=2;if(n=e,typeof e=="function")zo(e)&&(l=1);else if(typeof e=="string")l=5;else e:switch(e){case Dr:return xr(r.children,s,a,t);case no:l=8,s|=8;break;case Wa:return e=Ye(12,r,t,s|2),e.elementType=Wa,e.lanes=a,e;case Ga:return e=Ye(13,r,t,s),e.elementType=Ga,e.lanes=a,e;case Ka:return e=Ye(19,r,t,s),e.elementType=Ka,e.lanes=a,e;case ed:return Qi(r,s,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Yu:l=10;break e;case Xu:l=9;break e;case so:l=11;break e;case io:l=14;break e;case Lt:l=16,n=null;break e}throw Error(_(130,e==null?e:typeof e,""))}return t=Ye(l,r,t,s),t.elementType=e,t.type=n,t.lanes=a,t}function xr(e,t,r,n){return e=Ye(7,e,n,t),e.lanes=r,e}function Qi(e,t,r,n){return e=Ye(22,e,n,t),e.elementType=ed,e.lanes=r,e.stateNode={isHidden:!1},e}function Da(e,t,r){return e=Ye(6,e,null,t),e.lanes=r,e}function Aa(e,t,r){return t=Ye(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Cp(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=xa(0),this.expirationTimes=xa(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xa(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Fo(e,t,r,n,s,a,l,o,c){return e=new Cp(e,t,r,o,c),t===1?(t=1,a===!0&&(t|=8)):t=0,a=Ye(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},No(a),e}function Np(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Lr,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function qh(e){if(!e)return er;e=e._reactInternals;e:{if(_r(e)!==e||e.tag!==1)throw Error(_(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Me(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(_(171))}if(e.tag===1){var r=e.type;if(Me(r))return qd(e,r,t)}return t}function Wh(e,t,r,n,s,a,l,o,c){return e=Fo(r,n,!0,e,s,a,l,o,c),e.context=qh(null),r=e.current,n=Ee(),s=Zt(r),a=kt(n,s),a.callback=t??null,Qt(r,a,s),e.current.lanes=s,fs(e,s,n),Ue(e,n),e}function Ji(e,t,r,n){var s=t.current,a=Ee(),l=Zt(s);return r=qh(r),t.context===null?t.context=r:t.pendingContext=r,t=kt(a,l),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Qt(s,t,l),e!==null&&(dt(e,s,l,a),Xs(e,s,l)),l}function Oi(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function ou(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Bo(e,t){ou(e,t),(e=e.alternate)&&ou(e,t)}function _p(){return null}var Gh=typeof reportError=="function"?reportError:function(e){console.error(e)};function Ho(e){this._internalRoot=e}Zi.prototype.render=Ho.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(_(409));Ji(e,t,null,null)};Zi.prototype.unmount=Ho.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Cr(function(){Ji(null,e,null,null)}),t[Et]=null}};function Zi(e){this._internalRoot=e}Zi.prototype.unstable_scheduleHydration=function(e){if(e){var t=Nd();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Mt.length&&t!==0&&t<Mt[r].priority;r++);Mt.splice(r,0,e),r===0&&kd(e)}};function Vo(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Yi(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function cu(){}function kp(e,t,r,n,s){if(s){if(typeof n=="function"){var a=n;n=function(){var u=Oi(l);a.call(u)}}var l=Wh(t,n,e,0,null,!1,!1,"",cu);return e._reactRootContainer=l,e[Et]=l.current,Yn(e.nodeType===8?e.parentNode:e),Cr(),l}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var o=n;n=function(){var u=Oi(c);o.call(u)}}var c=Fo(e,0,!1,null,null,!1,!1,"",cu);return e._reactRootContainer=c,e[Et]=c.current,Yn(e.nodeType===8?e.parentNode:e),Cr(function(){Ji(t,c,r,n)}),c}function Xi(e,t,r,n,s){var a=r._reactRootContainer;if(a){var l=a;if(typeof s=="function"){var o=s;s=function(){var c=Oi(l);o.call(c)}}Ji(t,l,e,s)}else l=kp(r,t,e,s,n);return Oi(l)}jd=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Sn(t.pendingLanes);r!==0&&(oo(t,r|1),Ue(t,se()),!(B&6)&&(ln=se()+500,sr()))}break;case 13:Cr(function(){var n=Pt(e,1);if(n!==null){var s=Ee();dt(n,e,1,s)}}),Bo(e,1)}};co=function(e){if(e.tag===13){var t=Pt(e,134217728);if(t!==null){var r=Ee();dt(t,e,134217728,r)}Bo(e,134217728)}};Cd=function(e){if(e.tag===13){var t=Zt(e),r=Pt(e,t);if(r!==null){var n=Ee();dt(r,e,t,n)}Bo(e,t)}};Nd=function(){return q};_d=function(e,t){var r=q;try{return q=e,t()}finally{q=r}};sl=function(e,t,r){switch(t){case"input":if(Za(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=Hi(n);if(!s)throw Error(_(90));rd(n),Za(n,s)}}}break;case"textarea":sd(e,r);break;case"select":t=r.value,t!=null&&Gr(e,!!r.multiple,t,!1)}};dd=Ao;hd=Cr;var Sp={usingClientEntryPoint:!1,Events:[ps,zr,Hi,cd,ud,Ao]},Cn={findFiberByHostInstance:hr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Ep={bundleType:Cn.bundleType,version:Cn.version,rendererPackageName:Cn.rendererPackageName,rendererConfig:Cn.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:It.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=pd(e),e===null?null:e.stateNode},findFiberByHostInstance:Cn.findFiberByHostInstance||_p,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Fs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fs.isDisabled&&Fs.supportsFiber)try{Ui=Fs.inject(Ep),gt=Fs}catch{}}qe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Sp;qe.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Vo(t))throw Error(_(200));return Np(e,t,null,r)};qe.createRoot=function(e,t){if(!Vo(e))throw Error(_(299));var r=!1,n="",s=Gh;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Fo(e,1,!1,null,null,r,!1,n,s),e[Et]=t.current,Yn(e.nodeType===8?e.parentNode:e),new Ho(t)};qe.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(_(188)):(e=Object.keys(e).join(","),Error(_(268,e)));return e=pd(t),e=e===null?null:e.stateNode,e};qe.flushSync=function(e){return Cr(e)};qe.hydrate=function(e,t,r){if(!Yi(t))throw Error(_(200));return Xi(null,e,t,!0,r)};qe.hydrateRoot=function(e,t,r){if(!Vo(e))throw Error(_(405));var n=r!=null&&r.hydratedSources||null,s=!1,a="",l=Gh;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(l=r.onRecoverableError)),t=Wh(t,null,e,1,r??null,s,!1,a,l),e[Et]=t.current,Yn(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new Zi(t)};qe.render=function(e,t,r){if(!Yi(t))throw Error(_(200));return Xi(null,e,t,!1,r)};qe.unmountComponentAtNode=function(e){if(!Yi(e))throw Error(_(40));return e._reactRootContainer?(Cr(function(){Xi(null,null,e,!1,function(){e._reactRootContainer=null,e[Et]=null})}),!0):!1};qe.unstable_batchedUpdates=Ao;qe.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Yi(r))throw Error(_(200));if(e==null||e._reactInternals===void 0)throw Error(_(38));return Xi(e,t,r,!1,n)};qe.version="18.3.1-next-f1338f8080-20240426";function Kh(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Kh)}catch(e){console.error(e)}}Kh(),Ku.exports=qe;var Pp=Ku.exports,Qh,uu=Pp;Qh=uu.createRoot,uu.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ls(){return ls=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ls.apply(this,arguments)}var Vt;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Vt||(Vt={}));const du="popstate";function Tp(e){e===void 0&&(e={});function t(n,s){let{pathname:a,search:l,hash:o}=n.location;return Al("",{pathname:a,search:l,hash:o},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:Zh(s)}return Ip(t,r,null,e)}function ae(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Jh(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Op(){return Math.random().toString(36).substr(2,8)}function hu(e,t){return{usr:e.state,key:e.key,idx:t}}function Al(e,t,r,n){return r===void 0&&(r=null),ls({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?hn(t):t,{state:r,key:t&&t.key||n||Op()})}function Zh(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function hn(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function Ip(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:a=!1}=n,l=s.history,o=Vt.Pop,c=null,u=d();u==null&&(u=0,l.replaceState(ls({},l.state,{idx:u}),""));function d(){return(l.state||{idx:null}).idx}function h(){o=Vt.Pop;let y=d(),f=y==null?null:y-u;u=y,c&&c({action:o,location:w.location,delta:f})}function m(y,f){o=Vt.Push;let g=Al(w.location,y,f);u=d()+1;let p=hu(g,u),j=w.createHref(g);try{l.pushState(p,"",j)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;s.location.assign(j)}a&&c&&c({action:o,location:w.location,delta:1})}function x(y,f){o=Vt.Replace;let g=Al(w.location,y,f);u=d();let p=hu(g,u),j=w.createHref(g);l.replaceState(p,"",j),a&&c&&c({action:o,location:w.location,delta:0})}function b(y){let f=s.location.origin!=="null"?s.location.origin:s.location.href,g=typeof y=="string"?y:Zh(y);return g=g.replace(/ $/,"%20"),ae(f,"No window.location.(origin|href) available to create URL for href: "+g),new URL(g,f)}let w={get action(){return o},get location(){return e(s,l)},listen(y){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(du,h),c=y,()=>{s.removeEventListener(du,h),c=null}},createHref(y){return t(s,y)},createURL:b,encodeLocation(y){let f=b(y);return{pathname:f.pathname,search:f.search,hash:f.hash}},push:m,replace:x,go(y){return l.go(y)}};return w}var fu;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(fu||(fu={}));function Rp(e,t,r){return r===void 0&&(r="/"),$p(e,t,r,!1)}function $p(e,t,r,n){let s=typeof t=="string"?hn(t):t,a=ef(s.pathname||"/",r);if(a==null)return null;let l=Yh(e);Lp(l);let o=null;for(let c=0;o==null&&c<l.length;++c){let u=Wp(a);o=Vp(l[c],u,n)}return o}function Yh(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(a,l,o)=>{let c={relativePath:o===void 0?a.path||"":o,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};c.relativePath.startsWith("/")&&(ae(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=vr([n,c.relativePath]),d=r.concat(c);a.children&&a.children.length>0&&(ae(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Yh(a.children,t,d,u)),!(a.path==null&&!a.index)&&t.push({path:u,score:Bp(u,a.index),routesMeta:d})};return e.forEach((a,l)=>{var o;if(a.path===""||!((o=a.path)!=null&&o.includes("?")))s(a,l);else for(let c of Xh(a.path))s(a,l,c)}),t}function Xh(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return s?[a,""]:[a];let l=Xh(n.join("/")),o=[];return o.push(...l.map(c=>c===""?a:[a,c].join("/"))),s&&o.push(...l),o.map(c=>e.startsWith("/")&&c===""?"/":c)}function Lp(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:Hp(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const Dp=/^:[\w-]+$/,Ap=3,Mp=2,Up=1,zp=10,Fp=-2,mu=e=>e==="*";function Bp(e,t){let r=e.split("/"),n=r.length;return r.some(mu)&&(n+=Fp),t&&(n+=Mp),r.filter(s=>!mu(s)).reduce((s,a)=>s+(Dp.test(a)?Ap:a===""?Up:zp),n)}function Hp(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function Vp(e,t,r){let{routesMeta:n}=e,s={},a="/",l=[];for(let o=0;o<n.length;++o){let c=n[o],u=o===n.length-1,d=a==="/"?t:t.slice(a.length)||"/",h=pu({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),m=c.route;if(!h&&u&&r&&!n[n.length-1].route.index&&(h=pu({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!h)return null;Object.assign(s,h.params),l.push({params:s,pathname:vr([a,h.pathname]),pathnameBase:Jp(vr([a,h.pathnameBase])),route:m}),h.pathnameBase!=="/"&&(a=vr([a,h.pathnameBase]))}return l}function pu(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=qp(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let a=s[0],l=a.replace(/(.)\/+$/,"$1"),o=s.slice(1);return{params:n.reduce((u,d,h)=>{let{paramName:m,isOptional:x}=d;if(m==="*"){let w=o[h]||"";l=a.slice(0,a.length-w.length).replace(/(.)\/+$/,"$1")}const b=o[h];return x&&!b?u[m]=void 0:u[m]=(b||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:l,pattern:e}}function qp(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),Jh(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,o,c)=>(n.push({paramName:o,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function Wp(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Jh(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function ef(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function Gp(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?hn(e):e;return{pathname:r?r.startsWith("/")?r:Kp(r,t):t,search:Zp(n),hash:Yp(s)}}function Kp(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function Ma(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Qp(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function tf(e,t){let r=Qp(e);return t?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function rf(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=hn(e):(s=ls({},e),ae(!s.pathname||!s.pathname.includes("?"),Ma("?","pathname","search",s)),ae(!s.pathname||!s.pathname.includes("#"),Ma("#","pathname","hash",s)),ae(!s.search||!s.search.includes("#"),Ma("#","search","hash",s)));let a=e===""||s.pathname==="",l=a?"/":s.pathname,o;if(l==null)o=r;else{let h=t.length-1;if(!n&&l.startsWith("..")){let m=l.split("/");for(;m[0]==="..";)m.shift(),h-=1;s.pathname=m.join("/")}o=h>=0?t[h]:"/"}let c=Gp(s,o),u=l&&l!=="/"&&l.endsWith("/"),d=(a||l===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const vr=e=>e.join("/").replace(/\/\/+/g,"/"),Jp=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Zp=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Yp=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Xp(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const nf=["post","put","patch","delete"];new Set(nf);const e1=["get",...nf];new Set(e1);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function os(){return os=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},os.apply(this,arguments)}const qo=v.createContext(null),t1=v.createContext(null),xs=v.createContext(null),ea=v.createContext(null),kr=v.createContext({outlet:null,matches:[],isDataRoute:!1}),sf=v.createContext(null);function vs(){return v.useContext(ea)!=null}function Wo(){return vs()||ae(!1),v.useContext(ea).location}function af(e){v.useContext(xs).static||v.useLayoutEffect(e)}function Go(){let{isDataRoute:e}=v.useContext(kr);return e?m1():r1()}function r1(){vs()||ae(!1);let e=v.useContext(qo),{basename:t,future:r,navigator:n}=v.useContext(xs),{matches:s}=v.useContext(kr),{pathname:a}=Wo(),l=JSON.stringify(tf(s,r.v7_relativeSplatPath)),o=v.useRef(!1);return af(()=>{o.current=!0}),v.useCallback(function(u,d){if(d===void 0&&(d={}),!o.current)return;if(typeof u=="number"){n.go(u);return}let h=rf(u,JSON.parse(l),a,d.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:vr([t,h.pathname])),(d.replace?n.replace:n.push)(h,d.state,d)},[t,n,l,a,e])}function n1(e,t){return s1(e,t)}function s1(e,t,r,n){vs()||ae(!1);let{navigator:s}=v.useContext(xs),{matches:a}=v.useContext(kr),l=a[a.length-1],o=l?l.params:{};l&&l.pathname;let c=l?l.pathnameBase:"/";l&&l.route;let u=Wo(),d;if(t){var h;let y=typeof t=="string"?hn(t):t;c==="/"||(h=y.pathname)!=null&&h.startsWith(c)||ae(!1),d=y}else d=u;let m=d.pathname||"/",x=m;if(c!=="/"){let y=c.replace(/^\//,"").split("/");x="/"+m.replace(/^\//,"").split("/").slice(y.length).join("/")}let b=Rp(e,{pathname:x}),w=c1(b&&b.map(y=>Object.assign({},y,{params:Object.assign({},o,y.params),pathname:vr([c,s.encodeLocation?s.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?c:vr([c,s.encodeLocation?s.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),a,r,n);return t&&w?v.createElement(ea.Provider,{value:{location:os({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Vt.Pop}},w):w}function i1(){let e=f1(),t=Xp(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},t),r?v.createElement("pre",{style:s},r):null,null)}const a1=v.createElement(i1,null);class l1 extends v.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?v.createElement(kr.Provider,{value:this.props.routeContext},v.createElement(sf.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function o1(e){let{routeContext:t,match:r,children:n}=e,s=v.useContext(qo);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),v.createElement(kr.Provider,{value:t},n)}function c1(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var a;if(!r)return null;if(r.errors)e=r.matches;else if((a=n)!=null&&a.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let l=e,o=(s=r)==null?void 0:s.errors;if(o!=null){let d=l.findIndex(h=>h.route.id&&(o==null?void 0:o[h.route.id])!==void 0);d>=0||ae(!1),l=l.slice(0,Math.min(l.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<l.length;d++){let h=l[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:m,errors:x}=r,b=h.route.loader&&m[h.route.id]===void 0&&(!x||x[h.route.id]===void 0);if(h.route.lazy||b){c=!0,u>=0?l=l.slice(0,u+1):l=[l[0]];break}}}return l.reduceRight((d,h,m)=>{let x,b=!1,w=null,y=null;r&&(x=o&&h.route.id?o[h.route.id]:void 0,w=h.route.errorElement||a1,c&&(u<0&&m===0?(b=!0,y=null):u===m&&(b=!0,y=h.route.hydrateFallbackElement||null)));let f=t.concat(l.slice(0,m+1)),g=()=>{let p;return x?p=w:b?p=y:h.route.Component?p=v.createElement(h.route.Component,null):h.route.element?p=h.route.element:p=d,v.createElement(o1,{match:h,routeContext:{outlet:d,matches:f,isDataRoute:r!=null},children:p})};return r&&(h.route.ErrorBoundary||h.route.errorElement||m===0)?v.createElement(l1,{location:r.location,revalidation:r.revalidation,component:w,error:x,children:g(),routeContext:{outlet:null,matches:f,isDataRoute:!0}}):g()},null)}var lf=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(lf||{}),Ii=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Ii||{});function u1(e){let t=v.useContext(qo);return t||ae(!1),t}function d1(e){let t=v.useContext(t1);return t||ae(!1),t}function h1(e){let t=v.useContext(kr);return t||ae(!1),t}function of(e){let t=h1(),r=t.matches[t.matches.length-1];return r.route.id||ae(!1),r.route.id}function f1(){var e;let t=v.useContext(sf),r=d1(Ii.UseRouteError),n=of(Ii.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function m1(){let{router:e}=u1(lf.UseNavigateStable),t=of(Ii.UseNavigateStable),r=v.useRef(!1);return af(()=>{r.current=!0}),v.useCallback(function(s,a){a===void 0&&(a={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,os({fromRouteId:t},a)))},[e,t])}function p1(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function g1(e){let{to:t,replace:r,state:n,relative:s}=e;vs()||ae(!1);let{future:a,static:l}=v.useContext(xs),{matches:o}=v.useContext(kr),{pathname:c}=Wo(),u=Go(),d=rf(t,tf(o,a.v7_relativeSplatPath),c,s==="path"),h=JSON.stringify(d);return v.useEffect(()=>u(JSON.parse(h),{replace:r,state:n,relative:s}),[u,h,s,r,n]),null}function be(e){ae(!1)}function x1(e){let{basename:t="/",children:r=null,location:n,navigationType:s=Vt.Pop,navigator:a,static:l=!1,future:o}=e;vs()&&ae(!1);let c=t.replace(/^\/*/,"/"),u=v.useMemo(()=>({basename:c,navigator:a,static:l,future:os({v7_relativeSplatPath:!1},o)}),[c,o,a,l]);typeof n=="string"&&(n=hn(n));let{pathname:d="/",search:h="",hash:m="",state:x=null,key:b="default"}=n,w=v.useMemo(()=>{let y=ef(d,c);return y==null?null:{location:{pathname:y,search:h,hash:m,state:x,key:b},navigationType:s}},[c,d,h,m,x,b,s]);return w==null?null:v.createElement(xs.Provider,{value:u},v.createElement(ea.Provider,{children:r,value:w}))}function v1(e){let{children:t,location:r}=e;return n1(Ml(t),r)}new Promise(()=>{});function Ml(e,t){t===void 0&&(t=[]);let r=[];return v.Children.forEach(e,(n,s)=>{if(!v.isValidElement(n))return;let a=[...t,s];if(n.type===v.Fragment){r.push.apply(r,Ml(n.props.children,a));return}n.type!==be&&ae(!1),!n.props.index||!n.props.children||ae(!1);let l={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(l.children=Ml(n.props.children,a)),r.push(l)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const y1="6";try{window.__reactRouterVersion=y1}catch{}const w1="startTransition",gu=v0[w1];function b1(e){let{basename:t,children:r,future:n,window:s}=e,a=v.useRef();a.current==null&&(a.current=Tp({window:s,v5Compat:!0}));let l=a.current,[o,c]=v.useState({action:l.action,location:l.location}),{v7_startTransition:u}=n||{},d=v.useCallback(h=>{u&&gu?gu(()=>c(h)):c(h)},[c,u]);return v.useLayoutEffect(()=>l.listen(d),[l,d]),v.useEffect(()=>p1(n),[n]),v.createElement(x1,{basename:t,children:r,location:o.location,navigationType:o.action,navigator:l,future:n})}var xu;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(xu||(xu={}));var vu;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(vu||(vu={}));let j1={data:""},C1=e=>typeof window=="object"?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||j1,N1=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,_1=/\/\*[^]*?\*\/|  +/g,yu=/\n+/g,zt=(e,t)=>{let r="",n="",s="";for(let a in e){let l=e[a];a[0]=="@"?a[1]=="i"?r=a+" "+l+";":n+=a[1]=="f"?zt(l,a):a+"{"+zt(l,a[1]=="k"?"":t)+"}":typeof l=="object"?n+=zt(l,t?t.replace(/([^,])+/g,o=>a.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,c=>/&/.test(c)?c.replace(/&/g,o):o?o+" "+c:c)):a):l!=null&&(a=/^--/.test(a)?a:a.replace(/[A-Z]/g,"-$&").toLowerCase(),s+=zt.p?zt.p(a,l):a+":"+l+";")}return r+(t&&s?t+"{"+s+"}":s)+n},yt={},cf=e=>{if(typeof e=="object"){let t="";for(let r in e)t+=r+cf(e[r]);return t}return e},k1=(e,t,r,n,s)=>{let a=cf(e),l=yt[a]||(yt[a]=(c=>{let u=0,d=11;for(;u<c.length;)d=101*d+c.charCodeAt(u++)>>>0;return"go"+d})(a));if(!yt[l]){let c=a!==e?e:(u=>{let d,h,m=[{}];for(;d=N1.exec(u.replace(_1,""));)d[4]?m.shift():d[3]?(h=d[3].replace(yu," ").trim(),m.unshift(m[0][h]=m[0][h]||{})):m[0][d[1]]=d[2].replace(yu," ").trim();return m[0]})(e);yt[l]=zt(s?{["@keyframes "+l]:c}:c,r?"":"."+l)}let o=r&&yt.g?yt.g:null;return r&&(yt.g=yt[l]),((c,u,d,h)=>{h?u.data=u.data.replace(h,c):u.data.indexOf(c)===-1&&(u.data=d?c+u.data:u.data+c)})(yt[l],t,n,o),l},S1=(e,t,r)=>e.reduce((n,s,a)=>{let l=t[a];if(l&&l.call){let o=l(r),c=o&&o.props&&o.props.className||/^go/.test(o)&&o;l=c?"."+c:o&&typeof o=="object"?o.props?"":zt(o,""):o===!1?"":o}return n+s+(l??"")},"");function ta(e){let t=this||{},r=e.call?e(t.p):e;return k1(r.unshift?r.raw?S1(r,[].slice.call(arguments,1),t.p):r.reduce((n,s)=>Object.assign(n,s&&s.call?s(t.p):s),{}):r,C1(t.target),t.g,t.o,t.k)}let uf,Ul,zl;ta.bind({g:1});let Ot=ta.bind({k:1});function E1(e,t,r,n){zt.p=t,uf=e,Ul=r,zl=n}function ir(e,t){let r=this||{};return function(){let n=arguments;function s(a,l){let o=Object.assign({},a),c=o.className||s.className;r.p=Object.assign({theme:Ul&&Ul()},o),r.o=/ *go\d+/.test(c),o.className=ta.apply(r,n)+(c?" "+c:"");let u=e;return e[0]&&(u=o.as||e,delete o.as),zl&&u[0]&&zl(o),uf(u,o)}return s}}var P1=e=>typeof e=="function",Ri=(e,t)=>P1(e)?e(t):e,T1=(()=>{let e=0;return()=>(++e).toString()})(),df=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),O1=20,hf=(e,t)=>{switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,O1)};case 1:return{...e,toasts:e.toasts.map(a=>a.id===t.toast.id?{...a,...t.toast}:a)};case 2:let{toast:r}=t;return hf(e,{type:e.toasts.find(a=>a.id===r.id)?1:0,toast:r});case 3:let{toastId:n}=t;return{...e,toasts:e.toasts.map(a=>a.id===n||n===void 0?{...a,dismissed:!0,visible:!1}:a)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(a=>a.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let s=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(a=>({...a,pauseDuration:a.pauseDuration+s}))}}},ai=[],pr={toasts:[],pausedAt:void 0},Sr=e=>{pr=hf(pr,e),ai.forEach(t=>{t(pr)})},I1={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},R1=(e={})=>{let[t,r]=v.useState(pr),n=v.useRef(pr);v.useEffect(()=>(n.current!==pr&&r(pr),ai.push(r),()=>{let a=ai.indexOf(r);a>-1&&ai.splice(a,1)}),[]);let s=t.toasts.map(a=>{var l,o,c;return{...e,...e[a.type],...a,removeDelay:a.removeDelay||((l=e[a.type])==null?void 0:l.removeDelay)||(e==null?void 0:e.removeDelay),duration:a.duration||((o=e[a.type])==null?void 0:o.duration)||(e==null?void 0:e.duration)||I1[a.type],style:{...e.style,...(c=e[a.type])==null?void 0:c.style,...a.style}}});return{...t,toasts:s}},$1=(e,t="blank",r)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...r,id:(r==null?void 0:r.id)||T1()}),ys=e=>(t,r)=>{let n=$1(t,e,r);return Sr({type:2,toast:n}),n.id},ke=(e,t)=>ys("blank")(e,t);ke.error=ys("error");ke.success=ys("success");ke.loading=ys("loading");ke.custom=ys("custom");ke.dismiss=e=>{Sr({type:3,toastId:e})};ke.remove=e=>Sr({type:4,toastId:e});ke.promise=(e,t,r)=>{let n=ke.loading(t.loading,{...r,...r==null?void 0:r.loading});return typeof e=="function"&&(e=e()),e.then(s=>{let a=t.success?Ri(t.success,s):void 0;return a?ke.success(a,{id:n,...r,...r==null?void 0:r.success}):ke.dismiss(n),s}).catch(s=>{let a=t.error?Ri(t.error,s):void 0;a?ke.error(a,{id:n,...r,...r==null?void 0:r.error}):ke.dismiss(n)}),e};var L1=(e,t)=>{Sr({type:1,toast:{id:e,height:t}})},D1=()=>{Sr({type:5,time:Date.now()})},Un=new Map,A1=1e3,M1=(e,t=A1)=>{if(Un.has(e))return;let r=setTimeout(()=>{Un.delete(e),Sr({type:4,toastId:e})},t);Un.set(e,r)},U1=e=>{let{toasts:t,pausedAt:r}=R1(e);v.useEffect(()=>{if(r)return;let a=Date.now(),l=t.map(o=>{if(o.duration===1/0)return;let c=(o.duration||0)+o.pauseDuration-(a-o.createdAt);if(c<0){o.visible&&ke.dismiss(o.id);return}return setTimeout(()=>ke.dismiss(o.id),c)});return()=>{l.forEach(o=>o&&clearTimeout(o))}},[t,r]);let n=v.useCallback(()=>{r&&Sr({type:6,time:Date.now()})},[r]),s=v.useCallback((a,l)=>{let{reverseOrder:o=!1,gutter:c=8,defaultPosition:u}=l||{},d=t.filter(x=>(x.position||u)===(a.position||u)&&x.height),h=d.findIndex(x=>x.id===a.id),m=d.filter((x,b)=>b<h&&x.visible).length;return d.filter(x=>x.visible).slice(...o?[m+1]:[0,m]).reduce((x,b)=>x+(b.height||0)+c,0)},[t]);return v.useEffect(()=>{t.forEach(a=>{if(a.dismissed)M1(a.id,a.removeDelay);else{let l=Un.get(a.id);l&&(clearTimeout(l),Un.delete(a.id))}})},[t]),{toasts:t,handlers:{updateHeight:L1,startPause:D1,endPause:n,calculateOffset:s}}},z1=Ot`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,F1=Ot`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,B1=Ot`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,H1=ir("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${z1} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${F1} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${B1} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,V1=Ot`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,q1=ir("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${V1} 1s linear infinite;
`,W1=Ot`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,G1=Ot`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,K1=ir("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${W1} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${G1} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,Q1=ir("div")`
  position: absolute;
`,J1=ir("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,Z1=Ot`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Y1=ir("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${Z1} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,X1=({toast:e})=>{let{icon:t,type:r,iconTheme:n}=e;return t!==void 0?typeof t=="string"?v.createElement(Y1,null,t):t:r==="blank"?null:v.createElement(J1,null,v.createElement(q1,{...n}),r!=="loading"&&v.createElement(Q1,null,r==="error"?v.createElement(H1,{...n}):v.createElement(K1,{...n})))},eg=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,tg=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,rg="0%{opacity:0;} 100%{opacity:1;}",ng="0%{opacity:1;} 100%{opacity:0;}",sg=ir("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,ig=ir("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,ag=(e,t)=>{let r=e.includes("top")?1:-1,[n,s]=df()?[rg,ng]:[eg(r),tg(r)];return{animation:t?`${Ot(n)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Ot(s)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},lg=v.memo(({toast:e,position:t,style:r,children:n})=>{let s=e.height?ag(e.position||t||"top-center",e.visible):{opacity:0},a=v.createElement(X1,{toast:e}),l=v.createElement(ig,{...e.ariaProps},Ri(e.message,e));return v.createElement(sg,{className:e.className,style:{...s,...r,...e.style}},typeof n=="function"?n({icon:a,message:l}):v.createElement(v.Fragment,null,a,l))});E1(v.createElement);var og=({id:e,className:t,style:r,onHeightUpdate:n,children:s})=>{let a=v.useCallback(l=>{if(l){let o=()=>{let c=l.getBoundingClientRect().height;n(e,c)};o(),new MutationObserver(o).observe(l,{subtree:!0,childList:!0,characterData:!0})}},[e,n]);return v.createElement("div",{ref:a,className:t,style:r},s)},cg=(e,t)=>{let r=e.includes("top"),n=r?{top:0}:{bottom:0},s=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:df()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(r?1:-1)}px)`,...n,...s}},ug=ta`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Bs=16,dg=({reverseOrder:e,position:t="top-center",toastOptions:r,gutter:n,children:s,containerStyle:a,containerClassName:l})=>{let{toasts:o,handlers:c}=U1(r);return v.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:Bs,left:Bs,right:Bs,bottom:Bs,pointerEvents:"none",...a},className:l,onMouseEnter:c.startPause,onMouseLeave:c.endPause},o.map(u=>{let d=u.position||t,h=c.calculateOffset(u,{reverseOrder:e,gutter:n,defaultPosition:t}),m=cg(d,h);return v.createElement(og,{id:u.id,key:u.id,onHeightUpdate:c.updateHeight,className:u.visible?ug:"",style:m},u.type==="custom"?Ri(u.message,u):s?s(u):v.createElement(lg,{toast:u,position:d}))}))},L=ke;const ff=v.createContext(void 0),Oe=()=>{const e=v.useContext(ff);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e},hg=({children:e})=>{const[t,r]=v.useState(null),[n,s]=v.useState(!0),[a,l]=v.useState(null),[o,c]=v.useState(null),[u,d]=v.useState(null);v.useEffect(()=>{const w=localStorage.getItem("pos_user"),y=localStorage.getItem("pos_empresa"),f=localStorage.getItem("pos_sucursal"),g=localStorage.getItem("pos_role");w&&y&&f&&(r(JSON.parse(w)),l(y),c(f),d(g)),s(!1)},[]);const b={user:t,loading:n,login:async(w,y)=>{try{if(s(!0),w!=="78.168.951-3"||y!=="123456")return{success:!1,error:"Credenciales incorrectas"};const f={id:"c2eebc99-9c0b-4ef8-bb6d-6bb9bd380a11",email:"emilio@demo.cl",nombre:"Emilio",apellidos:"Aguilera",rut:"78.168.951-3",activo:!0,created_at:new Date().toISOString(),updated_at:new Date().toISOString()},g="a0eebc99-9c0b-4ef8-bb6d-6bb9bd380a11",p="b1eebc99-9c0b-4ef8-bb6d-6bb9bd380a11",j="cajero";return r(f),l(g),c(p),d(j),localStorage.setItem("pos_user",JSON.stringify(f)),localStorage.setItem("pos_empresa",g),localStorage.setItem("pos_sucursal",p),localStorage.setItem("pos_role",j),L.success("Inicio de sesión exitoso"),{success:!0}}catch(f){return console.error("Login error:",f),{success:!1,error:"Error inesperado"}}finally{s(!1)}},validateUser:async(w,y)=>{try{return console.log("Validating user with RUT:",w),w==="78.168.951-3"&&y==="123456"?{success:!0,user:{id:"c2eebc99-9c0b-4ef8-bb6d-6bb9bd380a11",email:"emilio@demo.cl",nombre:"Emilio",apellidos:"Aguilera",rut:"78.168.951-3",activo:!0,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}}:{success:!1,error:"Credenciales incorrectas"}}catch(f){return console.error("Error validating user:",f),{success:!1,error:"Error de validación"}}},logout:async()=>{r(null),l(null),c(null),d(null),localStorage.removeItem("pos_user"),localStorage.removeItem("pos_empresa"),localStorage.removeItem("pos_sucursal"),localStorage.removeItem("pos_role")},empresaId:a,sucursalId:o,userRole:u};return i.jsx(ff.Provider,{value:b,children:e})},fg="modulepreload",mg=function(e){return"/"+e},wu={},ws=function(t,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),o=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));s=Promise.allSettled(r.map(c=>{if(c=mg(c),c in wu)return;wu[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":fg,u||(h.as="script"),h.crossOrigin="",h.href=c,o&&h.setAttribute("nonce",o),document.head.appendChild(h),u)return new Promise((m,x)=>{h.addEventListener("load",m),h.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${c}`)))})}))}function a(l){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=l,window.dispatchEvent(o),!o.defaultPrevented)throw l}return s.then(l=>{for(const o of l||[])o.status==="rejected"&&a(o.reason);return t().catch(a)})},pg=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>ws(async()=>{const{default:n}=await Promise.resolve().then(()=>fn);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class Ko extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class gg extends Ko{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class xg extends Ko{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class vg extends Ko{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Fl;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Fl||(Fl={}));var yg=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(l){l(a)})}return new(r||(r=Promise))(function(a,l){function o(d){try{u(n.next(d))}catch(h){l(h)}}function c(d){try{u(n.throw(d))}catch(h){l(h)}}function u(d){d.done?a(d.value):s(d.value).then(o,c)}u((n=n.apply(e,t||[])).next())})};class wg{constructor(t,{headers:r={},customFetch:n,region:s=Fl.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=pg(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return yg(this,void 0,void 0,function*(){try{const{headers:s,method:a,body:l}=r;let o={},{region:c}=r;c||(c=this.region),c&&c!=="any"&&(o["x-region"]=c);let u;l&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&l instanceof Blob||l instanceof ArrayBuffer?(o["Content-Type"]="application/octet-stream",u=l):typeof l=="string"?(o["Content-Type"]="text/plain",u=l):typeof FormData<"u"&&l instanceof FormData?u=l:(o["Content-Type"]="application/json",u=JSON.stringify(l)));const d=yield this.fetch(`${this.url}/${t}`,{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},o),this.headers),s),body:u}).catch(b=>{throw new gg(b)}),h=d.headers.get("x-relay-error");if(h&&h==="true")throw new xg(d);if(!d.ok)throw new vg(d);let m=((n=d.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),x;return m==="application/json"?x=yield d.json():m==="application/octet-stream"?x=yield d.blob():m==="text/event-stream"?x=d:m==="multipart/form-data"?x=yield d.formData():x=yield d.text(),{data:x,error:null}}catch(s){return{data:null,error:s}}})}}var Le={},Qo={},ra={},bs={},na={},sa={},bg=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},on=bg();const jg=on.fetch,mf=on.fetch.bind(on),pf=on.Headers,Cg=on.Request,Ng=on.Response,fn=Object.freeze(Object.defineProperty({__proto__:null,Headers:pf,Request:Cg,Response:Ng,default:mf,fetch:jg},Symbol.toStringTag,{value:"Module"})),_g=t0(fn);var ia={};Object.defineProperty(ia,"__esModule",{value:!0});let kg=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};ia.default=kg;var gf=et&&et.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(sa,"__esModule",{value:!0});const Sg=gf(_g),Eg=gf(ia);let Pg=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=Sg.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=Object.assign({},this.headers),this.headers[t]=r,this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{var l,o,c;let u=null,d=null,h=null,m=a.status,x=a.statusText;if(a.ok){if(this.method!=="HEAD"){const f=await a.text();f===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=f:d=JSON.parse(f))}const w=(l=this.headers.Prefer)===null||l===void 0?void 0:l.match(/count=(exact|planned|estimated)/),y=(o=a.headers.get("content-range"))===null||o===void 0?void 0:o.split("/");w&&y&&y.length>1&&(h=parseInt(y[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,h=null,m=406,x="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const w=await a.text();try{u=JSON.parse(w),Array.isArray(u)&&a.status===404&&(d=[],u=null,m=200,x="OK")}catch{a.status===404&&w===""?(m=204,x="No Content"):u={message:w}}if(u&&this.isMaybeSingle&&(!((c=u==null?void 0:u.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,m=200,x="OK"),u&&this.shouldThrowOnError)throw new Eg.default(u)}return{error:u,data:d,count:h,status:m,statusText:x}});return this.shouldThrowOnError||(s=s.catch(a=>{var l,o,c;return{error:{message:`${(l=a==null?void 0:a.name)!==null&&l!==void 0?l:"FetchError"}: ${a==null?void 0:a.message}`,details:`${(o=a==null?void 0:a.stack)!==null&&o!==void 0?o:""}`,hint:"",code:`${(c=a==null?void 0:a.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,r)}returns(){return this}overrideTypes(){return this}};sa.default=Pg;var Tg=et&&et.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(na,"__esModule",{value:!0});const Og=Tg(sa);let Ig=class extends Og.default{select(t){let r=!1;const n=(t??"*").split("").map(s=>/\s/.test(s)&&!r?"":(s==='"'&&(r=!r),s)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:s,referencedTable:a=s}={}){const l=a?`${a}.order`:"order",o=this.url.searchParams.get(l);return this.url.searchParams.set(l,`${o?`${o},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:s=n}={}){const a=typeof s>"u"?"offset":`${s}.offset`,l=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(a,`${t}`),this.url.searchParams.set(l,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:s=!1,wal:a=!1,format:l="text"}={}){var o;const c=[t?"analyze":null,r?"verbose":null,n?"settings":null,s?"buffers":null,a?"wal":null].filter(Boolean).join("|"),u=(o=this.headers.Accept)!==null&&o!==void 0?o:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${l}; for="${u}"; options=${c};`,l==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};na.default=Ig;var Rg=et&&et.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(bs,"__esModule",{value:!0});const $g=Rg(na);let Lg=class extends $g.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:s}={}){let a="";s==="plain"?a="pl":s==="phrase"?a="ph":s==="websearch"&&(a="w");const l=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${a}fts${l}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};bs.default=Lg;var Dg=et&&et.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ra,"__esModule",{value:!0});const Nn=Dg(bs);let Ag=class{constructor(t,{headers:r={},schema:n,fetch:s}){this.url=t,this.headers=r,this.schema=n,this.fetch=s}select(t,{head:r=!1,count:n}={}){const s=r?"HEAD":"GET";let a=!1;const l=(t??"*").split("").map(o=>/\s/.test(o)&&!a?"":(o==='"'&&(a=!a),o)).join("");return this.url.searchParams.set("select",l),n&&(this.headers.Prefer=`count=${n}`),new Nn.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:r,defaultToNull:n=!0}={}){const s="POST",a=[];if(this.headers.Prefer&&a.push(this.headers.Prefer),r&&a.push(`count=${r}`),n||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(t)){const l=t.reduce((o,c)=>o.concat(Object.keys(c)),[]);if(l.length>0){const o=[...new Set(l)].map(c=>`"${c}"`);this.url.searchParams.set("columns",o.join(","))}}return new Nn.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:s,defaultToNull:a=!0}={}){const l="POST",o=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&o.push(this.headers.Prefer),s&&o.push(`count=${s}`),a||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(t)){const c=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new Nn.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:r}={}){const n="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),r&&s.push(`count=${r}`),this.headers.Prefer=s.join(","),new Nn.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const r="DELETE",n=[];return t&&n.push(`count=${t}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new Nn.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};ra.default=Ag;var aa={},la={};Object.defineProperty(la,"__esModule",{value:!0});la.version=void 0;la.version="0.0.0-automated";Object.defineProperty(aa,"__esModule",{value:!0});aa.DEFAULT_HEADERS=void 0;const Mg=la;aa.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${Mg.version}`};var xf=et&&et.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Qo,"__esModule",{value:!0});const Ug=xf(ra),zg=xf(bs),Fg=aa;let Bg=class vf{constructor(t,{headers:r={},schema:n,fetch:s}={}){this.url=t,this.headers=Object.assign(Object.assign({},Fg.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=s}from(t){const r=new URL(`${this.url}/${t}`);return new Ug.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new vf(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:s=!1,count:a}={}){let l;const o=new URL(`${this.url}/rpc/${t}`);let c;n||s?(l=n?"HEAD":"GET",Object.entries(r).filter(([d,h])=>h!==void 0).map(([d,h])=>[d,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([d,h])=>{o.searchParams.append(d,h)})):(l="POST",c=r);const u=Object.assign({},this.headers);return a&&(u.Prefer=`count=${a}`),new zg.default({method:l,url:o,headers:u,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};Qo.default=Bg;var mn=et&&et.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Le,"__esModule",{value:!0});Le.PostgrestError=Le.PostgrestBuilder=Le.PostgrestTransformBuilder=Le.PostgrestFilterBuilder=Le.PostgrestQueryBuilder=Le.PostgrestClient=void 0;const yf=mn(Qo);Le.PostgrestClient=yf.default;const wf=mn(ra);Le.PostgrestQueryBuilder=wf.default;const bf=mn(bs);Le.PostgrestFilterBuilder=bf.default;const jf=mn(na);Le.PostgrestTransformBuilder=jf.default;const Cf=mn(sa);Le.PostgrestBuilder=Cf.default;const Nf=mn(ia);Le.PostgrestError=Nf.default;var Hg=Le.default={PostgrestClient:yf.default,PostgrestQueryBuilder:wf.default,PostgrestFilterBuilder:bf.default,PostgrestTransformBuilder:jf.default,PostgrestBuilder:Cf.default,PostgrestError:Nf.default};const{PostgrestClient:Vg,PostgrestQueryBuilder:bv,PostgrestFilterBuilder:jv,PostgrestTransformBuilder:Cv,PostgrestBuilder:Nv,PostgrestError:_v}=Hg;function qg(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const Wg=qg(),Gg="2.11.15",Kg=`realtime-js/${Gg}`,Qg="1.0.0",_f=1e4,Jg=1e3;var zn;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(zn||(zn={}));var je;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(je||(je={}));var ot;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(ot||(ot={}));var Bl;(function(e){e.websocket="websocket"})(Bl||(Bl={}));var dr;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(dr||(dr={}));class Zg{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const s=r.getUint8(1),a=r.getUint8(2);let l=this.HEADER_LENGTH+2;const o=n.decode(t.slice(l,l+s));l=l+s;const c=n.decode(t.slice(l,l+a));l=l+a;const u=JSON.parse(n.decode(t.slice(l,t.byteLength)));return{ref:null,topic:o,event:c,payload:u}}}class kf{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var G;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(G||(G={}));const bu=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((a,l)=>(a[l]=Yg(l,e,t,s),a),{})},Yg=(e,t,r,n)=>{const s=t.find(o=>o.name===e),a=s==null?void 0:s.type,l=r[e];return a&&!n.includes(a)?Sf(a,l):Hl(l)},Sf=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return r2(t,r)}switch(e){case G.bool:return Xg(t);case G.float4:case G.float8:case G.int2:case G.int4:case G.int8:case G.numeric:case G.oid:return e2(t);case G.json:case G.jsonb:return t2(t);case G.timestamp:return n2(t);case G.abstime:case G.date:case G.daterange:case G.int4range:case G.int8range:case G.money:case G.reltime:case G.text:case G.time:case G.timestamptz:case G.timetz:case G.tsrange:case G.tstzrange:return Hl(t);default:return Hl(t)}},Hl=e=>e,Xg=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},e2=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},t2=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},r2=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let a;const l=e.slice(1,r);try{a=JSON.parse("["+l+"]")}catch{a=l?l.split(","):[]}return a.map(o=>Sf(t,o))}return e},n2=e=>typeof e=="string"?e.replace(" ","T"):e,Ef=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class Ua{constructor(t,r,n={},s=_f){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var ju;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(ju||(ju={}));class Fn{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:a,onLeave:l,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Fn.syncState(this.state,s,a,l),this.pendingDiffs.forEach(c=>{this.state=Fn.syncDiff(this.state,c,a,l)}),this.pendingDiffs=[],o()}),this.channel._on(n.diff,{},s=>{const{onJoin:a,onLeave:l,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Fn.syncDiff(this.state,s,a,l),o())}),this.onJoin((s,a,l)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:a,newPresences:l})}),this.onLeave((s,a,l)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:a,leftPresences:l})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const a=this.cloneDeep(t),l=this.transformState(r),o={},c={};return this.map(a,(u,d)=>{l[u]||(c[u]=d)}),this.map(l,(u,d)=>{const h=a[u];if(h){const m=d.map(y=>y.presence_ref),x=h.map(y=>y.presence_ref),b=d.filter(y=>x.indexOf(y.presence_ref)<0),w=h.filter(y=>m.indexOf(y.presence_ref)<0);b.length>0&&(o[u]=b),w.length>0&&(c[u]=w)}else o[u]=d}),this.syncDiff(a,{joins:o,leaves:c},n,s)}static syncDiff(t,r,n,s){const{joins:a,leaves:l}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(a,(o,c)=>{var u;const d=(u=t[o])!==null&&u!==void 0?u:[];if(t[o]=this.cloneDeep(c),d.length>0){const h=t[o].map(x=>x.presence_ref),m=d.filter(x=>h.indexOf(x.presence_ref)<0);t[o].unshift(...m)}n(o,d,c)}),this.map(l,(o,c)=>{let u=t[o];if(!u)return;const d=c.map(h=>h.presence_ref);u=u.filter(h=>d.indexOf(h.presence_ref)<0),t[o]=u,s(o,u,c),u.length===0&&delete t[o]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Cu;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Cu||(Cu={}));var Nu;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Nu||(Nu={}));var jt;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(jt||(jt={}));class Jo{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=je.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Ua(this,ot.join,this.params,this.timeout),this.rejoinTimer=new kf(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=je.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=je.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=je.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=je.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ot.reply,{},(s,a)=>{this._trigger(this._replyEventName(a),s)}),this.presence=new Fn(this),this.broadcastEndpointURL=Ef(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,s;if(this.socket.isConnected()||this.socket.connect(),this.state==je.closed){const{config:{broadcast:a,presence:l,private:o}}=this.params;this._onError(d=>t==null?void 0:t(jt.CHANNEL_ERROR,d)),this._onClose(()=>t==null?void 0:t(jt.CLOSED));const c={},u={broadcast:a,presence:l,postgres_changes:(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(d=>d.filter))!==null&&s!==void 0?s:[],private:o};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},c)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:d})=>{var h;if(this.socket.setAuth(),d===void 0){t==null||t(jt.SUBSCRIBED);return}else{const m=this.bindings.postgres_changes,x=(h=m==null?void 0:m.length)!==null&&h!==void 0?h:0,b=[];for(let w=0;w<x;w++){const y=m[w],{filter:{event:f,schema:g,table:p,filter:j}}=y,C=d&&d[w];if(C&&C.event===f&&C.schema===g&&C.table===p&&C.filter===j)b.push(Object.assign(Object.assign({},y),{id:C.id}));else{this.unsubscribe(),this.state=je.errored,t==null||t(jt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=b,t&&t(jt.SUBSCRIBED);return}}).receive("error",d=>{this.state=je.errored,t==null||t(jt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(jt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this._on(t,r,n)}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){const{event:a,payload:l}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:l,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var l,o,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(o=(l=this.params)===null||l===void 0?void 0:l.config)===null||o===void 0?void 0:o.broadcast)===null||c===void 0)&&c.ack)&&a("ok"),u.receive("ok",()=>a("ok")),u.receive("error",()=>a("error")),u.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=je.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ot.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new Ua(this,ot.leave,{},t),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(t,r,n){const s=new AbortController,a=setTimeout(()=>s.abort(),n),l=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(a),l}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Ua(this,t,r,n);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,a;const l=t.toLocaleLowerCase(),{close:o,error:c,leave:u,join:d}=ot;if(n&&[o,c,u,d].indexOf(l)>=0&&n!==this._joinRef())return;let m=this._onMessage(l,r,n);if(r&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(l)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(x=>{var b,w,y;return((b=x.filter)===null||b===void 0?void 0:b.event)==="*"||((y=(w=x.filter)===null||w===void 0?void 0:w.event)===null||y===void 0?void 0:y.toLocaleLowerCase())===l}).map(x=>x.callback(m,n)):(a=this.bindings[l])===null||a===void 0||a.filter(x=>{var b,w,y,f,g,p;if(["broadcast","presence","postgres_changes"].includes(l))if("id"in x){const j=x.id,C=(b=x.filter)===null||b===void 0?void 0:b.event;return j&&((w=r.ids)===null||w===void 0?void 0:w.includes(j))&&(C==="*"||(C==null?void 0:C.toLocaleLowerCase())===((y=r.data)===null||y===void 0?void 0:y.type.toLocaleLowerCase()))}else{const j=(g=(f=x==null?void 0:x.filter)===null||f===void 0?void 0:f.event)===null||g===void 0?void 0:g.toLocaleLowerCase();return j==="*"||j===((p=r==null?void 0:r.event)===null||p===void 0?void 0:p.toLocaleLowerCase())}else return x.type.toLocaleLowerCase()===l}).map(x=>{if(typeof m=="object"&&"ids"in m){const b=m.data,{schema:w,table:y,commit_timestamp:f,type:g,errors:p}=b;m=Object.assign(Object.assign({},{schema:w,table:y,commit_timestamp:f,eventType:g,new:{},old:{},errors:p}),this._getPayloadRecords(b))}x.callback(m,n)})}_isClosed(){return this.state===je.closed}_isJoined(){return this.state===je.joined}_isJoining(){return this.state===je.joining}_isLeaving(){return this.state===je.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),a={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(a):this.bindings[s]=[a],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(s=>{var a;return!(((a=s.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===n&&Jo.isEqual(s.filter,r))}),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(ot.close,{},t)}_onError(t){this._on(ot.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=je.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=bu(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=bu(t.columns,t.old_record)),r}}const _u=()=>{},s2=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class i2{constructor(t,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=_f,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=_u,this.ref=0,this.logger=_u,this.conn=null,this.sendBuffer=[],this.serializer=new Zg,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=a=>{let l;return a?l=a:typeof fetch>"u"?l=(...o)=>ws(async()=>{const{default:c}=await Promise.resolve().then(()=>fn);return{default:c}},void 0).then(({default:c})=>c(...o)):l=fetch,(...o)=>l(...o)},this.endPoint=`${t}/${Bl.websocket}`,this.httpEndpoint=Ef(t),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),(r!=null&&r.logLevel||r!=null&&r.log_level)&&(this.logLevel=r.logLevel||r.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const s=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:a=>[1e3,2e3,5e3,1e4][a-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(a,l)=>l(JSON.stringify(a)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new kf(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=Wg),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Qg}))}disconnect(t,r){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(n=>n.teardown()))}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case zn.connecting:return dr.Connecting;case zn.open:return dr.Open;case zn.closing:return dr.Closing;default:return dr.Closed}}isConnected(){return this.connectionState()===dr.Open}channel(t,r={config:{}}){const n=`realtime:${t}`,s=this.getChannels().find(a=>a.topic===n);if(s)return s;{const a=new Jo(`realtime:${t}`,r,this);return this.channels.push(a),a}}push(t){const{topic:r,event:n,payload:s,ref:a}=t,l=()=>{this.encode(t,o=>{var c;(c=this.conn)===null||c===void 0||c.send(o)})};this.log("push",`${r} ${n} (${a})`,s),this.isConnected()?l():this.sendBuffer.push(l)}async setAuth(t=null){let r=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const s={access_token:r,version:Kg};r&&n.updateJoinPayload(s),n.joinedOnce&&n._isJoined()&&n._push(ot.access_token,{access_token:r})}))}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(t=this.conn)===null||t===void 0||t.close(Jg,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,r=>{let{topic:n,event:s,payload:a,ref:l}=r;n==="phoenix"&&s==="phx_reply"&&this.heartbeatCallback(r.payload.status=="ok"?"ok":"error"),l&&l===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${a.status||""} ${n} ${s} ${l&&"("+l+")"||""}`,a),Array.from(this.channels).filter(o=>o._isMember(n)).forEach(o=>o._trigger(s,a,l)),this.stateChangeCallbacks.message.forEach(o=>o(r))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(t=>t())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(t))}_onConnError(t){this.log("transport",`${t}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(ot.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([s2],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class Zo extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function ce(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class a2 extends Zo{constructor(t,r){super(t),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Vl extends Zo{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var l2=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(l){l(a)})}return new(r||(r=Promise))(function(a,l){function o(d){try{u(n.next(d))}catch(h){l(h)}}function c(d){try{u(n.throw(d))}catch(h){l(h)}}function u(d){d.done?a(d.value):s(d.value).then(o,c)}u((n=n.apply(e,t||[])).next())})};const Pf=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>ws(async()=>{const{default:n}=await Promise.resolve().then(()=>fn);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},o2=()=>l2(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield ws(()=>Promise.resolve().then(()=>fn),void 0)).Response:Response}),ql=e=>{if(Array.isArray(e))return e.map(r=>ql(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[s]=ql(n)}),t};var Er=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(l){l(a)})}return new(r||(r=Promise))(function(a,l){function o(d){try{u(n.next(d))}catch(h){l(h)}}function c(d){try{u(n.throw(d))}catch(h){l(h)}}function u(d){d.done?a(d.value):s(d.value).then(o,c)}u((n=n.apply(e,t||[])).next())})};const za=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),c2=(e,t,r)=>Er(void 0,void 0,void 0,function*(){const n=yield o2();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(s=>{t(new a2(za(s),e.status||500))}).catch(s=>{t(new Vl(za(s),s))}):t(new Vl(za(e),e))}),u2=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),n&&(s.body=JSON.stringify(n)),Object.assign(Object.assign({},s),r))};function js(e,t,r,n,s,a){return Er(this,void 0,void 0,function*(){return new Promise((l,o)=>{e(r,u2(t,n,s,a)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>l(c)).catch(c=>c2(c,o,n))})})}function $i(e,t,r,n){return Er(this,void 0,void 0,function*(){return js(e,"GET",t,r,n)})}function At(e,t,r,n,s){return Er(this,void 0,void 0,function*(){return js(e,"POST",t,n,s,r)})}function d2(e,t,r,n,s){return Er(this,void 0,void 0,function*(){return js(e,"PUT",t,n,s,r)})}function h2(e,t,r,n){return Er(this,void 0,void 0,function*(){return js(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function Tf(e,t,r,n,s){return Er(this,void 0,void 0,function*(){return js(e,"DELETE",t,n,s,r)})}var Re=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(l){l(a)})}return new(r||(r=Promise))(function(a,l){function o(d){try{u(n.next(d))}catch(h){l(h)}}function c(d){try{u(n.throw(d))}catch(h){l(h)}}function u(d){d.done?a(d.value):s(d.value).then(o,c)}u((n=n.apply(e,t||[])).next())})};const f2={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},ku={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class m2{constructor(t,r={},n,s){this.url=t,this.headers=r,this.bucketId=n,this.fetch=Pf(s)}uploadOrUpdate(t,r,n,s){return Re(this,void 0,void 0,function*(){try{let a;const l=Object.assign(Object.assign({},ku),s);let o=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(l.upsert)});const c=l.metadata;typeof Blob<"u"&&n instanceof Blob?(a=new FormData,a.append("cacheControl",l.cacheControl),c&&a.append("metadata",this.encodeMetadata(c)),a.append("",n)):typeof FormData<"u"&&n instanceof FormData?(a=n,a.append("cacheControl",l.cacheControl),c&&a.append("metadata",this.encodeMetadata(c))):(a=n,o["cache-control"]=`max-age=${l.cacheControl}`,o["content-type"]=l.contentType,c&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),s!=null&&s.headers&&(o=Object.assign(Object.assign({},o),s.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),h=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:t,body:a,headers:o},l!=null&&l.duplex?{duplex:l.duplex}:{})),m=yield h.json();return h.ok?{data:{path:u,id:m.Id,fullPath:m.Key},error:null}:{data:null,error:m}}catch(a){if(ce(a))return{data:null,error:a};throw a}})}upload(t,r,n){return Re(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,s){return Re(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(t),l=this._getFinalPath(a),o=new URL(this.url+`/object/upload/sign/${l}`);o.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:ku.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const h=yield this.fetch(o.toString(),{method:"PUT",body:c,headers:d}),m=yield h.json();return h.ok?{data:{path:a,fullPath:m.Key},error:null}:{data:null,error:m}}catch(c){if(ce(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return Re(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const a=yield At(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),l=new URL(this.url+a.url),o=l.searchParams.get("token");if(!o)throw new Zo("No token returned by API");return{data:{signedUrl:l.toString(),path:t,token:o},error:null}}catch(n){if(ce(n))return{data:null,error:n};throw n}})}update(t,r,n){return Re(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return Re(this,void 0,void 0,function*(){try{return{data:yield At(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(ce(s))return{data:null,error:s};throw s}})}copy(t,r,n){return Re(this,void 0,void 0,function*(){try{return{data:{path:(yield At(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(ce(s))return{data:null,error:s};throw s}})}createSignedUrl(t,r,n){return Re(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),a=yield At(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const l=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${l}`)},{data:a,error:null}}catch(s){if(ce(s))return{data:null,error:s};throw s}})}createSignedUrls(t,r,n){return Re(this,void 0,void 0,function*(){try{const s=yield At(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(l=>Object.assign(Object.assign({},l),{signedUrl:l.signedURL?encodeURI(`${this.url}${l.signedURL}${a}`):null})),error:null}}catch(s){if(ce(s))return{data:null,error:s};throw s}})}download(t,r){return Re(this,void 0,void 0,function*(){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),l=a?`?${a}`:"";try{const o=this._getFinalPath(t);return{data:yield(yield $i(this.fetch,`${this.url}/${s}/${o}${l}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(o){if(ce(o))return{data:null,error:o};throw o}})}info(t){return Re(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield $i(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:ql(n),error:null}}catch(n){if(ce(n))return{data:null,error:n};throw n}})}exists(t){return Re(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield h2(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(ce(n)&&n instanceof Vl){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),s=[],a=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";a!==""&&s.push(a);const o=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&s.push(c);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${n}${u}`)}}}remove(t){return Re(this,void 0,void 0,function*(){try{return{data:yield Tf(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(ce(r))return{data:null,error:r};throw r}})}list(t,r,n){return Re(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},f2),r),{prefix:t||""});return{data:yield At(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(ce(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const p2="2.7.1",g2={"X-Client-Info":`storage-js/${p2}`};var Tr=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(l){l(a)})}return new(r||(r=Promise))(function(a,l){function o(d){try{u(n.next(d))}catch(h){l(h)}}function c(d){try{u(n.throw(d))}catch(h){l(h)}}function u(d){d.done?a(d.value):s(d.value).then(o,c)}u((n=n.apply(e,t||[])).next())})};class x2{constructor(t,r={},n){this.url=t,this.headers=Object.assign(Object.assign({},g2),r),this.fetch=Pf(n)}listBuckets(){return Tr(this,void 0,void 0,function*(){try{return{data:yield $i(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(ce(t))return{data:null,error:t};throw t}})}getBucket(t){return Tr(this,void 0,void 0,function*(){try{return{data:yield $i(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(ce(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return Tr(this,void 0,void 0,function*(){try{return{data:yield At(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(ce(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return Tr(this,void 0,void 0,function*(){try{return{data:yield d2(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(ce(n))return{data:null,error:n};throw n}})}emptyBucket(t){return Tr(this,void 0,void 0,function*(){try{return{data:yield At(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(ce(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Tr(this,void 0,void 0,function*(){try{return{data:yield Tf(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(ce(r))return{data:null,error:r};throw r}})}}class v2 extends x2{constructor(t,r={},n){super(t,r,n)}from(t){return new m2(this.url,this.headers,t,this.fetch)}}const y2="2.50.2";let Pn="";typeof Deno<"u"?Pn="deno":typeof document<"u"?Pn="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Pn="react-native":Pn="node";const w2={"X-Client-Info":`supabase-js-${Pn}/${y2}`},b2={headers:w2},j2={schema:"public"},C2={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},N2={};var _2=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(l){l(a)})}return new(r||(r=Promise))(function(a,l){function o(d){try{u(n.next(d))}catch(h){l(h)}}function c(d){try{u(n.throw(d))}catch(h){l(h)}}function u(d){d.done?a(d.value):s(d.value).then(o,c)}u((n=n.apply(e,t||[])).next())})};const k2=e=>{let t;return e?t=e:typeof fetch>"u"?t=mf:t=fetch,(...r)=>t(...r)},S2=()=>typeof Headers>"u"?pf:Headers,E2=(e,t,r)=>{const n=k2(r),s=S2();return(a,l)=>_2(void 0,void 0,void 0,function*(){var o;const c=(o=yield t())!==null&&o!==void 0?o:e;let u=new s(l==null?void 0:l.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(a,Object.assign(Object.assign({},l),{headers:u}))})};var P2=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(l){l(a)})}return new(r||(r=Promise))(function(a,l){function o(d){try{u(n.next(d))}catch(h){l(h)}}function c(d){try{u(n.throw(d))}catch(h){l(h)}}function u(d){d.done?a(d.value):s(d.value).then(o,c)}u((n=n.apply(e,t||[])).next())})};function T2(e){return e.endsWith("/")?e:e+"/"}function O2(e,t){var r,n;const{db:s,auth:a,realtime:l,global:o}=e,{db:c,auth:u,realtime:d,global:h}=t,m={db:Object.assign(Object.assign({},c),s),auth:Object.assign(Object.assign({},u),a),realtime:Object.assign(Object.assign({},d),l),global:Object.assign(Object.assign(Object.assign({},h),o),{headers:Object.assign(Object.assign({},(r=h==null?void 0:h.headers)!==null&&r!==void 0?r:{}),(n=o==null?void 0:o.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>P2(this,void 0,void 0,function*(){return""})};return e.accessToken?m.accessToken=e.accessToken:delete m.accessToken,m}const Of="2.70.0",$r=30*1e3,Wl=3,Fa=Wl*$r,I2="http://localhost:9999",R2="supabase.auth.token",$2={"X-Client-Info":`gotrue-js/${Of}`},Gl="X-Supabase-Api-Version",If={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},L2=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,D2=6e5;class Yo extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function D(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class A2 extends Yo{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function M2(e){return D(e)&&e.name==="AuthApiError"}class Rf extends Yo{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class ar extends Yo{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class $t extends ar{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function U2(e){return D(e)&&e.name==="AuthSessionMissingError"}class Hs extends ar{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Vs extends ar{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class qs extends ar{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function z2(e){return D(e)&&e.name==="AuthImplicitGrantRedirectError"}class Su extends ar{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Kl extends ar{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function Ba(e){return D(e)&&e.name==="AuthRetryableFetchError"}class Eu extends ar{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Bn extends ar{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Li="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Pu=` 	
\r=`.split(""),F2=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Pu.length;t+=1)e[Pu[t].charCodeAt(0)]=-2;for(let t=0;t<Li.length;t+=1)e[Li[t].charCodeAt(0)]=t;return e})();function Tu(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Li[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Li[n]),t.queuedBits-=6}}function $f(e,t,r){const n=F2[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Ou(e){const t=[],r=l=>{t.push(String.fromCodePoint(l))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},a=l=>{V2(l,n,r)};for(let l=0;l<e.length;l+=1)$f(e.charCodeAt(l),s,a);return t.join("")}function B2(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function H2(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}B2(n,t)}}function V2(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function q2(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)$f(e.charCodeAt(s),r,n);return new Uint8Array(t)}function W2(e){const t=[];return H2(e,r=>t.push(r)),new Uint8Array(t)}function G2(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};return e.forEach(s=>Tu(s,r,n)),Tu(null,r,n),t.join("")}function K2(e){return Math.round(Date.now()/1e3)+e}function Q2(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const it=()=>typeof window<"u"&&typeof document<"u",lr={tested:!1,writable:!1},Hn=()=>{if(!it())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(lr.tested)return lr.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),lr.tested=!0,lr.writable=!0}catch{lr.tested=!0,lr.writable=!1}return lr.writable};function J2(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,a)=>{t[a]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const Lf=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>ws(async()=>{const{default:n}=await Promise.resolve().then(()=>fn);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},Z2=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Df=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Ws=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Gs=async(e,t)=>{await e.removeItem(t)};class oa{constructor(){this.promise=new oa.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}oa.promiseConstructor=Promise;function Ha(e){const t=e.split(".");if(t.length!==3)throw new Bn("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!L2.test(t[n]))throw new Bn("JWT not in base64url format");return{header:JSON.parse(Ou(t[0])),payload:JSON.parse(Ou(t[1])),signature:q2(t[2]),raw:{header:t[0],payload:t[1]}}}async function Y2(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function X2(e,t){return new Promise((n,s)=>{(async()=>{for(let a=0;a<1/0;a++)try{const l=await e(a);if(!t(a,null,l)){n(l);return}}catch(l){if(!t(a,l)){s(l);return}}})()})}function ex(e){return("0"+e.toString(16)).substr(-2)}function tx(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let a=0;a<56;a++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,ex).join("")}async function rx(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(a=>String.fromCharCode(a)).join("")}async function nx(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await rx(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Or(e,t,r=!1){const n=tx();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await Df(e,`${t}-code-verifier`,s);const a=await nx(n);return[a,n===a?"plain":"s256"]}const sx=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function ix(e){const t=e.headers.get(Gl);if(!t||!t.match(sx))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function ax(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function lx(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const ox=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ir(e){if(!ox.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var cx=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};const ur=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),ux=[502,503,504];async function Iu(e){var t;if(!Z2(e))throw new Kl(ur(e),0);if(ux.includes(e.status))throw new Kl(ur(e),e.status);let r;try{r=await e.json()}catch(a){throw new Rf(ur(a),a)}let n;const s=ix(e);if(s&&s.getTime()>=If["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Eu(ur(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new $t}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((a,l)=>a&&typeof l=="string",!0))throw new Eu(ur(r),e.status,r.weak_password.reasons);throw new A2(ur(r),e.status||500,n)}const dx=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function U(e,t,r,n){var s;const a=Object.assign({},n==null?void 0:n.headers);a[Gl]||(a[Gl]=If["2024-01-01"].name),n!=null&&n.jwt&&(a.Authorization=`Bearer ${n.jwt}`);const l=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(l.redirect_to=n.redirectTo);const o=Object.keys(l).length?"?"+new URLSearchParams(l).toString():"",c=await hx(e,t,r+o,{headers:a,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function hx(e,t,r,n,s,a){const l=dx(t,n,s,a);let o;try{o=await e(r,Object.assign({},l))}catch(c){throw console.error(c),new Kl(ur(c),0)}if(o.ok||await Iu(o),n!=null&&n.noResolveJson)return o;try{return await o.json()}catch(c){await Iu(c)}}function wt(e){var t;let r=null;gx(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=K2(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function Ru(e){const t=wt(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Ft(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function fx(e){return{data:e,error:null}}function mx(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:a}=e,l=cx(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:a},c=Object.assign({},l);return{data:{properties:o,user:c},error:null}}function px(e){return e}function gx(e){return e.access_token&&e.refresh_token&&e.expires_in}const Va=["global","local","others"];var xx=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};class vx{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=Lf(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r=Va[0]){if(Va.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Va.join(", ")}`);try{return await U(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(D(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await U(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Ft})}catch(n){if(D(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=xx(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await U(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:mx,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(D(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await U(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Ft})}catch(r){if(D(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,a,l,o,c;try{const u={nextPage:null,lastPage:0,total:0},d=await U(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&a!==void 0?a:""},xform:px});if(d.error)throw d.error;const h=await d.json(),m=(l=d.headers.get("x-total-count"))!==null&&l!==void 0?l:0,x=(c=(o=d.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&c!==void 0?c:[];return x.length>0&&(x.forEach(b=>{const w=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(b.split(";")[1].split("=")[1]);u[`${y}Page`]=w}),u.total=parseInt(m)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(D(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Ir(t);try{return await U(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Ft})}catch(r){if(D(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Ir(t);try{return await U(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Ft})}catch(n){if(D(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Ir(t);try{return await U(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Ft})}catch(n){if(D(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Ir(t.userId);try{const{data:r,error:n}=await U(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(D(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Ir(t.userId),Ir(t.id);try{return{data:await U(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(D(r))return{data:null,error:r};throw r}}}const yx={getItem:e=>Hn()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{Hn()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{Hn()&&globalThis.localStorage.removeItem(e)}};function $u(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function wx(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Rr={debug:!!(globalThis&&Hn()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Af extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class bx extends Af{}async function jx(e,t,r){Rr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Rr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){Rr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{Rr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw Rr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new bx(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Rr.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}wx();const Cx={url:I2,storageKey:R2,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:$2,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Lu(e,t,r){return await r()}class cs{constructor(t){var r,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=cs.nextInstanceID,cs.nextInstanceID+=1,this.instanceID>0&&it()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},Cx),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new vx({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Lf(s.fetch),this.lock=s.lock||Lu,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:it()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=jx:this.lock=Lu,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:Hn()?this.storage=yx:(this.memoryStorage={},this.storage=$u(this.memoryStorage)):(this.memoryStorage={},this.storage=$u(this.memoryStorage)),it()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Of}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=J2(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),it()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:a}=await this._getSessionFromURL(r,n);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),z2(a)){const c=(t=a.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:l,redirectType:o}=s;return this._debug("#_initialize()","detected session in URL",l,"redirect type",o),await this._saveSession(l),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",l):await this._notifyAllSubscribers("SIGNED_IN",l)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return D(r)?{error:r}:{error:new Rf("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const a=await U(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:wt}),{data:l,error:o}=a;if(o||!l)return{data:{user:null,session:null},error:o};const c=l.session,u=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(a){if(D(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(t){var r,n,s;try{let a;if("email"in t){const{email:d,password:h,options:m}=t;let x=null,b=null;this.flowType==="pkce"&&([x,b]=await Or(this.storage,this.storageKey)),a=await U(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:m==null?void 0:m.emailRedirectTo,body:{email:d,password:h,data:(r=m==null?void 0:m.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:x,code_challenge_method:b},xform:wt})}else if("phone"in t){const{phone:d,password:h,options:m}=t;a=await U(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(n=m==null?void 0:m.data)!==null&&n!==void 0?n:{},channel:(s=m==null?void 0:m.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:wt})}else throw new Vs("You must provide either an email or phone number and a password");const{data:l,error:o}=a;if(o||!l)return{data:{user:null,session:null},error:o};const c=l.session,u=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(a){if(D(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(t){try{let r;if("email"in t){const{email:a,password:l,options:o}=t;r=await U(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:l,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Ru})}else if("phone"in t){const{phone:a,password:l,options:o}=t;r=await U(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:l,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Ru})}else throw new Vs("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Hs}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(D(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,s,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;if(r==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(t){var r,n,s,a,l,o,c,u,d,h,m,x;let b,w;if("message"in t)b=t.message,w=t.signature;else{const{chain:y,wallet:f,statement:g,options:p}=t;let j;if(it())if(typeof f=="object")j=f;else{const N=window;if("solana"in N&&typeof N.solana=="object"&&("signIn"in N.solana&&typeof N.solana.signIn=="function"||"signMessage"in N.solana&&typeof N.solana.signMessage=="function"))j=N.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof f!="object"||!(p!=null&&p.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");j=f}const C=new URL((r=p==null?void 0:p.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in j&&j.signIn){const N=await j.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},p==null?void 0:p.signInWithSolana),{version:"1",domain:C.host,uri:C.href}),g?{statement:g}:null));let k;if(Array.isArray(N)&&N[0]&&typeof N[0]=="object")k=N[0];else if(N&&typeof N=="object"&&"signedMessage"in N&&"signature"in N)k=N;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in k&&"signature"in k&&(typeof k.signedMessage=="string"||k.signedMessage instanceof Uint8Array)&&k.signature instanceof Uint8Array)b=typeof k.signedMessage=="string"?k.signedMessage:new TextDecoder().decode(k.signedMessage),w=k.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in j)||typeof j.signMessage!="function"||!("publicKey"in j)||typeof j!="object"||!j.publicKey||!("toBase58"in j.publicKey)||typeof j.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");b=[`${C.host} wants you to sign in with your Solana account:`,j.publicKey.toBase58(),...g?["",g,""]:[""],"Version: 1",`URI: ${C.href}`,`Issued At: ${(s=(n=p==null?void 0:p.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((a=p==null?void 0:p.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${p.signInWithSolana.notBefore}`]:[],...!((l=p==null?void 0:p.signInWithSolana)===null||l===void 0)&&l.expirationTime?[`Expiration Time: ${p.signInWithSolana.expirationTime}`]:[],...!((o=p==null?void 0:p.signInWithSolana)===null||o===void 0)&&o.chainId?[`Chain ID: ${p.signInWithSolana.chainId}`]:[],...!((c=p==null?void 0:p.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${p.signInWithSolana.nonce}`]:[],...!((u=p==null?void 0:p.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${p.signInWithSolana.requestId}`]:[],...!((h=(d=p==null?void 0:p.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...p.signInWithSolana.resources.map(k=>`- ${k}`)]:[]].join(`
`);const N=await j.signMessage(new TextEncoder().encode(b),"utf8");if(!N||!(N instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");w=N}}try{const{data:y,error:f}=await U(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:b,signature:G2(w)},!((m=t.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(x=t.options)===null||x===void 0?void 0:x.captchaToken}}:null),xform:wt});if(f)throw f;return!y||!y.session||!y.user?{data:{user:null,session:null},error:new Hs}:(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),{data:Object.assign({},y),error:f})}catch(y){if(D(y))return{data:{user:null,session:null},error:y};throw y}}async _exchangeCodeForSession(t){const r=await Ws(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:a,error:l}=await U(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:wt});if(await Gs(this.storage,`${this.storageKey}-code-verifier`),l)throw l;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new Hs}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:s??null}),error:l})}catch(a){if(D(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:a,nonce:l}=t,o=await U(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:a,nonce:l,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:wt}),{data:c,error:u}=o;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Hs}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if(D(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,s,a,l;try{if("email"in t){const{email:o,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Or(this.storage,this.storageKey));const{error:h}=await U(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in t){const{phone:o,options:c}=t,{data:u,error:d}=await U(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(a=c==null?void 0:c.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(l=c==null?void 0:c.channel)!==null&&l!==void 0?l:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new Vs("You must provide either an email or phone number.")}catch(o){if(D(o))return{data:{user:null,session:null},error:o};throw o}}async verifyOtp(t){var r,n;try{let s,a;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,a=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:l,error:o}=await U(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:s,xform:wt});if(o)throw o;if(!l)throw new Error("An error occurred on token verification.");const c=l.session,u=l.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(D(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var r,n,s;try{let a=null,l=null;return this.flowType==="pkce"&&([a,l]=await Or(this.storage,this.storageKey)),await U(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:l}),headers:this.headers,xform:fx})}catch(a){if(D(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new $t;const{error:s}=await U(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(D(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:a}=t,{error:l}=await U(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:l}}else if("phone"in t){const{phone:n,type:s,options:a}=t,{data:l,error:o}=await U(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:l==null?void 0:l.message_id},error:o}}throw new Vs("You must provide either an email or phone number and a type")}catch(r){if(D(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Ws(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Fa:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.storage.isServer){let l=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,d)=>(!l&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),l=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:t},error:null}}const{session:s,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{session:null},error:a}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await U(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Ft}):await this._useSession(async r=>{var n,s,a;const{data:l,error:o}=r;if(o)throw o;return!(!((n=l.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new $t}:await U(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(s=l.session)===null||s===void 0?void 0:s.access_token)!==null&&a!==void 0?a:void 0,xform:Ft})})}catch(r){if(D(r))return U2(r)&&(await this._removeSession(),await Gs(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:a}=n;if(a)throw a;if(!s.session)throw new $t;const l=s.session;let o=null,c=null;this.flowType==="pkce"&&t.email!=null&&([o,c]=await Or(this.storage,this.storageKey));const{data:u,error:d}=await U(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:o,code_challenge_method:c}),jwt:l.access_token,xform:Ft});if(d)throw d;return l.user=u.user,await this._saveSession(l),await this._notifyAllSubscribers("USER_UPDATED",l),{data:{user:l.user},error:null}})}catch(n){if(D(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new $t;const r=Date.now()/1e3;let n=r,s=!0,a=null;const{payload:l}=Ha(t.access_token);if(l.exp&&(n=l.exp,s=n<=r),s){const{session:o,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!o)return{data:{user:null,session:null},error:null};a=o}else{const{data:o,error:c}=await this._getUser(t.access_token);if(c)throw c;a={access_token:t.access_token,refresh_token:t.refresh_token,user:o.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(r){if(D(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:l,error:o}=r;if(o)throw o;t=(n=l.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new $t;const{session:s,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{user:null,session:null},error:a}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(D(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!it())throw new qs("No browser detected.");if(t.error||t.error_description||t.error_code)throw new qs(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Su("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new qs("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Su("No code detected.");const{data:g,error:p}=await this._exchangeCodeForSession(t.code);if(p)throw p;const j=new URL(window.location.href);return j.searchParams.delete("code"),window.history.replaceState(window.history.state,"",j.toString()),{data:{session:g.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:a,refresh_token:l,expires_in:o,expires_at:c,token_type:u}=t;if(!a||!o||!l||!u)throw new qs("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(o);let m=d+h;c&&(m=parseInt(c));const x=m-d;x*1e3<=$r&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${x}s, should have been closer to ${h}s`);const b=m-h;d-b>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",b,m,d):d-b<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",b,m,d);const{data:w,error:y}=await this._getUser(a);if(y)throw y;const f={provider_token:n,provider_refresh_token:s,access_token:a,expires_in:h,expires_at:m,refresh_token:l,token_type:u,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:f,redirectType:t.type},error:null}}catch(n){if(D(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Ws(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:a}=r;if(a)return{error:a};const l=(n=s.session)===null||n===void 0?void 0:n.access_token;if(l){const{error:o}=await this.admin.signOut(l,t);if(o&&!(M2(o)&&(o.status===404||o.status===401||o.status===403)))return{error:o}}return t!=="others"&&(await this._removeSession(),await Gs(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=Q2(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:a},error:l}=r;if(l)throw l;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await Or(this.storage,this.storageKey,!0));try{return await U(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(D(a))return{data:null,error:a};throw a}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(D(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:s}=await this._useSession(async a=>{var l,o,c,u,d;const{data:h,error:m}=a;if(m)throw m;const x=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(l=t.options)===null||l===void 0?void 0:l.redirectTo,scopes:(o=t.options)===null||o===void 0?void 0:o.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await U(this.fetch,"GET",x,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return it()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(D(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:a,error:l}=r;if(l)throw l;return await U(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=a.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(D(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await X2(async s=>(s>0&&await Y2(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await U(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:wt})),(s,a)=>{const l=200*Math.pow(2,s);return a&&Ba(a)&&Date.now()+l-n<$r})}catch(n){if(this._debug(r,"error",n),D(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),it()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await Ws(this.storage,this.storageKey);if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}const s=((t=n.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<Fa;if(this._debug(r,`session has${s?"":" not"} expired with margin of ${Fa}s`),s){if(this.autoRefreshToken&&n.refresh_token){const{error:a}=await this._callRefreshToken(n.refresh_token);a&&(console.error(a),Ba(a)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new $t;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new oa;const{data:a,error:l}=await this._refreshAccessToken(t);if(l)throw l;if(!a.session)throw new $t;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const o={session:a.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(a){if(this._debug(s,"error",a),D(a)){const l={session:null,error:a};return Ba(a)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(l),l}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(a),a}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const a=[],l=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(t,r)}catch(c){a.push(c)}});if(await Promise.all(l),a.length>0){for(let o=0;o<a.length;o+=1)console.error(a[o]);throw a[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Df(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await Gs(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&it()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),$r);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/$r);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${$r}ms, refresh threshold is ${Wl} ticks`),s<=Wl&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Af)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!it()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[a,l]=await Or(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(l)}`});s.push(o.toString())}if(n!=null&&n.queryParams){const a=new URLSearchParams(n.queryParams);s.push(a.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:a}=r;return a?{data:null,error:a}:await U(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(D(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:a,error:l}=r;if(l)return{data:null,error:l};const o=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:u}=await U(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(D(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:a}=r;if(a)return{data:null,error:a};const{data:l,error:o}=await U(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return o?{data:null,error:o}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),{data:l,error:o})})}catch(r){if(D(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:a}=r;return a?{data:null,error:a}:await U(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(D(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],s=n.filter(l=>l.factor_type==="totp"&&l.status==="verified"),a=n.filter(l=>l.factor_type==="phone"&&l.status==="verified");return{data:{all:n,totp:s,phone:a},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:s},error:a}=t;if(a)return{data:null,error:a};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=Ha(s.access_token);let o=null;l.aal&&(o=l.aal);let c=o;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(h=>h.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const d=l.amr||[];return{data:{currentLevel:o,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(l=>l.kid===t);if(n||(n=this.jwks.keys.find(l=>l.kid===t),n&&this.jwks_cached_at+D2>Date.now()))return n;const{data:s,error:a}=await U(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;if(!s.keys||s.keys.length===0)throw new Bn("JWKS is empty");if(this.jwks=s,this.jwks_cached_at=Date.now(),n=s.keys.find(l=>l.kid===t),!n)throw new Bn("No matching signing key found in JWKS");return n}async getClaims(t,r={keys:[]}){try{let n=t;if(!n){const{data:x,error:b}=await this.getSession();if(b||!x.session)return{data:null,error:b};n=x.session.access_token}const{header:s,payload:a,signature:l,raw:{header:o,payload:c}}=Ha(n);if(ax(a.exp),!s.kid||s.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:x}=await this.getUser(n);if(x)throw x;return{data:{claims:a,header:s,signature:l},error:null}}const u=lx(s.alg),d=await this.fetchJwk(s.kid,r),h=await crypto.subtle.importKey("jwk",d,u,!0,["verify"]);if(!await crypto.subtle.verify(u,h,l,W2(`${o}.${c}`)))throw new Bn("Invalid JWT signature");return{data:{claims:a,header:s,signature:l},error:null}}catch(n){if(D(n))return{data:null,error:n};throw n}}}cs.nextInstanceID=0;const Nx=cs;class _x extends Nx{constructor(t){super(t)}}var kx=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(l){l(a)})}return new(r||(r=Promise))(function(a,l){function o(d){try{u(n.next(d))}catch(h){l(h)}}function c(d){try{u(n.throw(d))}catch(h){l(h)}}function u(d){d.done?a(d.value):s(d.value).then(o,c)}u((n=n.apply(e,t||[])).next())})};class Sx{constructor(t,r,n){var s,a,l;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const o=T2(t),c=new URL(o);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const u=`sb-${c.hostname.split(".")[0]}-auth-token`,d={db:j2,realtime:N2,auth:Object.assign(Object.assign({},C2),{storageKey:u}),global:b2},h=O2(n??{},d);this.storageKey=(s=h.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(a=h.global.headers)!==null&&a!==void 0?a:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(m,x)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(x)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((l=h.auth)!==null&&l!==void 0?l:{},this.headers,h.global.fetch),this.fetch=E2(r,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.rest=new Vg(new URL("rest/v1",c).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),h.accessToken||this._listenForAuthEvents()}get functions(){return new wg(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new v2(this.storageUrl.href,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return kx(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,storageKey:a,flowType:l,lock:o,debug:c},u,d){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new _x({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),u),storageKey:a,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,flowType:l,lock:o,debug:c,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new i2(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Ex=(e,t,r)=>new Sx(e,t,r),Mf="https://ujkdekqhoeyfjvtzdtaz.supabase.co",Uf="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InVqa2Rla3Fob2V5Zmp2dHpkdGF6Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDkxNjA5MTksImV4cCI6MjA2NDczNjkxOX0.bv4GEzEgDG9FyTM2gZR38HoHGAGNlwAKb_NoXZjpFyY";console.log("Supabase URL:",Mf);console.log("Supabase Key:",Uf.substring(0,10)+"...");const V=Ex(Mf,Uf,{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!1}}),zf=v.createContext(void 0),nt=()=>{const e=v.useContext(zf);if(!e)throw new Error("usePOS must be inside POSProvider");return e},Px=({children:e})=>{const{user:t,empresaId:r,sucursalId:n}=Oe(),[s,a]=v.useState([]),[l,o]=v.useState(!1),[c,u]=v.useState([]),[d,h]=v.useState([]),[m,x]=v.useState([]),[b,w]=v.useState(null),[y,f]=v.useState([]),[g,p]=v.useState(!1),j=c.reduce((A,M)=>A+M.precio*M.quantity,0),C=v.useCallback(async()=>{if(!r)return;o(!0);const{data:A,error:M}=await V.from("productos").select("*").eq("empresa_id",r).eq("activo",!0).order("nombre",{ascending:!0});M?(console.error("Error loading productos",M),L.error("No se pudieron cargar productos"),a([])):a(A||[]),o(!1)},[r]),N=A=>{u(M=>M.find(fe=>fe.id===A.id)?M.map(fe=>fe.id===A.id?{...fe,quantity:fe.quantity+1}:fe):[...M,{...A,quantity:1}])},k=(A,M)=>{M<=0?T(A):u(ne=>ne.map(fe=>fe.id===A?{...fe,quantity:M}:fe))},T=A=>{u(M=>M.filter(ne=>ne.id!==A))},S=()=>{u([])},O=v.useCallback(async()=>{if(!r||!t)return;const{data:A,error:M}=await V.from("borradores_venta").select("*").eq("empresa_id",r).eq("usuario_id",t.id).order("created_at",{ascending:!1});M?(console.error("Error loading drafts",M),h([])):h(A||[])},[r,t]),Y=async A=>{if(!r||!t||c.length===0)return!1;const{error:M}=await V.from("borradores_venta").insert([{empresa_id:r,usuario_id:t.id,nombre:A,fecha:new Date().toISOString(),items:c,total:j}]);return M?(L.error("Error al guardar borrador"),!1):(L.success("Borrador guardado"),await O(),!0)},ze=async A=>{const{data:M,error:ne}=await V.from("borradores_venta").select("*").eq("id",A).single();return ne||!M?(L.error("Error al cargar borrador"),!1):(u(M.items||[]),L.success("Borrador cargado"),!0)},ve=async A=>{const{error:M}=await V.from("borradores_venta").delete().eq("id",A);return M?(L.error("Error al eliminar borrador"),!1):(L.success("Borrador eliminado"),await O(),!0)},F=v.useCallback(async()=>{if(!r)return;const{data:A,error:M}=await V.from("clientes").select("*").eq("empresa_id",r).order("razon_social",{ascending:!0});M?(console.error("Error loading clients",M),x([])):x(A||[])},[r]),he=A=>{w(A),L.success(`Cliente ${A.razon_social} seleccionado`)},Ke=async A=>{if(!r)return{success:!1,error:"Empresa no definida"};const{data:M,error:ne}=await V.from("clientes").insert([{empresa_id:r,...A}]).select().single();return ne||!M?(L.error("Error al crear cliente"),{success:!1,error:ne==null?void 0:ne.message}):(L.success("Cliente creado"),await F(),{success:!0,data:M})},Ie=async(A,M,ne)=>{if(!t||!r||!n||c.length===0)return{success:!1,error:"Datos incompletos"};const fe=`${Date.now()}`,{data:da,error:Ns}=await V.from("ventas").insert([{empresa_id:r,sucursal_id:n,cliente_id:ne||null,usuario_id:t.id,folio:fe,tipo_dte:M,metodo_pago:A,subtotal:j,total:j,estado:"completada"}]).select().single();if(Ns||!da)return{success:!1,error:Ns==null?void 0:Ns.message};const Yf=c.map(pn=>({venta_id:da.id,producto_id:pn.id,cantidad:pn.quantity,precio_unitario:pn.precio,subtotal:pn.quantity*pn.precio})),{error:tc}=await V.from("venta_items").insert(Yf);return tc?{success:!1,error:tc.message}:(S(),w(null),{success:!0,data:da})},E=v.useCallback(async()=>{f([{id:"p1",nombre:"10% OFF",tipo:"descuento_porcentaje",valor:10},{id:"p2",nombre:"2x1",tipo:"2x1",valor:null}])},[]),R=async(A,M)=>(L.success("Promoción aplicada"),!0),$=v.useCallback(async()=>{p(!1)},[]),I=async A=>(p(!0),L.success("Caja abierta"),!0),W=async()=>(p(!1),L.success("Caja cerrada"),!0);v.useEffect(()=>{r&&(o(!0),Promise.all([C(),O(),F(),E(),$()]).finally(()=>o(!1)))},[r,C,O,F,E,$]);const Qe={productos:s,loading:l,loadProductos:C,carrito:c,total:j,addToCart:N,updateQuantity:k,removeFromCart:T,clearCart:S,borradores:d,loadBorradores:O,saveDraft:Y,loadDraft:ze,deleteDraft:ve,clientes:m,currentCliente:b,loadClientes:F,selectClient:he,crearCliente:Ke,procesarVenta:Ie,cajaAbierta:g,checkCajaStatus:$,openCaja:I,closeCaja:W,promociones:y,loadPromociones:E,aplicarPromocion:R};return i.jsx(zf.Provider,{value:Qe,children:e})},Ff=v.createContext(void 0),ca=()=>{const e=v.useContext(Ff);if(e===void 0)throw new Error("useSidebar must be used within a SidebarProvider");return e},Tx=({children:e})=>{const[t,r]=v.useState(!1),n=Go(),c={isOpen:t,toggleSidebar:()=>{r(u=>!u)},closeSidebar:()=>{r(!1)},handleSidebarAction:u=>{switch(u){case"movimiento":n("/movimiento");break;case"reimprimir":n("/reimprimir");break;case"reportes":n("/reportes");break;case"despacho":n("/despacho");break;case"devolucion":n("/devolucion");break;case"promociones":n("/promociones");break;case"cierre":n("/cierre");break;case"arqueo":n("/arqueo");break;case"historial-movimientos":n("/historial-movimientos");break;case"categorias":n("/categorias");break;case"codigos-barras":n("/codigos-barras");break;case"historial-cliente":n("/historial-cliente");break;case"facturacion":n("/facturacion");break;default:n("/");break}r(!1)},openSidebar:()=>{r(!0)}};return i.jsx(Ff.Provider,{value:c,children:e})};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Ox={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ix=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),H=(e,t)=>{const r=v.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:a=2,absoluteStrokeWidth:l,className:o="",children:c,...u},d)=>v.createElement("svg",{ref:d,...Ox,width:s,height:s,stroke:n,strokeWidth:l?Number(a)*24/Number(s):a,className:["lucide",`lucide-${Ix(e)}`,o].join(" "),...u},[...t.map(([h,m])=>v.createElement(h,m)),...Array.isArray(c)?c:[c]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bf=H("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tr=H("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rx=H("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $x=H("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lx=H("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const us=H("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hf=H("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dx=H("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ax=H("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ds=H("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vf=H("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qf=H("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wf=H("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mx=H("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gf=H("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xo=H("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kf=H("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vt=H("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ql=H("Printer",[["polyline",{points:"6 9 6 2 18 2 18 9",key:"1306q4"}],["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["rect",{width:"12",height:"8",x:"6",y:"14",key:"5ipwut"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qf=H("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ux=H("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const li=H("Scan",[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Se=H("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zx=H("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ec=H("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Di=H("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cs=H("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fx=H("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ai=H("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ua=H("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xr=H("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Du=H("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xe=H("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Jf=({variant:e="black",size:t="md",className:r=""})=>{const n={sm:"w-24 h-6",md:"w-32 h-8",lg:"w-48 h-12"};return e==="white"?i.jsxs("svg",{className:`${n[t]} ${r}`,viewBox:"0 0 173 37",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[i.jsx("rect",{x:"0.75",width:"31.7143",height:"37",rx:"5.28571",fill:"#F1F1F1"}),i.jsxs("g",{clipPath:"url(#clip0_429_1793)",children:[i.jsx("path",{d:"M9.78339 34.6753C9.81103 34.7102 9.83731 34.738 9.86169 34.7582C9.82016 34.774 9.79351 34.7446 9.78339 34.6753C8.97443 33.6536 6.98725 26.498 16.5788 22.4831C26.4981 18.331 26.9331 13.8318 26.9331 13.8318C27.2652 17.5592 28.5307 19.5194 19.9579 23.3696C12.0303 26.93 9.65902 33.8234 9.78339 34.6753Z",fill:"#101014"}),i.jsx("path",{d:"M6.88516 31.5232C6.91151 31.5591 6.93675 31.5878 6.96038 31.6089C6.9183 31.6231 6.89273 31.5928 6.88516 31.5232C6.11415 30.4726 4.39032 23.249 14.1224 19.588C24.1872 15.8019 24.7866 11.3216 24.7866 11.3216C24.982 15.0586 26.1749 17.0639 17.4668 20.5976C9.41417 23.8654 6.79207 30.6673 6.88516 31.5232Z",fill:"#101014"}),i.jsx("path",{d:"M11.4302 6.87296C9.60211 4.92278 9.31184 3.80326 10.1366 1.76172C10.5828 4.5894 14.2092 6.74346 23.9243 11.1323C23.7755 12.5088 23.5461 12.9407 22.9778 13.3409C22.9778 13.3409 13.2582 8.82315 11.4302 6.87296Z",fill:"#101014"}),i.jsx("path",{d:"M9.82576 9.72281C8.02851 7.74418 7.75583 6.62025 8.6125 4.5919C8.9974 7.30695 12.194 9.39183 20.9402 13.5537C21.5081 13.824 21.6342 14.5818 21.1785 15.0153C20.6337 15.5335 19.8234 15.6571 19.1527 15.3173C16.2512 13.8474 11.1033 11.1292 9.82576 9.72281Z",fill:"#101014"})]}),i.jsx("path",{d:"M52.5923 28.6569C51.2955 28.6569 50.1867 28.4972 49.2658 28.1777C48.3449 27.8582 47.5744 27.4447 46.9542 26.9373C46.3528 26.4299 45.8736 25.8942 45.5165 25.3304C45.1594 24.7478 44.8869 24.2028 44.699 23.6954C44.5298 23.188 44.4171 22.7745 44.3607 22.455C44.3043 22.1355 44.2761 21.9758 44.2761 21.9758H48.1664C48.1664 21.9758 48.1852 22.0885 48.2228 22.314C48.2792 22.5396 48.3919 22.8309 48.5611 23.188C48.7302 23.5262 48.9745 23.8645 49.294 24.2028C49.6323 24.5411 50.074 24.8324 50.619 25.0767C51.1828 25.3022 51.8781 25.415 52.7051 25.415C53.983 25.415 54.9509 25.1331 55.6087 24.5693C56.2853 23.9867 56.6235 23.2725 56.6235 22.4268C56.6235 21.7127 56.3698 21.1488 55.8624 20.7354C55.355 20.3031 54.6032 19.9836 53.6072 19.7769L50.8445 19.1849C49.7733 18.9594 48.7678 18.6211 47.8281 18.17C46.9072 17.719 46.1649 17.1082 45.6011 16.3377C45.0373 15.5671 44.7554 14.5805 44.7554 13.3777C44.7554 12.1185 45.0655 11.0285 45.6856 10.1076C46.3246 9.18668 47.1985 8.48192 48.3074 7.99328C49.4162 7.48586 50.7129 7.23214 52.1976 7.23214C53.6072 7.23214 54.7724 7.43887 55.6933 7.85233C56.6141 8.26579 57.3471 8.77322 57.8921 9.37462C58.4559 9.97602 58.8694 10.5774 59.1325 11.1788C59.3956 11.7802 59.5648 12.2876 59.6399 12.7011C59.7339 13.1146 59.7809 13.3213 59.7809 13.3213H56.0315C56.0315 13.3213 55.994 13.1803 55.9188 12.8984C55.8436 12.5977 55.6745 12.2594 55.4114 11.8836C55.1482 11.5077 54.7536 11.1788 54.2274 10.8969C53.7011 10.5962 52.9964 10.4459 52.1131 10.4459C50.8539 10.4459 49.933 10.7278 49.3504 11.2916C48.7866 11.8554 48.5047 12.4662 48.5047 13.124C48.5047 13.8005 48.7678 14.3267 49.294 14.7026C49.8202 15.0785 50.525 15.3698 51.4083 15.5765L54.3683 16.1967C55.4771 16.441 56.492 16.8075 57.4129 17.2961C58.3338 17.7848 59.0667 18.4332 59.6117 19.2413C60.1568 20.0306 60.4293 21.0173 60.4293 22.2013C60.4293 23.4041 60.1286 24.4941 59.5272 25.4714C58.9258 26.4487 58.0425 27.2286 56.8773 27.8112C55.7121 28.375 54.2837 28.6569 52.5923 28.6569ZM68.9639 28.6569C67.3289 28.6569 65.9381 28.2904 64.7917 27.5575C63.6453 26.8245 62.7714 25.8754 62.17 24.7102C61.5874 23.5262 61.2961 22.2577 61.2961 20.9045C61.2961 19.5514 61.5874 18.2922 62.17 17.127C62.7714 15.943 63.6453 14.9845 64.7917 14.2516C65.9381 13.5186 67.3289 13.1521 68.9639 13.1521C70.6178 13.1521 72.0085 13.5186 73.1361 14.2516C74.2825 14.9845 75.147 15.943 75.7296 17.127C76.331 18.2922 76.6317 19.5514 76.6317 20.9045C76.6317 22.2577 76.331 23.5262 75.7296 24.7102C75.147 25.8754 74.2825 26.8245 73.1361 27.5575C72.0085 28.2904 70.6178 28.6569 68.9639 28.6569ZM68.9639 25.5278C69.8096 25.5278 70.5144 25.3116 71.0782 24.8794C71.6608 24.4471 72.1025 23.8833 72.4032 23.188C72.7039 22.4738 72.8542 21.7127 72.8542 20.9045C72.8542 20.0776 72.7039 19.3165 72.4032 18.6211C72.1025 17.9257 71.6608 17.3619 71.0782 16.9297C70.5144 16.4974 69.8096 16.2813 68.9639 16.2813C68.137 16.2813 67.4322 16.4974 66.8496 16.9297C66.267 17.3619 65.8254 17.9257 65.5247 18.6211C65.224 19.3165 65.0736 20.0776 65.0736 20.9045C65.0736 21.7127 65.224 22.4738 65.5247 23.188C65.8254 23.8833 66.267 24.4471 66.8496 24.8794C67.4322 25.3116 68.137 25.5278 68.9639 25.5278ZM78.3214 28.375L78.3496 6.95024H82.0707V28.375H78.3214ZM88.6629 28.375L83.1094 13.434H86.9151L90.6644 24.09L94.3574 13.434H98.1631L92.5814 28.375H88.6629ZM105.436 28.6569C104.158 28.6569 103.049 28.4408 102.109 28.0085C101.188 27.5575 100.418 26.9655 99.7975 26.2325C99.1961 25.4808 98.745 24.6445 98.4443 23.7236C98.1436 22.8027 97.9933 21.863 97.9933 20.9045C97.9933 19.946 98.1342 19.0158 98.4161 18.1137C98.7168 17.1928 99.1585 16.3565 99.7411 15.6047C100.342 14.853 101.104 14.261 102.025 13.8287C102.945 13.3777 104.035 13.1521 105.295 13.1521C106.648 13.1521 107.841 13.4528 108.875 14.0542C109.908 14.6556 110.717 15.5389 111.299 16.7041C111.882 17.8506 112.173 19.2789 112.173 20.9891V21.9476H101.771C101.827 22.9624 102.175 23.8457 102.814 24.5975C103.453 25.3304 104.327 25.6969 105.436 25.6969C106.075 25.6969 106.601 25.5935 107.014 25.3868C107.428 25.1801 107.747 24.9452 107.973 24.682C108.198 24.4001 108.358 24.1652 108.452 23.9773C108.546 23.7706 108.593 23.6672 108.593 23.6672H112.06C112.06 23.6672 112.013 23.8363 111.919 24.1746C111.825 24.4941 111.647 24.9076 111.384 25.415C111.139 25.9036 110.773 26.4017 110.284 26.9091C109.796 27.3977 109.157 27.8112 108.367 28.1495C107.578 28.4878 106.601 28.6569 105.436 28.6569ZM101.771 19.495H108.565C108.508 18.3298 108.161 17.4653 107.522 16.9015C106.883 16.3377 106.131 16.0558 105.266 16.0558C104.308 16.0558 103.509 16.3659 102.87 16.986C102.231 17.5874 101.865 18.4238 101.771 19.495ZM113.58 28.375V13.434H117.33V15.5765H117.499C117.649 15.3134 117.884 14.9939 118.204 14.618C118.523 14.2234 118.965 13.8851 119.529 13.6032C120.092 13.3025 120.807 13.1521 121.671 13.1521C122.818 13.1521 123.757 13.4153 124.49 13.9415C125.242 14.4489 125.796 15.1255 126.153 15.9712C126.529 16.8169 126.717 17.7284 126.717 18.7057V28.375H122.968V19.2131C122.968 18.405 122.742 17.7096 122.291 17.127C121.84 16.5444 121.164 16.2531 120.262 16.2531C119.566 16.2531 119.002 16.4316 118.57 16.7887C118.138 17.127 117.818 17.5687 117.612 18.1137C117.424 18.6587 117.33 19.2319 117.33 19.8333V28.375H113.58ZM134.736 28.6569C133.627 28.6569 132.659 28.4408 131.832 28.0085C131.005 27.5575 130.31 26.9655 129.746 26.2325C129.201 25.4808 128.787 24.6445 128.506 23.7236C128.242 22.8027 128.111 21.863 128.111 20.9045C128.111 19.946 128.242 19.0064 128.506 18.0855C128.787 17.1646 129.201 16.3377 129.746 15.6047C130.31 14.853 131.005 14.261 131.832 13.8287C132.659 13.3777 133.627 13.1521 134.736 13.1521C135.694 13.1521 136.483 13.3119 137.104 13.6314C137.724 13.9321 138.212 14.2704 138.57 14.6462C138.927 15.0033 139.171 15.2946 139.302 15.5201H139.472V6.95024H143.221V28.375H139.472V26.2889H139.302C139.171 26.5144 138.927 26.8151 138.57 27.191C138.212 27.5669 137.724 27.9052 137.104 28.2059C136.483 28.5066 135.694 28.6569 134.736 28.6569ZM135.722 25.5841C136.568 25.5841 137.273 25.3586 137.837 24.9076C138.4 24.4377 138.823 23.8457 139.105 23.1316C139.387 22.4174 139.528 21.6751 139.528 20.9045C139.528 20.134 139.387 19.3916 139.105 18.6775C138.823 17.9633 138.4 17.3807 137.837 16.9297C137.273 16.4598 136.568 16.2249 135.722 16.2249C134.877 16.2249 134.162 16.4598 133.58 16.9297C133.016 17.3807 132.593 17.9633 132.311 18.6775C132.029 19.3916 131.888 20.134 131.888 20.9045C131.888 21.6751 132.029 22.4174 132.311 23.1316C132.593 23.8457 133.016 24.4377 133.58 24.9076C134.162 25.3586 134.877 25.5841 135.722 25.5841ZM152.572 28.6569C150.937 28.6569 149.546 28.2904 148.4 27.5575C147.253 26.8245 146.379 25.8754 145.778 24.7102C145.195 23.5262 144.904 22.2577 144.904 20.9045C144.904 19.5514 145.195 18.2922 145.778 17.127C146.379 15.943 147.253 14.9845 148.4 14.2516C149.546 13.5186 150.937 13.1521 152.572 13.1521C154.226 13.1521 155.616 13.5186 156.744 14.2516C157.89 14.9845 158.755 15.943 159.338 17.127C159.939 18.2922 160.24 19.5514 160.24 20.9045C160.24 22.2577 159.939 23.5262 159.338 24.7102C158.755 25.8754 157.89 26.8245 156.744 27.5575C155.616 28.2904 154.226 28.6569 152.572 28.6569ZM152.572 25.5278C153.418 25.5278 154.122 25.3116 154.686 24.8794C155.269 24.4471 155.71 23.8833 156.011 23.188C156.312 22.4738 156.462 21.7127 156.462 20.9045C156.462 20.0776 156.312 19.3165 156.011 18.6211C155.71 17.9257 155.269 17.3619 154.686 16.9297C154.122 16.4974 153.418 16.2813 152.572 16.2813C151.745 16.2813 151.04 16.4974 150.458 16.9297C149.875 17.3619 149.433 17.9257 149.133 18.6211C148.832 19.3165 148.682 20.0776 148.682 20.9045C148.682 21.7127 148.832 22.4738 149.133 23.188C149.433 23.8833 149.875 24.4471 150.458 24.8794C151.04 25.3116 151.745 25.5278 152.572 25.5278Z",fill:"#F1F1F1"}),i.jsx("defs",{children:i.jsx("clipPath",{id:"clip0_429_1793",children:i.jsx("rect",{width:"21.5833",height:"33.0256",fill:"white",transform:"translate(5.81546 1.9873)"})})})]}):i.jsxs("svg",{className:`${n[t]} ${r}`,viewBox:"0 0 195 42",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[i.jsx("rect",{width:"36",height:"42",rx:"6",fill:"#101014"}),i.jsxs("g",{clipPath:"url(#clip0_390_976)",children:[i.jsx("path",{d:"M10.2541 39.3614C10.2855 39.401 10.3153 39.4325 10.343 39.4555C10.2959 39.4733 10.2656 39.4401 10.2541 39.3614C9.33584 38.2016 7.08012 30.079 17.9678 25.5216C29.2276 20.8084 29.7214 15.7012 29.7214 15.7012C30.0984 19.9322 31.5349 22.1574 21.8036 26.5279C12.8047 30.5694 10.1129 38.3943 10.2541 39.3614Z",fill:"white"}),i.jsx("path",{d:"M6.96423 35.7833C6.99415 35.824 7.0228 35.8566 7.04962 35.8806C7.00185 35.8967 6.97283 35.8623 6.96423 35.7833C6.08904 34.5907 4.13226 26.3909 15.1795 22.2352C26.6044 17.9375 27.2848 12.8518 27.2848 12.8518C27.5066 17.0938 28.8607 19.3701 18.9759 23.3813C9.83501 27.0906 6.85856 34.8117 6.96423 35.7833Z",fill:"white"}),i.jsx("path",{d:"M12.1234 7.80196C10.0483 5.58823 9.71884 4.31743 10.655 2C11.1616 5.2098 15.278 7.65495 26.306 12.6369C26.1371 14.1994 25.8766 14.6897 25.2316 15.1439C25.2316 15.1439 14.1985 10.0157 12.1234 7.80196Z",fill:"white"}),i.jsx("path",{d:"M10.3022 11.0369C8.26209 8.79091 7.95257 7.51509 8.925 5.21264C9.36192 8.29458 12.9905 10.6612 22.9186 15.3855C23.5633 15.6923 23.7063 16.5525 23.1891 17.0446C22.5706 17.6328 21.6509 17.7731 20.8895 17.3874C17.596 15.7188 11.7523 12.6334 10.3022 11.0369Z",fill:"white"})]}),i.jsx("path",{d:"M58.848 33.07C57.376 33.07 56.1173 32.8887 55.072 32.526C54.0267 32.1633 53.152 31.694 52.448 31.118C51.7653 30.542 51.2213 29.934 50.816 29.294C50.4107 28.6327 50.1013 28.014 49.888 27.438C49.696 26.862 49.568 26.3927 49.504 26.03C49.44 25.6673 49.408 25.486 49.408 25.486H53.824C53.824 25.486 53.8453 25.614 53.888 25.87C53.952 26.126 54.08 26.4567 54.272 26.862C54.464 27.246 54.7413 27.63 55.104 28.014C55.488 28.398 55.9893 28.7287 56.608 29.006C57.248 29.262 58.0373 29.39 58.976 29.39C60.4267 29.39 61.5253 29.07 62.272 28.43C63.04 27.7687 63.424 26.958 63.424 25.998C63.424 25.1873 63.136 24.5473 62.56 24.078C61.984 23.5873 61.1307 23.2247 60 22.99L56.864 22.318C55.648 22.062 54.5067 21.678 53.44 21.166C52.3947 20.654 51.552 19.9607 50.912 19.086C50.272 18.2113 49.952 17.0913 49.952 15.726C49.952 14.2967 50.304 13.0593 51.008 12.014C51.7333 10.9687 52.7253 10.1687 53.984 9.614C55.2427 9.038 56.7147 8.75 58.4 8.75C60 8.75 61.3227 8.98466 62.368 9.454C63.4133 9.92333 64.2453 10.4993 64.864 11.182C65.504 11.8647 65.9733 12.5473 66.272 13.23C66.5707 13.9127 66.7627 14.4887 66.848 14.958C66.9547 15.4273 67.008 15.662 67.008 15.662H62.752C62.752 15.662 62.7093 15.502 62.624 15.182C62.5387 14.8407 62.3467 14.4567 62.048 14.03C61.7493 13.6033 61.3013 13.23 60.704 12.91C60.1067 12.5687 59.3067 12.398 58.304 12.398C56.8747 12.398 55.8293 12.718 55.168 13.358C54.528 13.998 54.208 14.6913 54.208 15.438C54.208 16.206 54.5067 16.8033 55.104 17.23C55.7013 17.6567 56.5013 17.9873 57.504 18.222L60.864 18.926C62.1227 19.2033 63.2747 19.6193 64.32 20.174C65.3653 20.7287 66.1973 21.4647 66.816 22.382C67.4347 23.278 67.744 24.398 67.744 25.742C67.744 27.1073 67.4027 28.3447 66.72 29.454C66.0373 30.5633 65.0347 31.4487 63.712 32.11C62.3893 32.75 60.768 33.07 58.848 33.07ZM77.432 33.07C75.576 33.07 73.9973 32.654 72.696 31.822C71.3947 30.99 70.4027 29.9127 69.72 28.59C69.0587 27.246 68.728 25.806 68.728 24.27C68.728 22.734 69.0587 21.3047 69.72 19.982C70.4027 18.638 71.3947 17.55 72.696 16.718C73.9973 15.886 75.576 15.47 77.432 15.47C79.3093 15.47 80.888 15.886 82.168 16.718C83.4693 17.55 84.4507 18.638 85.112 19.982C85.7947 21.3047 86.136 22.734 86.136 24.27C86.136 25.806 85.7947 27.246 85.112 28.59C84.4507 29.9127 83.4693 30.99 82.168 31.822C80.888 32.654 79.3093 33.07 77.432 33.07ZM77.432 29.518C78.392 29.518 79.192 29.2727 79.832 28.782C80.4933 28.2913 80.9947 27.6513 81.336 26.862C81.6773 26.0513 81.848 25.1873 81.848 24.27C81.848 23.3313 81.6773 22.4673 81.336 21.678C80.9947 20.8887 80.4933 20.2487 79.832 19.758C79.192 19.2673 78.392 19.022 77.432 19.022C76.4933 19.022 75.6933 19.2673 75.032 19.758C74.3707 20.2487 73.8693 20.8887 73.528 21.678C73.1867 22.4673 73.016 23.3313 73.016 24.27C73.016 25.1873 73.1867 26.0513 73.528 26.862C73.8693 27.6513 74.3707 28.2913 75.032 28.782C75.6933 29.2727 76.4933 29.518 77.432 29.518ZM88.054 32.75L88.086 8.43H92.31V32.75H88.054ZM99.793 32.75L93.489 15.79H97.809L102.065 27.886L106.257 15.79H110.577L104.241 32.75H99.793ZM118.832 33.07C117.382 33.07 116.123 32.8247 115.056 32.334C114.011 31.822 113.136 31.15 112.432 30.318C111.75 29.4647 111.238 28.5153 110.896 27.47C110.555 26.4247 110.384 25.358 110.384 24.27C110.384 23.182 110.544 22.126 110.864 21.102C111.206 20.0567 111.707 19.1073 112.368 18.254C113.051 17.4007 113.915 16.7287 114.96 16.238C116.006 15.726 117.243 15.47 118.672 15.47C120.208 15.47 121.563 15.8113 122.736 16.494C123.91 17.1767 124.827 18.1793 125.488 19.502C126.15 20.8033 126.48 22.4247 126.48 24.366V25.454H114.672C114.736 26.606 115.131 27.6087 115.856 28.462C116.582 29.294 117.574 29.71 118.832 29.71C119.558 29.71 120.155 29.5927 120.624 29.358C121.094 29.1233 121.456 28.8567 121.712 28.558C121.968 28.238 122.15 27.9713 122.256 27.758C122.363 27.5233 122.416 27.406 122.416 27.406H126.352C126.352 27.406 126.299 27.598 126.192 27.982C126.086 28.3447 125.883 28.814 125.584 29.39C125.307 29.9447 124.891 30.51 124.336 31.086C123.782 31.6407 123.056 32.11 122.16 32.494C121.264 32.878 120.155 33.07 118.832 33.07ZM114.672 22.67H122.384C122.32 21.3473 121.926 20.366 121.2 19.726C120.475 19.086 119.622 18.766 118.64 18.766C117.552 18.766 116.646 19.118 115.92 19.822C115.195 20.5047 114.779 21.454 114.672 22.67ZM128.078 32.75V15.79H132.334V18.222H132.526C132.696 17.9233 132.963 17.5607 133.326 17.134C133.688 16.686 134.19 16.302 134.83 15.982C135.47 15.6407 136.28 15.47 137.262 15.47C138.563 15.47 139.63 15.7687 140.462 16.366C141.315 16.942 141.944 17.71 142.35 18.67C142.776 19.63 142.99 20.6647 142.99 21.774V32.75H138.734V22.35C138.734 21.4327 138.478 20.6433 137.966 19.982C137.454 19.3207 136.686 18.99 135.662 18.99C134.872 18.99 134.232 19.1927 133.742 19.598C133.251 19.982 132.888 20.4833 132.654 21.102C132.44 21.7207 132.334 22.3713 132.334 23.054V32.75H128.078ZM152.092 33.07C150.833 33.07 149.734 32.8247 148.796 32.334C147.857 31.822 147.068 31.15 146.428 30.318C145.809 29.4647 145.34 28.5153 145.02 27.47C144.721 26.4247 144.572 25.358 144.572 24.27C144.572 23.182 144.721 22.1153 145.02 21.07C145.34 20.0247 145.809 19.086 146.428 18.254C147.068 17.4007 147.857 16.7287 148.796 16.238C149.734 15.726 150.833 15.47 152.092 15.47C153.18 15.47 154.076 15.6513 154.78 16.014C155.484 16.3553 156.038 16.7393 156.444 17.166C156.849 17.5713 157.126 17.902 157.276 18.158H157.468V8.43H161.724V32.75H157.468V30.382H157.276C157.126 30.638 156.849 30.9793 156.444 31.406C156.038 31.8327 155.484 32.2167 154.78 32.558C154.076 32.8993 153.18 33.07 152.092 33.07ZM153.212 29.582C154.172 29.582 154.972 29.326 155.612 28.814C156.252 28.2807 156.732 27.6087 157.052 26.798C157.372 25.9873 157.532 25.1447 157.532 24.27C157.532 23.3953 157.372 22.5527 157.052 21.742C156.732 20.9313 156.252 20.27 155.612 19.758C154.972 19.2247 154.172 18.958 153.212 18.958C152.252 18.958 151.441 19.2247 150.78 19.758C150.14 20.27 149.66 20.9313 149.34 21.742C149.02 22.5527 148.86 23.3953 148.86 24.27C148.86 25.1447 149.02 25.9873 149.34 26.798C149.66 27.6087 150.14 28.2807 150.78 28.814C151.441 29.326 152.252 29.582 153.212 29.582ZM172.338 33.07C170.482 33.07 168.904 32.654 167.602 31.822C166.301 30.99 165.309 29.9127 164.626 28.59C163.965 27.246 163.634 25.806 163.634 24.27C163.634 22.734 163.965 21.3047 164.626 19.982C165.309 18.638 166.301 17.55 167.602 16.718C168.904 15.886 170.482 15.47 172.338 15.47C174.216 15.47 175.794 15.886 177.074 16.718C178.376 17.55 179.357 18.638 180.018 19.982C180.701 21.3047 181.042 22.734 181.042 24.27C181.042 25.806 180.701 27.246 180.018 28.59C179.357 29.9127 178.376 30.99 177.074 31.822C175.794 32.654 174.216 33.07 172.338 33.07ZM172.338 29.518C173.298 29.518 174.098 29.2727 174.738 28.782C175.4 28.2913 175.901 27.6513 176.242 26.862C176.584 26.0513 176.754 25.1873 176.754 24.27C176.754 23.3313 176.584 22.4673 176.242 21.678C175.901 20.8887 175.4 20.2487 174.738 19.758C174.098 19.2673 173.298 19.022 172.338 19.022C171.4 19.022 170.6 19.2673 169.938 19.758C169.277 20.2487 168.776 20.8887 168.434 21.678C168.093 22.4673 167.922 23.3313 167.922 24.27C167.922 25.1873 168.093 26.0513 168.434 26.862C168.776 27.6513 169.277 28.2913 169.938 28.782C170.6 29.2727 171.4 29.518 172.338 29.518Z",fill:"#101014"}),i.jsx("defs",{children:i.jsx("clipPath",{id:"clip0_390_976",children:i.jsx("rect",{width:"24.5",height:"37.4886",fill:"white",transform:"translate(5.75 2.25574)"})})})]})},Bx=()=>{const[e,t]=v.useState(""),[r,n]=v.useState(""),[s,a]=v.useState(!1),[l,o]=v.useState(""),[c,u]=v.useState(!1),{validateUser:d,login:h}=Oe(),m=async x=>{if(x.preventDefault(),!e||!r){o("Por favor ingresa RUT y contraseña");return}u(!0),o("");try{const b=await h(e.trim(),r.trim());b.success||(o(b.error||"Error en el login"),L.error("Error en el login"))}catch{o("Error de conexión"),L.error("Error de conexión")}finally{u(!1)}};return i.jsx("div",{className:"flex items-center justify-center min-h-screen p-4",children:i.jsxs("div",{className:"max-w-md w-full",children:[i.jsx("div",{className:"text-center mb-8",children:i.jsx(Jf,{size:"lg",className:"mx-auto mb-6"})}),i.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-200 p-8",children:[i.jsxs("div",{className:"text-center mb-6",children:[i.jsx("div",{className:"mx-auto w-16 h-16 bg-orange-100 rounded-full flex items-center justify-center mb-4",children:i.jsx(zx,{className:"w-8 h-8 text-orange-600"})}),i.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-2",children:"Iniciar Sesión"}),i.jsx("p",{className:"text-gray-600",children:"Ingrese sus credenciales"}),i.jsx("p",{className:"text-sm text-blue-600 font-medium",children:"RUT: 78.168.951-3 / Clave: 123456"})]}),i.jsxs("form",{onSubmit:m,className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"ID / RUT Supervisor"}),i.jsx("input",{type:"text",value:e,onChange:x=>t(x.target.value.trim()),placeholder:"12.345.678-9",className:"w-full px-4 py-3 bg-gray-100 border-0 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-gray-900 placeholder-gray-500",autoFocus:!0})]}),i.jsxs("div",{className:"relative",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Contraseña del Supervisor"}),i.jsx("input",{type:s?"text":"password",value:r,onChange:x=>n(x.target.value.trim()),placeholder:"Contraseña del Supervisor",className:"w-full px-4 py-3 bg-gray-100 border-0 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-gray-900 placeholder-gray-500"}),i.jsx("button",{type:"button",className:"absolute right-3 top-1/2 transform translate-y-1 text-gray-400 hover:text-gray-600",onClick:()=>a(!s),children:s?i.jsx(Dx,{size:20}):i.jsx(Ax,{size:20})})]}),l&&i.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:i.jsx("p",{className:"text-sm text-red-600",children:l})}),i.jsxs("button",{type:"submit",disabled:!e||!r||c,className:"w-full bg-blue-500 hover:bg-blue-600 text-white py-3 rounded-lg font-medium disabled:opacity-50 disabled:cursor-not-allowed transition-colors h-12",children:[c?"Ingresando...":"Ingresar",i.jsx("span",{className:"block text-xs mt-1",children:"Usar: 78.168.951-3 / 123456"})]})]})]})]})})};function Hx(){const{productos:e=[],carrito:t,addToCart:r,updateQuantity:n,removeFromCart:s}=nt(),a=e.filter(o=>o.destacado),l=o=>new Intl.NumberFormat("es-CL",{style:"currency",currency:"CLP"}).format(o);return a.length?i.jsxs("div",{className:"space-y-4",children:[i.jsx("h3",{className:"text-blue-600 font-semibold text-lg",children:"★ Productos destacados"}),a.map(o=>{const c=t.find(d=>d.id===o.id),u=(c==null?void 0:c.quantity)||0;return i.jsxs("div",{className:"flex items-center justify-between py-2",children:[i.jsxs("div",{className:"flex-1 space-y-1",children:[i.jsx("span",{className:"font-medium",children:o.nombre}),i.jsxs("span",{className:"text-xs text-gray-500",children:["Stock: ",o.stock," unidades"]}),i.jsxs("span",{className:"text-xs text-gray-500",children:["SKU: ",o.codigo]})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("button",{onClick:()=>n(o.id,u+1),className:"px-2 py-1 bg-gray-200 rounded",children:"+"}),i.jsx("span",{className:"font-semibold",children:l(u*o.precio)})]}),u>0&&i.jsx("button",{onClick:()=>s(o.id),className:"ml-4 text-red-500",children:i.jsx(xe,{className:"w-4 h-4"})}),i.jsx("button",{className:"ml-4 text-gray-400 hover:text-gray-600",children:i.jsx(Mx,{className:"w-5 h-5"})})]},o.id)})]}):i.jsx("p",{className:"text-gray-500",children:"No hay productos destacados"})}function Vx(){const{borradores:e=[],loadBorradores:t,loadDraft:r,deleteDraft:n}=nt(),[s,a]=v.useState("");v.useEffect(()=>{t()},[t]);const l=e.filter(o=>o.nombre.toLowerCase().includes(s.toLowerCase()));return i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h3",{className:"text-blue-600 font-semibold text-lg",children:"Borradores de Venta"}),i.jsxs("span",{className:"text-sm text-gray-600",children:["Fecha: ",new Date().toLocaleDateString("es-CL")]})]}),i.jsxs("div",{className:"relative mb-4",children:[i.jsx(Se,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 w-4 h-4"}),i.jsx("input",{value:s,onChange:o=>a(o.target.value),placeholder:"Buscar borradores...",className:"w-full pl-10 pr-4 py-2 bg-white border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),i.jsxs("ul",{className:"space-y-2",children:[l.map((o,c)=>i.jsxs("li",{className:"flex items-center justify-between p-2 bg-white rounded border",children:[i.jsxs("span",{className:"flex-1 text-sm",children:["Nº",c+1," ",o.nombre," –"," ",new Date(o.fecha).toLocaleDateString("es-CL")]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("button",{onClick:()=>r(o.id),className:"text-green-600 p-1 hover:bg-green-50 rounded",title:"Cargar",children:i.jsx(Rx,{className:"w-4 h-4"})}),i.jsx("button",{onClick:()=>n(o.id),className:"text-red-600 p-1 hover:bg-red-50 rounded",title:"Eliminar",children:i.jsx(Cs,{className:"w-4 h-4"})})]})]},o.id)),!l.length&&i.jsx("li",{className:"text-center text-gray-500 py-4",children:s?"No se encontraron borradores":"Aquí aparecerán tus borradores guardados"})]})]})}const qx=({onAddToCart:e,searchTerm:t})=>{const{productos:r,loading:n}=nt(),[s,a]=v.useState("all"),l=c=>new Intl.NumberFormat("es-CL",{style:"currency",currency:"CLP"}).format(c),o=r.filter(c=>t?c.nombre.toLowerCase().includes(t.toLowerCase())||c.codigo.toLowerCase().includes(t.toLowerCase()):!0);return i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[i.jsx(qf,{className:"w-5 h-5 text-blue-600"}),i.jsx("h3",{className:"text-blue-600 font-semibold",children:"Productos"})]}),i.jsx("div",{className:"mb-4",children:i.jsxs("select",{value:s,onChange:c=>a(c.target.value),className:"w-full px-3 py-2 bg-white border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[i.jsx("option",{value:"all",children:"Todas las categorías"}),i.jsx("option",{value:"bebidas",children:"Bebidas"}),i.jsx("option",{value:"snacks",children:"Snacks"}),i.jsx("option",{value:"otros",children:"Otros"})]})}),i.jsxs("div",{className:"relative mb-4",children:[i.jsx(Se,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),i.jsx("input",{type:"text",placeholder:"Buscar productos...",className:"w-full pl-10 pr-4 py-2 bg-white border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),i.jsxs("div",{className:"space-y-3",children:[n?i.jsx("div",{className:"text-center py-8 text-gray-500",children:"Cargando productos..."}):o.map(c=>i.jsxs("div",{className:"bg-white p-3 rounded-lg shadow-sm border border-gray-200 flex justify-between items-center hover:shadow-md transition-shadow",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("h4",{className:"font-medium text-gray-900",children:c.nombre}),i.jsx("p",{className:"text-sm text-gray-600",children:l(c.precio)})]}),i.jsx("button",{onClick:()=>e(c),className:"p-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:i.jsx(vt,{className:"w-4 h-4"})})]},c.id)),!n&&o.length===0&&i.jsx("p",{className:"text-center text-gray-500 py-8",children:"No se encontraron productos"})]})]})};function Wx({onProceedToPayment:e}){const{clientes:t=[],loadClientes:r,selectClient:n,crearCliente:s,currentCliente:a}=nt(),[l,o]=v.useState(""),[c,u]=v.useState(!1),[d,h]=v.useState({razon_social:"",rut:"",direccion:"",comuna:"",ciudad:"",giro:"",nombres:"",apellidos:"",clienteExtranjero:"No"}),[m,x]=v.useState(!1);v.useEffect(()=>{r()},[r]);const b=t.filter(f=>f.razon_social.toLowerCase().includes(l.toLowerCase())),w=f=>{n(f),e()},y=async()=>{x(!0);const f=await s(d);x(!1),f.success&&f.data&&(n(f.data),h({razon_social:"",rut:"",direccion:"",comuna:"",ciudad:"",giro:"",nombres:"",apellidos:"",clienteExtranjero:"No"}),e())};return i.jsx("div",{className:"space-y-6",children:c?i.jsxs(i.Fragment,{children:[i.jsx("h3",{className:"text-blue-600 font-semibold text-lg",children:"Registrar nuevo cliente"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsx("input",{placeholder:"Razón Social",value:d.razon_social,onChange:f=>h(g=>({...g,razon_social:f.target.value})),className:"border rounded px-3 py-2"}),i.jsx("input",{placeholder:"RUT",value:d.rut,onChange:f=>h(g=>({...g,rut:f.target.value})),className:"border rounded px-3 py-2"}),i.jsx("input",{placeholder:"Giro",value:d.giro,onChange:f=>h(g=>({...g,giro:f.target.value})),className:"border rounded px-3 py-2"}),i.jsxs("select",{value:d.clienteExtranjero,onChange:f=>h(g=>({...g,clienteExtranjero:f.target.value})),className:"border rounded px-3 py-2",children:[i.jsx("option",{children:"No"}),i.jsx("option",{children:"Sí"})]}),i.jsx("input",{placeholder:"Nombres",value:d.nombres,onChange:f=>h(g=>({...g,nombres:f.target.value})),className:"border rounded px-3 py-2"}),i.jsx("input",{placeholder:"Apellidos",value:d.apellidos,onChange:f=>h(g=>({...g,apellidos:f.target.value})),className:"border rounded px-3 py-2"}),i.jsx("input",{placeholder:"Dirección",value:d.direccion,onChange:f=>h(g=>({...g,direccion:f.target.value})),className:"border rounded px-3 py-2"}),i.jsx("input",{placeholder:"Comuna",value:d.comuna,onChange:f=>h(g=>({...g,comuna:f.target.value})),className:"border rounded px-3 py-2"}),i.jsx("input",{placeholder:"Ciudad",value:d.ciudad,onChange:f=>h(g=>({...g,ciudad:f.target.value})),className:"border rounded px-3 py-2"})]}),i.jsxs("div",{className:"flex gap-3 mt-4",children:[i.jsx("button",{onClick:()=>u(!1),disabled:m,className:"flex-1 bg-gray-100 py-3 rounded-lg",children:"Cancelar"}),i.jsx("button",{onClick:y,disabled:m||!d.razon_social.trim()||!d.rut.trim(),className:"flex-1 bg-blue-600 text-white py-3 rounded-lg disabled:opacity-50",children:m?"Guardando...":"Guardar cliente"})]})]}):i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("h3",{className:"text-blue-600 font-semibold text-lg",children:[i.jsx(Xr,{className:"inline w-5 h-5 mr-1"})," Clientes"]}),a&&i.jsxs("button",{onClick:e,className:"text-green-600 hover:underline text-sm",children:["Continuar con ",a.razon_social]})]}),i.jsxs("div",{className:"relative",children:[i.jsx(Se,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 w-4 h-4"}),i.jsx("input",{value:l,onChange:f=>o(f.target.value),placeholder:"Buscar cliente...",className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]}),i.jsxs("ul",{className:"space-y-2 max-h-40 overflow-y-auto",children:[b.map(f=>i.jsxs("li",{onClick:()=>w(f),className:"p-2 bg-white border rounded hover:bg-gray-50 cursor-pointer text-sm",children:[f.razon_social," — ",f.rut]},f.id)),!b.length&&i.jsx("li",{className:"text-center text-gray-500 py-4 text-sm",children:l?"Sin resultados":"Busca o registra un cliente"})]}),i.jsxs("button",{onClick:()=>u(!0),className:"w-full py-3 bg-blue-600 text-white rounded-lg flex items-center justify-center space-x-2",children:[i.jsx(vt,{className:"w-5 h-5"}),i.jsx("span",{children:"Registrar nuevo cliente"})]})]})})}const Gx=({isOpen:e,onClose:t,onPaymentComplete:r,total:n})=>{const[s,a]=v.useState("cheque"),[l,o]=v.useState("boleta"),[c,u]=v.useState(!1),[d,h]=v.useState(!1),[m,x]=v.useState(!1);if(!e)return null;const b=g=>new Intl.NumberFormat("es-CL",{style:"currency",currency:"CLP"}).format(g),w=async()=>{u(!0),await new Promise(g=>setTimeout(g,1e3)),h(!0),u(!1)},y=()=>{x(!0)},f=()=>{r(s,l),x(!1),h(!1),t()};return m?i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:i.jsx("div",{className:"bg-white rounded-2xl shadow-xl max-w-md w-full p-6",children:i.jsxs("div",{className:"text-center",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Boleta generada"}),i.jsx("p",{className:"text-gray-600 mb-6",children:"Enviar por correo electrónico (Opcional)"}),i.jsxs("div",{className:"flex gap-3",children:[i.jsx("button",{className:"flex-1 bg-gray-100 text-gray-700 py-3 rounded-lg font-medium hover:bg-gray-200 transition-colors",children:"Enviar"}),i.jsx("button",{onClick:f,className:"flex-1 bg-blue-600 text-white py-3 rounded-lg font-medium hover:bg-blue-700 transition-colors",children:"Imprimir"})]})]})})}):d?i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:i.jsx("div",{className:"bg-white rounded-2xl shadow-xl max-w-4xl w-full max-h-[90vh] overflow-hidden",children:i.jsxs("div",{className:"flex",children:[i.jsx("div",{className:"flex-1 p-6 bg-gray-50",children:i.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm",children:[i.jsxs("div",{className:"text-center mb-6",children:[i.jsx("h3",{className:"text-lg font-semibold",children:"BOLETA ELECTRÓNICA"}),i.jsx("p",{className:"text-sm text-gray-600",children:"Folio: 123456"})]}),i.jsxs("div",{className:"space-y-2 text-sm",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Subtotal:"}),i.jsx("span",{children:b(n)})]}),i.jsxs("div",{className:"flex justify-between font-semibold",children:[i.jsx("span",{children:"Total:"}),i.jsx("span",{children:b(n)})]})]})]})}),i.jsxs("div",{className:"w-80 p-6 border-l border-gray-200",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsx("h3",{className:"text-lg font-semibold",children:"Imprimir"}),i.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600",children:i.jsx(xe,{className:"w-6 h-6"})})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Impresora"}),i.jsx("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg",children:i.jsx("option",{children:"Seleccionar impresora"})})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Copias"}),i.jsx("input",{type:"number",defaultValue:"1",className:"w-full px-3 py-2 border border-gray-300 rounded-lg"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("label",{className:"flex items-center",children:[i.jsx("input",{type:"checkbox",className:"rounded border-gray-300"}),i.jsx("span",{className:"ml-2 text-sm",children:"Abrir cajón"})]}),i.jsxs("label",{className:"flex items-center",children:[i.jsx("input",{type:"checkbox",className:"rounded border-gray-300"}),i.jsx("span",{className:"ml-2 text-sm",children:"Cortar papel"})]})]}),i.jsx("button",{onClick:y,className:"w-full bg-blue-600 text-white py-3 rounded-lg font-medium hover:bg-blue-700 transition-colors",children:"Imprimir"})]})]})]})})}):i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:i.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-2xl w-full",children:[i.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[i.jsx("div",{className:"flex items-center gap-2",children:i.jsx("span",{className:"text-xl font-semibold text-gray-900",children:"Pagar"})}),i.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600",children:i.jsx(xe,{className:"w-6 h-6"})})]}),i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"mb-6",children:[i.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Facturación"}),i.jsxs("div",{className:"space-y-3 mb-6",children:[i.jsx("div",{className:"flex items-center gap-4",children:i.jsxs("label",{className:"flex items-center gap-2",children:[i.jsx("input",{type:"radio",name:"dte",value:"boleta",checked:l==="boleta",onChange:g=>o(g.target.value),className:"text-blue-600"}),i.jsx("span",{children:"Boleta electrónica"})]})}),i.jsxs("div",{className:"flex items-center gap-6",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-4 h-4 bg-blue-600 rounded-full flex items-center justify-center",children:i.jsx("div",{className:"w-2 h-2 bg-white rounded-full"})}),i.jsx("span",{className:"text-sm",children:"Envío inmediato"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(ua,{className:"w-4 h-4 text-gray-400"}),i.jsx("span",{className:"text-sm text-gray-600",children:"Despacho"})]})]}),i.jsxs("div",{className:"flex items-center gap-6",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-4 h-4 border border-gray-300 rounded"}),i.jsx("span",{className:"text-sm",children:"Documentos"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(vt,{className:"w-4 h-4 text-gray-400"}),i.jsx("span",{className:"text-sm text-gray-600",children:"Agregar cupón"})]})]})]})]}),i.jsxs("div",{className:"mb-6",children:[i.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"Métodos de pago"}),i.jsxs("select",{value:s,onChange:g=>a(g.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg",children:[i.jsx("option",{value:"cheque",children:"Cheque"}),i.jsx("option",{value:"efectivo",children:"Efectivo"}),i.jsx("option",{value:"tarjeta",children:"Tarjeta"}),i.jsx("option",{value:"transferencia",children:"Transferencia"})]})]}),i.jsx("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-sm",children:"Total a pagar"}),i.jsx("span",{className:"font-semibold",children:b(n)})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-sm",children:"Total pagado"}),i.jsx("span",{children:"$ 0"})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-sm",children:"Vuelto"}),i.jsx("span",{children:"$ 0"})]})]})}),i.jsx("button",{onClick:w,disabled:c,className:"w-full bg-blue-600 text-white py-3 rounded-lg font-medium hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:c?"Procesando...":"Confirmar pago"})]})]})})},Kx=({isOpen:e,onClose:t,onPrint:r,onSendEmail:n})=>e?i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:i.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-md w-full",children:[i.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[i.jsx("h3",{className:"text-lg font-semibold",children:"Boleta generada"}),i.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600",children:i.jsx(xe,{className:"w-5 h-5"})})]}),i.jsxs("div",{className:"p-6",children:[i.jsx("p",{className:"text-gray-600 mb-4",children:"Enviar por correo electrónico (Opcional)"}),i.jsxs("div",{className:"flex mb-4",children:[i.jsx("input",{type:"email",placeholder:"Email",className:"flex-1 px-3 py-2 border border-gray-300 rounded-l-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),i.jsx("button",{onClick:n,className:"bg-blue-600 text-white px-4 py-2 rounded-r-lg hover:bg-blue-700",children:"Enviar"})]}),i.jsx("button",{onClick:r,className:"w-full bg-blue-600 text-white py-3 rounded-lg font-medium hover:bg-blue-700",children:"Imprimir"})]})]})}):null,Qx=({isOpen:e,onClose:t,draftName:r,setDraftName:n,onSave:s})=>{const{carrito:a}=nt(),[l,o]=v.useState(!1);if(v.useEffect(()=>{e||n("")},[e,n]),!e)return null;const c=async()=>{if(!r.trim()){L.error("Debes ingresar un nombre");return}if(a.length===0){L.error("Carrito vacío");return}o(!0);try{await s(),t()}catch(u){console.error(u),L.error("Error al guardar borrador")}finally{o(!1)}};return i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:i.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-md w-full",children:[i.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Ux,{className:"w-5 h-5 text-blue-600"}),i.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Guardar borrador"})]}),i.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600",children:i.jsx(xe,{className:"w-6 h-6"})})]}),i.jsxs("div",{className:"p-6",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nombre del borrador"}),i.jsx("input",{type:"text",value:r,onChange:u=>n(u.target.value),placeholder:"Ingresa un nombre para este borrador",className:"w-full px-4 py-3 mb-6 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",autoFocus:!0}),i.jsxs("div",{className:"flex gap-3",children:[i.jsx("button",{onClick:t,disabled:l,className:"flex-1 bg-gray-100 text-gray-700 py-3 rounded-lg font-medium hover:bg-gray-200 transition-colors",children:"Cancelar"}),i.jsx("button",{onClick:c,disabled:l,className:"flex-1 bg-blue-600 text-white py-3 rounded-lg font-medium hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:l?"Guardando...":"Guardar"})]})]})]})})},Jx=[{id:"destacado",label:"Destacado",icon:i.jsx(Di,{className:"w-5 h-5"})},{id:"borradores",label:"Borradores",icon:i.jsx(ds,{className:"w-5 h-5"})},{id:"productos",label:"Productos",icon:i.jsx(qf,{className:"w-5 h-5"})},{id:"clientes",label:"Clientes",icon:i.jsx(Xr,{className:"w-5 h-5"})},{id:"pagar",label:"$ Pagar",icon:i.jsx(ds,{className:"w-5 h-5"})}],Zx=()=>{var R,$;const{toggleSidebar:e}=ca(),{user:t}=Oe(),{productos:r,carrito:n,total:s,addToCart:a,updateQuantity:l,removeFromCart:o,clearCart:c,loadProductos:u,loadBorradores:d,saveDraft:h,borradores:m,loadDraft:x,deleteDraft:b}=nt(),[w,y]=v.useState("destacado"),[f,g]=v.useState(""),[p,j]=v.useState(""),[C,N]=v.useState(!1),[k,T]=v.useState(""),[S,O]=v.useState(!1);v.useEffect(()=>{u(),d()},[u,d]),v.useEffect(()=>{const I=()=>{j(new Intl.DateTimeFormat("es-CL",{hour:"2-digit",minute:"2-digit",hour12:!1,timeZone:"America/Santiago"}).format(new Date))};I();const W=setInterval(I,1e3);return()=>clearInterval(W)},[]);const Y=I=>new Intl.NumberFormat("es-CL",{style:"currency",currency:"CLP"}).format(I),ze=async()=>{k.trim()&&(N(!1),await h(k)&&(T(""),L.success("Borrador guardado"),await d()))},ve=()=>{y("pagar")},F=()=>{O(!0)},he=()=>{O(!1),c(),y("destacado")},Ke=r.filter(I=>I.nombre.toLowerCase().includes(f.toLowerCase())),Ie=()=>i.jsxs("div",{className:"flex-[2] p-6 bg-white flex flex-col",children:[i.jsxs("div",{className:"relative mb-6",children:[i.jsx(Se,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 w-5 h-5"}),i.jsx("input",{type:"text",placeholder:"Buscar productos...",value:f,onChange:I=>g(I.target.value),className:"w-full pl-12 pr-4 py-3 border rounded-lg bg-gray-50 focus:ring-2 focus:ring-blue-500"})]}),i.jsx("div",{className:"flex-1 overflow-y-auto mb-6 max-h-[calc(6*4.5rem)] space-y-4",children:Ke.map(I=>{const W=n.find(A=>A.id===I.id),Qe=(W==null?void 0:W.quantity)||0;return i.jsxs("div",{className:"flex justify-between items-center py-4 border-b last:border-b-0",children:[i.jsx("div",{className:"flex-1",children:i.jsx("h4",{className:"font-medium",children:I.nombre})}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("button",{onClick:()=>Qe>0&&l(I.id,Qe-1),className:"w-8 h-8 bg-gray-200 rounded flex items-center justify-center",children:i.jsx(Xo,{className:"w-4 h-4"})}),i.jsx("span",{className:"w-8 text-center",children:Qe}),i.jsx("button",{onClick:()=>a(I),className:"w-8 h-8 bg-gray-200 rounded flex items-center justify-center",children:i.jsx(vt,{className:"w-4 h-4"})})]}),i.jsxs("div",{className:"flex items-center space-x-4 ml-6",children:[i.jsx("span",{className:"font-semibold",children:Y(I.precio*Qe)}),Qe>0&&i.jsx("button",{onClick:()=>o(I.id),className:"text-red-500",children:i.jsx(xe,{className:"w-4 h-4"})})]})]},I.id)})}),i.jsxs("div",{className:"border-t pt-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("div",{className:"flex-1 pr-4",children:[i.jsxs("div",{className:"text-gray-600 text-sm mb-2",children:["N° Líneas ",n.length," / Tot. ítems ",n.reduce((I,W)=>I+W.quantity,0)]}),i.jsxs("select",{className:"w-full px-3 py-2 border rounded-lg bg-gray-50 focus:ring-2 focus:ring-blue-500",children:[i.jsx("option",{children:"Boleta manual"}),i.jsx("option",{children:"Boleta electrónica"}),i.jsx("option",{children:"Factura electrónica"})]})]}),i.jsxs("div",{className:"flex space-x-3",children:[i.jsxs("button",{onClick:c,className:"px-4 py-2 bg-gray-100 rounded flex items-center",children:[i.jsx(xe,{className:"w-4 h-4 mr-1"})," Cancelar"]}),i.jsxs("button",{onClick:()=>N(!0),className:"px-4 py-2 bg-gray-100 rounded flex items-center",children:[i.jsx(ds,{className:"w-4 h-4 mr-1"})," Guardar borrador"]})]})]}),i.jsx("div",{className:"text-right",children:i.jsxs("button",{onClick:ve,disabled:n.length===0,className:"px-6 py-2 bg-blue-600 text-white rounded font-semibold disabled:opacity-50",children:["Pagar ",Y(s)]})})]})]}),E=()=>i.jsxs("aside",{className:"flex-1 p-6 bg-gray-50 border-l flex flex-col overflow-y-auto",children:[i.jsxs("div",{className:"flex-1",children:[w==="destacado"&&i.jsx(Hx,{}),w==="borradores"&&i.jsx(Vx,{}),w==="productos"&&i.jsx(qx,{onAddToCart:a,searchTerm:f}),w==="clientes"&&i.jsx(Wx,{onProceedToPayment:ve}),w==="pagar"&&i.jsx(Gx,{isOpen:!0,onClose:()=>y("clientes"),onPaymentComplete:F,total:s})]}),i.jsx("nav",{className:"flex justify-around items-center h-16 bg-white border-t mt-auto",children:Jx.map(I=>i.jsxs("button",{onClick:()=>y(I.id),className:`flex flex-col items-center justify-center space-y-1 px-4 py-2 ${w===I.id?"text-blue-600":"text-gray-500 hover:text-gray-700"}`,children:[I.icon,i.jsx("span",{className:"text-xs font-medium",children:I.label})]},I.id))})]});return i.jsxs("div",{className:"flex flex-col h-screen bg-gray-50",children:[i.jsxs("header",{className:"flex items-center justify-between px-6 py-3 bg-white border-b",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-lg",children:i.jsx(Gf,{className:"w-5 h-5 text-gray-600"})}),i.jsx("span",{className:"text-lg font-semibold",children:"POS"})]}),i.jsx(Jf,{size:"md"}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs("div",{className:"flex items-center px-3 py-1 bg-gray-100 rounded-lg",children:[i.jsx($x,{className:"w-4 h-4 text-gray-500"}),i.jsx("span",{className:"ml-1 text-sm",children:p})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center",children:i.jsxs("span",{className:"text-white text-sm",children:[((R=t==null?void 0:t.nombre)==null?void 0:R[0])||"U",(($=t==null?void 0:t.apellidos)==null?void 0:$[0])||""]})}),i.jsxs("span",{className:"font-medium",children:[t==null?void 0:t.nombre," ",t==null?void 0:t.apellidos]})]})]})]}),i.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[Ie(),E()]}),i.jsx(Qx,{isOpen:C,draftName:k,setDraftName:T,onClose:()=>N(!1),onSave:ze}),i.jsx(Kx,{isOpen:S,onClose:he,onPrint:he,onSendEmail:()=>L.success("Enviado por correo (mock)")})]})},Ge=({title:e,icon:t,showBackButton:r=!0})=>{const{toggleSidebar:n,openSidebar:s}=ca(),a=Go(),{user:l}=Oe(),o=l?`${l.nombre} ${l.apellidos}`:"Usuario",c=o.split(" ").map(h=>h[0]).join("").toUpperCase().substring(0,2),u=()=>{a("/")},d=()=>new Date().toLocaleTimeString("es-CL",{hour:"2-digit",minute:"2-digit",hour12:!1});return i.jsx("header",{className:"bg-white border-b border-gray-200 px-6 py-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("button",{onClick:r?u:s,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:r?t:i.jsx(Gf,{className:"w-6 h-6 text-gray-600"})}),i.jsx("span",{className:"text-lg font-semibold text-gray-900",children:e})]}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("span",{className:"text-sm text-gray-600",children:d()}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center",children:i.jsx("span",{className:"text-white text-sm font-medium",children:c})}),i.jsx("span",{className:"text-sm font-medium text-gray-900",children:o})]})]})]})})},Yx=({onClose:e})=>{const[t,r]=v.useState("retiro"),[n,s]=v.useState(""),[a,l]=v.useState("Escribe tu observación..."),[o,c]=v.useState(!1),[u,d]=v.useState([]),{user:h,empresaId:m,sucursalId:x}=Oe(),b=new Date().toISOString().split("T")[0];v.useEffect(()=>{w()},[]);const w=async()=>{if(m)try{const{data:f,error:g}=await V.from("movimientos_caja").select("*").eq("fecha::date",b).order("created_at",{ascending:!1});if(g)throw g;d(f||[])}catch(f){console.error("Error loading movements:",f)}},y=async()=>{if(!(!n||parseFloat(n)<=0||!h)){c(!0);try{const{data:f}=await V.from("aperturas_caja").select("*").eq("usuario_id",h.id).eq("estado","abierta").single();if(!f)throw new Error("No hay caja abierta");const{error:g}=await V.from("movimientos_caja").insert([{apertura_caja_id:f.id,usuario_id:h.id,tipo:t,monto:parseFloat(n),observacion:a==="Escribe tu observación..."?"":a}]);if(g)throw g;s(""),l("Escribe tu observación..."),w()}catch(f){console.error("Error registering movement:",f)}finally{c(!1)}}};return i.jsxs("div",{className:"h-screen bg-gray-50 flex flex-col",children:[i.jsx(Ge,{title:"Movimiento de efectivo",icon:i.jsx(Ai,{className:"w-6 h-6 text-gray-600"})}),i.jsxs("div",{className:"flex-1 flex",children:[i.jsxs("div",{className:"w-1/2 bg-white p-6",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Número de caja"}),i.jsx("select",{className:"w-full h-12 px-4 rounded-lg border border-gray-200 bg-gray-100",children:i.jsx("option",{children:"Caja N°1"})})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Fecha movimiento"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("input",{type:"date",defaultValue:b,className:"flex-1 h-12 px-4 rounded-lg border border-gray-200 bg-gray-100"}),i.jsx(tr,{className:"w-5 h-5 text-gray-400"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tipo de movimiento"}),i.jsxs("select",{value:t,onChange:f=>r(f.target.value),className:"w-full h-12 px-4 rounded-lg border border-gray-200 bg-gray-100",children:[i.jsx("option",{value:"retiro",children:"Retiro de efectivo"}),i.jsx("option",{value:"ingreso",children:"Ingreso de efectivo"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Monto movimiento"}),i.jsx("input",{type:"number",value:n,onChange:f=>s(f.target.value),placeholder:"0 $",className:"w-full h-12 px-4 rounded-lg border border-gray-200 bg-gray-100"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Observación"}),i.jsx("textarea",{value:a,onChange:f=>l(f.target.value),className:"w-full h-24 px-4 py-2 rounded-lg border border-gray-200 bg-gray-100 resize-none"})]})]}),i.jsxs("div",{className:"flex gap-3 mt-6",children:[i.jsx("button",{onClick:e,className:"flex-1 px-6 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-100 transition-colors",children:"Cancelar"}),i.jsx("button",{onClick:y,disabled:!n||parseFloat(n)<=0||o,className:"flex-1 px-6 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:o?"Guardando...":"Guardar"})]})]}),i.jsxs("div",{className:"w-1/2 bg-gray-50 p-6",children:[i.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx(Ai,{className:"w-4 h-4 text-blue-600"}),i.jsx("span",{className:"text-sm font-medium text-blue-800",children:"Movimientos disponibles"})]}),i.jsxs("div",{className:"text-xs text-blue-600",children:["Fecha movimiento: ",b]}),i.jsx("div",{className:"text-xs text-blue-600 mt-1",children:u.length===0?"Sin registros":`${u.length} movimientos`})]}),u.length>0&&i.jsx("div",{className:"mt-4 space-y-2",children:u.map(f=>i.jsxs("div",{className:"bg-white p-3 rounded-lg border",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-sm font-medium capitalize",children:f.tipo}),i.jsxs("span",{className:"text-sm font-semibold",children:[f.tipo==="ingreso"?"+":"-","$",f.monto]})]}),f.observacion&&i.jsx("p",{className:"text-xs text-gray-600 mt-1",children:f.observacion})]},f.id))})]})]})]})},Xx=({onClose:e})=>{const[t,r]=v.useState(""),[n,s]=v.useState(new Date().toISOString().split("T")[0]),[a,l]=v.useState([]),[o,c]=v.useState(null),[u,d]=v.useState(1),[h,m]=v.useState(!1),[x,b]=v.useState(!1),{empresaId:w}=Oe(),[y,f]=v.useState(!1),[g,p]=v.useState(!1);v.useEffect(()=>{w?j():l([{id:"1",folio:"N°9",tipo:"Boleta manual (no válida al SII)",total:204,fecha_emision:new Date().toISOString()}])},[n,w]);const j=async()=>{if(!w){l([{id:"1",folio:"N°9",tipo:"Boleta manual (no válida al SII)",total:204,fecha_emision:new Date().toISOString()}]);return}if(!w){l([{id:"1",folio:"N°9",tipo:"Boleta manual (no válida al SII)",total:204,fecha_emision:new Date().toISOString()}]);return}p(!0);try{const{data:F,error:he}=await V.from("ventas").select("id, folio, tipo_dte, total, fecha").eq("empresa_id",w||"a0eebc99-9c0b-4ef8-bb6d-6bb9bd380a11").eq("fecha::date",n).order("fecha",{ascending:!1});if(he)throw new Error(JSON.stringify(he));if(!F||F.length===0){l([{id:"1",folio:"N°9",tipo:"Boleta manual (no válida al SII)",total:204,fecha_emision:new Date().toISOString()}]),p(!1);return}const Ke=(F||[]).map(Ie=>({id:Ie.id,folio:Ie.folio,tipo:Ie.tipo_dte==="boleta"?"Boleta manual (no válida al SII)":Ie.tipo_dte,total:Ie.total,fecha_emision:Ie.fecha}));l(Ke)}catch(F){console.error("Error loading documents:",F)}finally{p(!1)}},C=()=>{if(!t)return;const F=a.find(he=>he.folio.toLowerCase().includes(t.toLowerCase()));F&&c(F)},N=()=>{m(!0)},k=async()=>`https://example.com/pdf/${Date.now()}.pdf`,T=()=>{f(!0),window.print(),o&&S(o.id),m(!1),L.success("Documento enviado a impresión")},S=async F=>{try{const he=await k(),{error:Ke}=await V.from("documentos_tributarios").update({pdf_url:he}).eq("venta_id",F);if(Ke)throw Ke;j()}catch(he){console.error("Error saving PDF URL:",he),L.error("Error al guardar el documento")}},O=()=>{b(!0)},Y=()=>{o&&ze(o.id),b(!1)},ze=async F=>{try{await S(F),L.success("Documento enviado por correo")}catch(he){console.error("Error sending email:",he),L.error("Error al enviar el correo")}},ve=F=>new Intl.NumberFormat("es-CL",{style:"currency",currency:"CLP"}).format(F);return y?i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:i.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full p-6",children:i.jsxs("div",{className:"text-center",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"This webpage is trying to print..."}),i.jsxs("div",{className:"flex gap-3",children:[i.jsx("button",{onClick:()=>f(!1),className:"flex-1 bg-gray-100 text-gray-700 py-3 rounded-lg font-medium hover:bg-gray-200 transition-colors",children:"Cancel"}),i.jsx("button",{onClick:()=>{f(!1),L.success("Impresión completada")},className:"flex-1 bg-blue-600 text-white py-3 rounded-lg font-medium hover:bg-blue-700 transition-colors",children:"Print"})]})]})})}):x?i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:i.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-md w-full p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h3",{className:"text-lg font-semibold",children:"Boleta generada"}),i.jsx("button",{onClick:()=>b(!1),className:"text-gray-400 hover:text-gray-600",children:i.jsx(xe,{className:"w-5 h-5"})})]}),i.jsx("p",{className:"text-gray-600 mb-4",children:"Enviar por correo electrónico (Opcional)"}),i.jsxs("div",{className:"flex mb-4",children:[i.jsx("input",{type:"email",placeholder:"Email",className:"flex-1 px-3 py-2 border border-gray-300 rounded-l-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),i.jsx("button",{onClick:Y,className:"bg-blue-600 text-white px-4 py-2 rounded-r-lg hover:bg-blue-700",children:"Enviar"})]}),i.jsx("button",{onClick:N,className:"w-full bg-blue-600 text-white py-3 rounded-lg font-medium hover:bg-blue-700",children:"Imprimir"})]})}):h?i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:i.jsx("div",{className:"bg-white rounded-xl shadow-xl max-w-md w-full p-6",children:i.jsxs("div",{className:"text-center",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Boleta generada"}),i.jsx("p",{className:"text-gray-600 mb-6",children:"Enviar por correo electrónico (Opcional)"}),i.jsxs("div",{className:"flex gap-3",children:[i.jsx("button",{onClick:O,className:"flex-1 bg-gray-100 text-gray-700 py-3 rounded-lg font-medium hover:bg-gray-200 transition-colors",children:"Enviar"}),i.jsx("button",{onClick:T,className:"flex-1 bg-blue-600 text-white py-3 rounded-lg font-medium hover:bg-blue-700 transition-colors",children:"Imprimir"})]})]})})}):i.jsxs("div",{className:"h-screen bg-gray-50 flex flex-col",children:[i.jsx(Ge,{title:"Reimprimir",icon:i.jsx(Ql,{className:"w-6 h-6 text-gray-600"})}),i.jsxs("div",{className:"flex-1 flex",children:[i.jsx("div",{className:"w-1/2 bg-white p-6 flex items-center justify-center",children:i.jsx("p",{className:"text-gray-500 italic",children:"Debe seleccionar el documento a reimprimir"})}),i.jsxs("div",{className:"w-1/2 bg-gray-50 p-6",children:[i.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:[i.jsx("div",{className:"flex items-center gap-2 mb-2",children:i.jsx("span",{className:"text-sm font-medium text-blue-800",children:"Documentos disponibles"})}),i.jsxs("div",{className:"text-xs text-blue-600 mb-2",children:["Fecha movimiento: ",n]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("div",{className:"flex items-center gap-2",children:i.jsx("input",{type:"date",value:n,onChange:F=>s(F.target.value),className:"w-full px-3 py-2 border border-blue-300 rounded-lg text-sm"})}),i.jsxs("div",{className:"relative",children:[i.jsx(Se,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),i.jsx("input",{type:"text",placeholder:"Ingresa aquí el número de documento",value:t,onChange:F=>r(F.target.value),onKeyPress:F=>F.key==="Enter"&&C(),className:"w-full pl-10 pr-4 py-2 border border-blue-300 rounded-lg text-sm"})]})]})]}),o&&i.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 mb-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("div",{children:[i.jsxs("h5",{className:"font-semibold text-gray-900",children:[o.tipo," N°",o.folio]}),i.jsx("p",{className:"text-sm text-gray-600",children:ve(o.total)})]}),i.jsx("button",{onClick:N,className:"text-blue-600 hover:text-blue-700",children:i.jsx(Ql,{className:"w-5 h-5"})})]}),i.jsxs("div",{className:"flex items-center justify-center gap-2 mb-4",children:[i.jsx("button",{onClick:()=>d(Math.max(1,u-1)),className:"w-8 h-8 bg-gray-200 rounded-full flex items-center justify-center hover:bg-gray-300",children:"-"}),i.jsx("span",{className:"w-12 text-center font-medium",children:u}),i.jsx("button",{onClick:()=>d(Math.min(10,u+1)),className:"w-8 h-8 bg-gray-200 rounded-full flex items-center justify-center hover:bg-gray-300",children:"+"}),i.jsx("span",{className:"text-sm text-gray-600 ml-2",children:"Copias"})]}),i.jsx("button",{onClick:N,className:"w-full bg-blue-500 text-white py-3 rounded-lg font-medium hover:bg-blue-600 transition-colors",children:"Reimprimir"})]}),a.length>0&&!o&&i.jsx("div",{className:"space-y-2",children:a.map(F=>i.jsx("div",{onClick:()=>c(F),className:"bg-white p-3 rounded-lg border cursor-pointer hover:bg-gray-50 transition-colors",children:i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("span",{className:"text-sm font-medium",children:[F.tipo," N°",F.folio]}),i.jsx("span",{className:"text-sm",children:ve(F.total)})]})},F.id))})]})]})]})},ev=({onClose:e})=>{const[t,r]=v.useState(!1),[n,s]=v.useState({ventasTotales:67750,margen:67750,unidadesVendidas:67750,numeroVentas:67750,ticketPromedio:67750}),[a,l]=v.useState({fechaInicio:new Date(new Date().setDate(new Date().getDate()-14)).toISOString().split("T")[0],fechaFin:new Date().toISOString().split("T")[0],caja1:!0,caja2:!0,caja3:!0,caja4:!0}),{empresaId:o}=Oe(),c=h=>new Intl.NumberFormat("es-CL",{style:"currency",currency:"CLP"}).format(h),u=async()=>{if(o)try{const h=new Date().toISOString().split("T")[0],{data:m,error:x}=await V.from("ventas").select("total, fecha").eq("empresa_id",o).eq("fecha::date",h);if(x)throw x;const b=(m==null?void 0:m.reduce((f,g)=>f+g.total,0))||0,w=(m==null?void 0:m.length)||0,y=w>0?b/w:0;s({ventasTotales:b,margen:b*.3,unidadesVendidas:w*2,numeroVentas:w,ticketPromedio:y})}catch(h){console.error("Error loading report data:",h)}};v.useEffect(()=>{u()},[o]);const d=()=>{console.log("Downloading report..."),L.success("Reporte descargado correctamente")};return i.jsxs("div",{className:"h-screen bg-gray-50 flex flex-col relative",children:[i.jsx(Ge,{title:"Reportes",icon:i.jsx(Bf,{className:"w-6 h-6 text-gray-600"})}),i.jsxs("div",{className:"flex-1 p-6",children:[i.jsxs("div",{className:"grid grid-cols-5 gap-4 mb-6",children:[i.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("h4",{className:"text-sm font-medium text-green-800",children:"Ventas totales"}),i.jsx("span",{className:"text-xs text-green-600",children:"+10%"})]}),i.jsx("p",{className:"text-2xl font-bold text-green-900",children:c(n.ventasTotales)})]}),i.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("h4",{className:"text-sm font-medium text-blue-800",children:"Margen"}),i.jsx("span",{className:"text-xs text-blue-600",children:"+10%"})]}),i.jsx("p",{className:"text-2xl font-bold text-blue-900",children:c(n.margen)})]}),i.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("h4",{className:"text-sm font-medium text-purple-800",children:"Unidades vendidas"}),i.jsx("span",{className:"text-xs text-purple-600",children:"+10%"})]}),i.jsx("p",{className:"text-2xl font-bold text-purple-900",children:n.unidadesVendidas.toLocaleString()})]}),i.jsxs("div",{className:"bg-orange-50 p-4 rounded-lg",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("h4",{className:"text-sm font-medium text-orange-800",children:"N° de ventas"}),i.jsx("span",{className:"text-xs text-orange-600",children:"+10%"})]}),i.jsx("p",{className:"text-2xl font-bold text-orange-900",children:n.numeroVentas.toLocaleString()})]}),i.jsxs("div",{className:"bg-red-50 p-4 rounded-lg",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("h4",{className:"text-sm font-medium text-red-800",children:"Ticket promedio"}),i.jsx("span",{className:"text-xs text-red-600",children:"+10%"})]}),i.jsx("p",{className:"text-2xl font-bold text-red-900",children:c(n.ticketPromedio)})]})]}),i.jsxs("div",{className:"bg-white rounded-lg p-6 mb-6",style:{height:"300px"},children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:"Ventas totales"}),i.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[i.jsx("span",{children:"Período anterior: 01/05/2025 - 14/05/2025"}),i.jsx("span",{children:"Período seleccionado: 15/05/2025 - 28/05/2025"})]})]}),i.jsx("div",{className:"h-full flex items-end justify-between px-4",children:Array.from({length:12},(h,m)=>i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx("div",{className:"bg-blue-500 w-8 rounded-t",style:{height:`${Math.random()*200+50}px`}}),i.jsx("span",{className:"text-xs text-gray-500 mt-2",children:new Date(2025,4,m+15).toLocaleDateString("es-CL",{day:"2-digit"})})]},m))})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("div",{className:"text-sm text-gray-600",children:i.jsx("span",{className:"cursor-pointer hover:text-blue-600",children:"Ver período anterior"})}),i.jsxs("div",{className:"flex flex-col items-end",children:[i.jsxs("div",{className:"bg-gray-100 p-3 rounded-lg mb-3",children:[i.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-1",children:"Última actualización"}),i.jsxs("div",{className:"flex justify-between text-xs text-gray-600",children:[i.jsx("span",{children:"Fecha: 20/05/2025"}),i.jsx("span",{children:"Hora: 21:19:50"})]})]}),i.jsxs("button",{onClick:d,className:"flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:[i.jsx(Hf,{className:"w-4 h-4"}),"Realizar nueva actualización"]})]})]})]}),t&&i.jsxs("div",{className:"absolute top-0 right-0 w-80 h-full bg-white border-l border-gray-200 p-6 shadow-lg z-10 animate-slide-in-right",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Vf,{className:"w-5 h-5 text-blue-600"}),i.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:"Filtros"})]}),i.jsx("button",{onClick:()=>r(!1),className:"text-gray-400 hover:text-gray-600",children:i.jsx(xe,{className:"w-6 h-6"})})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("h5",{className:"text-sm font-medium text-gray-700 mb-3",children:"Reestablecer filtros"}),i.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[i.jsx("input",{type:"date",value:a.fechaInicio,onChange:h=>l(m=>({...m,fechaInicio:h.target.value})),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg text-sm"}),i.jsx("span",{className:"text-gray-500",children:"-"}),i.jsx("input",{type:"date",value:a.fechaFin,onChange:h=>l(m=>({...m,fechaFin:h.target.value})),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg text-sm"})]})]}),i.jsxs("div",{children:[i.jsx("h5",{className:"text-sm font-medium text-gray-700 mb-3",children:"Cajeros"}),i.jsx("div",{className:"space-y-2",children:Object.entries(a).map(([h,m])=>h.startsWith("caja")&&i.jsxs("label",{className:"flex items-center gap-2",children:[i.jsx("input",{type:"checkbox",checked:m,onChange:x=>l(b=>({...b,[h]:x.target.checked})),className:"rounded"}),i.jsx("span",{className:"text-sm text-gray-700 capitalize",children:h})]},h))})]}),i.jsx("button",{onClick:()=>{r(!1),L.success("Filtros aplicados")},className:"w-full bg-blue-600 text-white py-3 rounded-lg font-medium hover:bg-blue-700 transition-colors",children:"Realizar filtro"})]})]})]})},Zf=({isOpen:e,onClose:t,onClientSelect:r})=>{const[n,s]=v.useState("empresa"),[a,l]=v.useState({razon_social:"",rut:"",direccion:"",comuna:"",ciudad:"",giro:"",telefono:"",email:"",contacto:"",nombres:"",apellidos:"",clienteExtranjero:"No"}),[o,c]=v.useState(!1),{crearCliente:u}=nt();if(!e)return null;const d=async()=>{if(!a.razon_social||!a.rut)return;c(!0);const h=await u(a);h.success&&h.cliente&&(r(h.cliente),t()),c(!1)};return i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:i.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-2xl w-full max-h-[90vh] overflow-hidden",children:[i.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[i.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Registrar nuevo cliente"}),i.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600",children:i.jsx(xe,{className:"w-6 h-6"})})]}),i.jsxs("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-120px)]",children:[i.jsxs("div",{className:"mb-6",children:[i.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"Tipo de Cliente"}),i.jsxs("div",{className:"flex gap-4",children:[i.jsxs("label",{className:"flex items-center gap-2",children:[i.jsx("input",{type:"radio",name:"clientType",value:"empresa",checked:n==="empresa",onChange:h=>s(h.target.value),className:"text-blue-600"}),i.jsx("span",{children:"Empresas"})]}),i.jsxs("label",{className:"flex items-center gap-2",children:[i.jsx("input",{type:"radio",name:"clientType",value:"persona",checked:n==="persona",onChange:h=>s(h.target.value),className:"text-blue-600"}),i.jsx("span",{children:"Persona"})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cliente Extranjero"}),i.jsxs("select",{value:a.clienteExtranjero,onChange:h=>l(m=>({...m,clienteExtranjero:h.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg",children:[i.jsx("option",{children:"No"}),i.jsx("option",{children:"Sí"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"RUT"}),i.jsx("input",{type:"text",value:a.rut,onChange:h=>l(m=>({...m,rut:h.target.value})),placeholder:"No",className:"w-full px-3 py-2 border border-gray-300 rounded-lg"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Razón Social"}),i.jsx("input",{type:"text",value:a.razon_social,onChange:h=>l(m=>({...m,razon_social:h.target.value})),placeholder:"Giro",className:"w-full px-3 py-2 border border-gray-300 rounded-lg"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Giro"}),i.jsx("input",{type:"text",value:a.giro,onChange:h=>l(m=>({...m,giro:h.target.value})),placeholder:"Giro",className:"w-full px-3 py-2 border border-gray-300 rounded-lg"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nombres"}),i.jsx("input",{type:"text",value:a.nombres,onChange:h=>l(m=>({...m,nombres:h.target.value})),placeholder:"Nombres",className:"w-full px-3 py-2 border border-gray-300 rounded-lg"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Apellidos"}),i.jsx("input",{type:"text",value:a.apellidos,onChange:h=>l(m=>({...m,apellidos:h.target.value})),placeholder:"Apellidos",className:"w-full px-3 py-2 border border-gray-300 rounded-lg"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Más atributos"}),i.jsx("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg",children:i.jsx("option",{children:"Seleccionar"})})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Dirección"}),i.jsx("input",{type:"text",value:a.direccion,onChange:h=>l(m=>({...m,direccion:h.target.value})),placeholder:"Dirección",className:"w-full px-3 py-2 border border-gray-300 rounded-lg"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Comuna"}),i.jsx("input",{type:"text",value:a.comuna,onChange:h=>l(m=>({...m,comuna:h.target.value})),placeholder:"Comuna",className:"w-full px-3 py-2 border border-gray-300 rounded-lg"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ciudad"}),i.jsx("input",{type:"text",value:a.ciudad,onChange:h=>l(m=>({...m,ciudad:h.target.value})),placeholder:"Ciudad",className:"w-full px-3 py-2 border border-gray-300 rounded-lg"})]})]}),i.jsxs("div",{className:"flex gap-3",children:[i.jsx("button",{onClick:t,disabled:o,className:"flex-1 bg-gray-100 text-gray-700 py-3 rounded-lg font-medium hover:bg-gray-200 transition-colors",children:"Cancelar"}),i.jsx("button",{onClick:d,disabled:o||!a.razon_social||!a.rut,className:"flex-1 bg-blue-600 text-white py-3 rounded-lg font-medium hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:o?"Guardando...":"Guardar cliente"})]})]})]})})},tv=({onClose:e})=>{const[t,r]=v.useState(""),[n,s]=v.useState(null),[a,l]=v.useState(!1),[o,c]=v.useState(!1),[u,d]=v.useState({fecha:new Date().toISOString().split("T")[0],tipo:"Tipo de despacho",destinatario:"Inicial demo",direccion:"Dirección",comuna:"Comuna",ciudad:"Ciudad",region:"Región",numeroDocumento:"Número de documento"}),{carrito:h,total:m,addToCart:x,removeFromCart:b,updateQuantity:w}=nt();Oe();const y=p=>new Intl.NumberFormat("es-CL",{style:"currency",currency:"CLP"}).format(p),f=p=>{s(p),p&&d(j=>({...j,destinatario:p.razon_social,direccion:p.direccion||"Dirección",comuna:p.comuna||"Comuna",ciudad:p.ciudad||"Ciudad"}))},g=()=>{if(!n){c(!0);return}console.log("Confirming delivery...",u),e()};return o?i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:i.jsx("div",{className:"bg-white rounded-xl shadow-xl max-w-md w-full",children:i.jsxs("div",{className:"p-6 text-center",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No has seleccionado el cliente"}),i.jsx("button",{onClick:()=>c(!1),className:"w-full bg-blue-600 text-white py-3 rounded-lg font-medium hover:bg-blue-700",children:"OK"})]})})}):i.jsxs("div",{className:"h-screen bg-gray-50 flex flex-col",children:[i.jsx(Ge,{title:"Despacho",icon:i.jsx(ua,{className:"w-6 h-6 text-gray-600"})}),i.jsxs("div",{className:"flex-1 flex",children:[i.jsxs("div",{className:"flex-1 p-6",children:[i.jsxs("div",{className:"relative mb-6",children:[i.jsx(Se,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),i.jsx("input",{type:"text",placeholder:"Ingresa aquí el producto o servicio...",value:t,onChange:p=>r(p.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),i.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:[i.jsx("div",{className:"flex items-center gap-2 mb-2",children:i.jsx("span",{className:"text-sm font-medium text-blue-800",children:"Documentos disponibles"})}),i.jsx("div",{className:"text-xs text-blue-600",children:"Ingresa aquí el número de documento"}),i.jsxs("div",{className:"relative mt-2",children:[i.jsx(Se,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),i.jsx("input",{type:"text",placeholder:"Ingresa aquí el número de documento",className:"w-full pl-10 pr-4 py-2 border border-blue-300 rounded-lg text-sm"})]})]}),i.jsxs("div",{className:"grid grid-cols-4 gap-4 text-sm font-medium text-gray-700 border-b pb-2 mb-4",children:[i.jsx("span",{children:"Producto"}),i.jsx("span",{children:"Cantidad"}),i.jsx("span",{children:"Descuento"}),i.jsx("span",{children:"Importe"})]}),i.jsx("div",{className:"space-y-3 mb-6",children:h.map(p=>i.jsxs("div",{className:"grid grid-cols-4 gap-4 items-center p-3 bg-gray-50 rounded-lg",children:[i.jsx("span",{className:"text-sm",children:p.nombre}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("button",{onClick:()=>w(p.id,Math.max(0,p.quantity-1)),className:"w-6 h-6 bg-gray-200 rounded flex items-center justify-center hover:bg-gray-300",children:i.jsx(Xo,{className:"w-3 h-3"})}),i.jsx("span",{className:"w-8 text-center text-sm",children:p.quantity}),i.jsx("button",{onClick:()=>w(p.id,p.quantity+1),className:"w-6 h-6 bg-gray-200 rounded flex items-center justify-center hover:bg-gray-300",children:i.jsx(vt,{className:"w-3 h-3"})})]}),i.jsx("span",{className:"text-sm",children:"0%"}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-sm",children:y(p.precio*p.quantity)}),i.jsx("button",{onClick:()=>b(p.id),className:"text-red-500 hover:text-red-700",children:i.jsx(xe,{className:"w-4 h-4"})})]})]},p.id))}),i.jsxs("div",{className:"border-t pt-4",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("div",{className:"text-sm text-gray-600",children:["N° Líneas / Tot. Items: ",h.length]}),i.jsx("select",{className:"px-3 py-2 border border-gray-300 rounded-lg text-sm",children:i.jsx("option",{children:"Guía de despacho manual"})})]}),i.jsxs("div",{className:"relative mb-4",children:[i.jsx(Se,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),i.jsx("input",{type:"text",placeholder:"Cliente",className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg"})]}),i.jsxs("div",{className:"flex justify-between items-center text-lg font-semibold mb-4",children:[i.jsx("span",{children:"Total"}),i.jsx("span",{children:y(m)})]}),i.jsx("button",{onClick:g,className:"w-full bg-blue-600 text-white py-3 rounded-lg font-medium hover:bg-blue-700 transition-colors",children:"Despachar"})]})]}),i.jsxs("div",{className:"w-96 p-6 bg-white border-l border-gray-200",children:[i.jsx("div",{className:"mb-6",children:n?i.jsx("div",{className:"p-3 bg-blue-50 rounded-lg border border-blue-200",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-blue-900",children:n.razon_social}),i.jsxs("p",{className:"text-xs text-blue-700",children:["RUT: ",n.rut]})]}),i.jsx("button",{onClick:()=>s(null),className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"Cambiar"})]})}):i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx(Xr,{className:"w-4 h-4 text-blue-600"}),i.jsx("span",{className:"text-sm font-medium text-blue-800",children:"Clientes"})]}),i.jsxs("div",{className:"relative",children:[i.jsx(Se,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),i.jsx("input",{type:"text",placeholder:"Cliente",className:"w-full pl-10 pr-4 py-2 border border-blue-300 rounded-lg text-sm"})]})]}),i.jsx("button",{onClick:()=>l(!0),className:"w-full bg-blue-600 text-white py-3 rounded-lg font-medium hover:bg-blue-700 transition-colors",children:"Registrar nuevo cliente"})]})}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Fecha"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("input",{type:"date",value:u.fecha,onChange:p=>d(j=>({...j,fecha:p.target.value})),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg"}),i.jsx(tr,{className:"w-4 h-4 text-gray-400"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo"}),i.jsxs("select",{value:u.tipo,onChange:p=>d(j=>({...j,tipo:p.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg",children:[i.jsx("option",{children:"Tipo de despacho"}),i.jsx("option",{children:"Entrega inmediata"}),i.jsx("option",{children:"Entrega programada"})]})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Destinatario"}),i.jsx("input",{type:"text",value:u.destinatario,onChange:p=>d(j=>({...j,destinatario:p.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Dirección"}),i.jsx("input",{type:"text",value:u.direccion,onChange:p=>d(j=>({...j,direccion:p.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg"})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Comuna"}),i.jsx("input",{type:"text",value:u.comuna,onChange:p=>d(j=>({...j,comuna:p.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ciudad"}),i.jsx("input",{type:"text",value:u.ciudad,onChange:p=>d(j=>({...j,ciudad:p.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Región"}),i.jsx("input",{type:"text",value:u.region,onChange:p=>d(j=>({...j,region:p.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Núm. documento"}),i.jsx("input",{type:"text",value:u.numeroDocumento,onChange:p=>d(j=>({...j,numeroDocumento:p.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg"})]})]}),i.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[i.jsxs("div",{className:"flex justify-between items-center mb-4 text-lg font-semibold",children:[i.jsx("span",{children:"Total de despacho"}),i.jsx("span",{children:y(m)})]}),i.jsx("button",{onClick:g,className:"w-full bg-blue-600 text-white py-3 rounded-lg font-medium hover:bg-blue-700 transition-colors",children:"Confirmar despacho"})]})]})]}),i.jsx(Zf,{isOpen:a,onClose:()=>l(!1),onClientSelect:f})]})},rv=({onClose:e})=>{const[t,r]=v.useState(!1),{closeCaja:n}=nt(),s=async()=>{r(!0),await n()&&e(),r(!1)},a={fechaCierre:"14/05/2025",horaCierre:"22:50",cajaId:"Pedro Infantas",pedidosInformes:"Pedidos informes",ventasTotales:102,resumenVentas:[{tipo:"Boleta manual",cantidad:22e3,folio:"3421456",metodoPago:"Tarjeta"},{tipo:"Boleta manual",cantidad:22e3,folio:"3421456",metodoPago:"Tarjeta"},{tipo:"Boleta manual",cantidad:22e3,folio:"3421456",metodoPago:"Efectivo"}],totales:{tarjeta:34,efectivo:68,resumenCaja:102,efectivoFinal:68,tarjetaFinal:34,retiroEfectivo:2,totalReal:66,diferencia:36}};return i.jsxs("div",{className:"h-screen bg-gray-50 flex flex-col",children:[i.jsx(Ge,{title:"Cierre de caja",icon:i.jsx(us,{className:"w-6 h-6 text-gray-600"})}),i.jsx("div",{className:"flex-1 p-6 overflow-y-auto",children:i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Fecha del cierre"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("input",{type:"date",value:"2025-05-14",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg",readOnly:!0}),i.jsx(tr,{className:"w-5 h-5 text-gray-400"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Hora de cierre"}),i.jsx("div",{className:"flex items-center gap-2",children:i.jsx("input",{type:"time",value:"22:50",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg",readOnly:!0})})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Caja de"}),i.jsx("div",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-50",children:"Pedro Infantas"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Resumen de ventas"}),i.jsx("div",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-50",children:"102 $"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{children:"Tarjeta (1)"}),i.jsx("span",{className:"font-medium",children:"+ 34 $"})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{children:"Efectivo (2)"}),i.jsx("span",{className:"font-medium",children:"+ 68 $"})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{children:"Resumen de Caja"}),i.jsx("span",{className:"font-medium",children:"102 $"})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{children:"Efectivo (2)"}),i.jsx("span",{className:"font-medium",children:"+ 68 $"})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{children:"Tarjeta (1)"}),i.jsx("span",{className:"font-medium",children:"+ 34 $"})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{children:"Retiro de efectivo"}),i.jsx("span",{className:"font-medium text-red-600",children:"- 2 $"})]})]}),i.jsxs("div",{className:"border-t pt-4 space-y-3",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"font-medium",children:"Total teórico"}),i.jsx("span",{className:"font-bold",children:"102 $"})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"font-medium",children:"Total real"}),i.jsx("span",{className:"font-bold",children:"66 $"})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"font-medium",children:"Diferencia"}),i.jsx("span",{className:"font-bold",children:"36 $"})]})]}),i.jsx("button",{onClick:s,disabled:t,className:"w-full bg-blue-600 text-white py-3 rounded-lg font-medium hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:t?"Cerrando caja...":"Cerrar caja"})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{className:"flex items-center gap-2 mb-2",children:i.jsx("span",{className:"text-sm font-medium text-blue-800",children:"📄 Resumen de documentos"})}),i.jsx("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg",children:i.jsx("option",{children:"Ventas totales"})}),i.jsx("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:i.jsxs("table",{className:"w-full text-sm",children:[i.jsx("thead",{className:"bg-gray-50",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-3 py-2 text-left",children:"Tipo de documento"}),i.jsx("th",{className:"px-3 py-2 text-left",children:"Hora"}),i.jsx("th",{className:"px-3 py-2 text-left",children:"Folio"}),i.jsx("th",{className:"px-3 py-2 text-left",children:"Método de pago"})]})}),i.jsx("tbody",{children:a.resumenVentas.map((l,o)=>i.jsxs("tr",{className:"border-t border-gray-200",children:[i.jsx("td",{className:"px-3 py-2",children:l.tipo}),i.jsx("td",{className:"px-3 py-2",children:"22:00"}),i.jsx("td",{className:"px-3 py-2",children:l.folio}),i.jsx("td",{className:"px-3 py-2",children:l.metodoPago})]},o))})]})})]})]})})]})},nv=({onClose:e})=>{const[t,r]=v.useState(""),[n,s]=v.useState(""),[a,l]=v.useState(!1),[o,c]=v.useState(!1),[u,d]=v.useState({tipoDevolucion:"Tipo de devolución",fecha:"18/05/2025",motivo:"Escribir motivo...",numeroFolio:"342043593"}),h=()=>{l(!0)},m=()=>{c(!0)};return o?i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:i.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-md w-full p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Nota de crédito generada"}),i.jsx("button",{onClick:()=>c(!1),className:"text-gray-400 hover:text-gray-600",children:i.jsx(xe,{className:"w-6 h-6"})})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("p",{className:"text-gray-600 mb-6",children:"Enviar por correo electrónico (Opcional)"}),i.jsxs("div",{className:"flex gap-3",children:[i.jsx("button",{className:"flex-1 bg-blue-100 text-blue-700 py-3 rounded-lg font-medium hover:bg-blue-200 transition-colors",children:"Enviar"}),i.jsx("button",{onClick:()=>{c(!1),e()},className:"flex-1 bg-blue-600 text-white py-3 rounded-lg font-medium hover:bg-blue-700 transition-colors",children:"Imprimir"})]})]})]})}):i.jsxs("div",{className:"h-screen bg-gray-50 flex flex-col",children:[i.jsx(Ge,{title:"Devolución",icon:i.jsx(Qf,{className:"w-6 h-6 text-gray-600"})}),i.jsxs("div",{className:"flex-1 flex",children:[i.jsxs("div",{className:"flex-1 p-6 border-r border-gray-200",children:[i.jsx("div",{className:"mb-6",children:i.jsxs("div",{className:"relative",children:[i.jsx(Se,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),i.jsx("input",{type:"text",placeholder:"Ingresa aquí el producto o servicio",value:t,onChange:x=>r(x.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),i.jsxs("div",{className:"grid grid-cols-4 gap-4 text-sm font-medium text-gray-700 border-b pb-2 mb-4",children:[i.jsx("span",{children:"Producto"}),i.jsx("span",{children:"Cantidad"}),i.jsx("span",{children:"Descuento"}),i.jsx("span",{children:"Importe"})]}),i.jsxs("div",{className:"grid grid-cols-4 gap-4 items-center p-3 bg-gray-50 rounded-lg",children:[i.jsx("span",{className:"text-sm",children:"Ejemplo producto 1"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("button",{className:"w-6 h-6 bg-gray-200 rounded flex items-center justify-center hover:bg-gray-300",children:i.jsx(Xo,{className:"w-3 h-3"})}),i.jsx("span",{className:"w-8 text-center",children:"1"}),i.jsx("button",{className:"w-6 h-6 bg-gray-200 rounded flex items-center justify-center hover:bg-gray-300",children:i.jsx(vt,{className:"w-3 h-3"})})]}),i.jsx("span",{className:"text-sm",children:"0%"}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-sm",children:"34 $"}),i.jsx("button",{className:"text-red-500 hover:text-red-700",children:i.jsx(xe,{className:"w-4 h-4"})})]})]}),i.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[i.jsx("div",{className:"text-sm text-gray-600 mb-4",children:"N° Líneas 1 / Tot. items 1 | Nota de crédito manual (No...)"}),i.jsxs("div",{className:"flex justify-between items-center text-lg font-semibold mb-2",children:[i.jsx("span",{children:"Total"}),i.jsx("span",{children:"204 $"})]})]}),i.jsxs("div",{className:"flex gap-3 mt-4",children:[i.jsx("button",{className:"flex-1 bg-gray-100 text-gray-700 py-3 rounded-lg font-medium hover:bg-gray-200 transition-colors",children:"Cancelar"}),i.jsx("button",{className:"flex-1 bg-gray-100 text-gray-700 py-3 rounded-lg font-medium hover:bg-gray-200 transition-colors",children:"Anular venta"})]})]}),i.jsx("div",{className:"w-96 p-6 bg-gray-50",children:a?i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo de devolución"}),i.jsx("select",{value:u.tipoDevolucion,onChange:x=>d(b=>({...b,tipoDevolucion:x.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg",children:i.jsx("option",{children:"Tipo de devolución"})})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Fecha"}),i.jsxs("div",{className:"flex items-center",children:[i.jsx("input",{type:"date",value:"2025-05-18",className:"w-full px-3 py-2 border border-gray-300 rounded-lg"}),i.jsx(tr,{className:"ml-2 w-5 h-5 text-gray-400"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Motivo"}),i.jsx("textarea",{value:u.motivo,onChange:x=>d(b=>({...b,motivo:x.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg h-20 resize-none"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Número de folio"}),i.jsx("input",{type:"text",value:u.numeroFolio,onChange:x=>d(b=>({...b,numeroFolio:x.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg"})]}),i.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[i.jsxs("div",{className:"flex justify-between items-center mb-4 text-lg font-semibold",children:[i.jsx("span",{children:"Devolución total"}),i.jsx("span",{children:"204 $"})]}),i.jsx("button",{onClick:m,className:"w-full bg-blue-600 text-white py-3 rounded-lg font-medium hover:bg-blue-700 transition-colors",children:"Confirmar devolución"})]})]}):i.jsxs("div",{children:[i.jsx("div",{className:"flex items-center gap-2 mb-2",children:i.jsx("span",{className:"text-sm font-medium text-blue-800",children:"📄 Folio de documento"})}),i.jsx("div",{className:"mb-4",children:i.jsxs("div",{className:"relative",children:[i.jsx(Se,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),i.jsx("input",{type:"text",placeholder:"Ingresa aquí el número de folio",value:n,onChange:x=>s(x.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),i.jsxs("div",{className:"flex items-center justify-between p-3 bg-white rounded-lg border border-gray-200 mb-4",children:[i.jsx("div",{children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-sm font-medium",children:"Folio: 342043593"}),i.jsx("div",{className:"w-4 h-4 bg-green-500 rounded-full flex items-center justify-center",children:i.jsx("span",{className:"text-white text-xs",children:"✓"})})]})}),i.jsx("button",{className:"text-gray-400 hover:text-gray-600",children:i.jsx("span",{className:"text-sm",children:"ℹ️"})})]}),i.jsx("button",{onClick:h,className:"w-full bg-blue-600 text-white py-3 rounded-lg font-medium hover:bg-blue-700 transition-colors",children:"Devolver"})]})})]})]})},sv=({onClose:e})=>{const[t,r]=v.useState({fecha:new Date().toISOString().split("T")[0],efectivoSistema:15e4,efectivoContado:148500,diferencia:-1500,observaciones:""}),n=a=>new Intl.NumberFormat("es-CL",{style:"currency",currency:"CLP"}).format(a),s=()=>{console.log("Guardando arqueo:",t),e()};return i.jsxs("div",{className:"h-screen bg-gray-50 flex flex-col",children:[i.jsx(Ge,{title:"Arqueo de caja",icon:i.jsx(us,{className:"w-6 h-6 text-gray-600"})}),i.jsx("div",{className:"flex-1 p-6 overflow-y-auto",children:i.jsx("div",{className:"max-w-4xl mx-auto",children:i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Información del arqueo"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Fecha del arqueo"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("input",{type:"date",value:t.fecha,onChange:a=>r(l=>({...l,fecha:a.target.value})),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg"}),i.jsx(tr,{className:"w-5 h-5 text-gray-400"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Caja"}),i.jsx("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg",children:i.jsx("option",{children:"Caja Principal"})})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Efectivo según sistema"}),i.jsx("div",{className:"px-3 py-2 border border-gray-300 rounded-lg bg-gray-50",children:n(t.efectivoSistema)})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Efectivo contado físicamente"}),i.jsx("input",{type:"number",value:t.efectivoContado,onChange:a=>r(l=>({...l,efectivoContado:parseFloat(a.target.value),diferencia:parseFloat(a.target.value)-l.efectivoSistema})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Diferencia"}),i.jsx("div",{className:`px-3 py-2 border border-gray-300 rounded-lg ${t.diferencia===0?"bg-green-50 text-green-800":t.diferencia>0?"bg-blue-50 text-blue-800":"bg-red-50 text-red-800"}`,children:n(t.diferencia)})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Observaciones"}),i.jsx("textarea",{value:t.observaciones,onChange:a=>r(l=>({...l,observaciones:a.target.value})),placeholder:"Ingrese observaciones sobre el arqueo...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg h-24 resize-none"})]})]}),i.jsxs("div",{className:"flex gap-3 mt-6",children:[i.jsx("button",{onClick:e,className:"flex-1 bg-gray-100 text-gray-700 py-3 rounded-lg font-medium hover:bg-gray-200 transition-colors",children:"Cancelar"}),i.jsx("button",{onClick:s,className:"flex-1 bg-blue-600 text-white py-3 rounded-lg font-medium hover:bg-blue-700 transition-colors",children:"Guardar arqueo"})]})]}),i.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Resumen del día"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex justify-between items-center p-3 bg-blue-50 rounded-lg",children:[i.jsx("span",{className:"text-sm font-medium",children:"Ventas en efectivo"}),i.jsx("span",{className:"font-semibold",children:n(85e3)})]}),i.jsxs("div",{className:"flex justify-between items-center p-3 bg-green-50 rounded-lg",children:[i.jsx("span",{className:"text-sm font-medium",children:"Ingresos adicionales"}),i.jsx("span",{className:"font-semibold",children:n(15e3)})]}),i.jsxs("div",{className:"flex justify-between items-center p-3 bg-red-50 rounded-lg",children:[i.jsx("span",{className:"text-sm font-medium",children:"Retiros de efectivo"}),i.jsxs("span",{className:"font-semibold",children:["-",n(5e3)]})]}),i.jsxs("div",{className:"flex justify-between items-center p-3 bg-yellow-50 rounded-lg",children:[i.jsx("span",{className:"text-sm font-medium",children:"Efectivo inicial"}),i.jsx("span",{className:"font-semibold",children:n(55e3)})]}),i.jsx("div",{className:"border-t pt-4",children:i.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-100 rounded-lg",children:[i.jsx("span",{className:"font-semibold",children:"Total esperado"}),i.jsx("span",{className:"font-bold text-lg",children:n(t.efectivoSistema)})]})}),i.jsxs("div",{className:"mt-6",children:[i.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"Estado del arqueo"}),i.jsx("div",{className:`p-4 rounded-lg text-center ${t.diferencia===0?"bg-green-100 text-green-800":Math.abs(t.diferencia)<=1e3?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:t.diferencia===0?"✅ Caja cuadrada":Math.abs(t.diferencia)<=1e3?"⚠️ Diferencia menor":"❌ Diferencia significativa"})]})]})]})]})})})]})},iv=({onClose:e})=>{const[t,r]=v.useState([]),[n,s]=v.useState(!1),[a,l]=v.useState({fechaInicio:new Date().toISOString().split("T")[0],fechaFin:new Date().toISOString().split("T")[0],tipo:"todos"}),{empresaId:o}=Oe();v.useEffect(()=>{c()},[a]);const c=async()=>{if(o){s(!0);try{const{data:w,error:y}=await V.from("movimientos_caja").select(`
          *,
          usuarios!inner(nombre, apellidos)
        `).gte("fecha::date",a.fechaInicio).lte("fecha::date",a.fechaFin).order("fecha",{ascending:!1});if(y)throw y;const f=(w||[]).map(g=>({id:g.id,tipo:g.tipo,monto:g.monto,observacion:g.observacion,fecha:g.fecha,usuario_nombre:`${g.usuarios.nombre} ${g.usuarios.apellidos}`}));r(f)}catch(w){console.error("Error loading movements:",w),L.error("Error al cargar movimientos")}finally{s(!1)}}},u=async w=>{if(confirm("¿Está seguro de eliminar este movimiento?"))try{const{error:y}=await V.from("movimientos_caja").delete().eq("id",w);if(y)throw y;L.success("Movimiento eliminado correctamente"),c()}catch(y){console.error("Error deleting movement:",y),L.error("Error al eliminar movimiento")}},d=()=>{c(),L.success("Filtros aplicados correctamente")},h=w=>new Intl.NumberFormat("es-CL",{style:"currency",currency:"CLP"}).format(w),m=w=>new Date(w).toLocaleString("es-CL",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}),x=(t||[]).filter(w=>a.tipo==="todos"||w.tipo===a.tipo),b=x.reduce((w,y)=>(y.tipo==="ingreso"||y.tipo==="venta"?w.ingresos+=y.monto:w.egresos+=y.monto,w),{ingresos:0,egresos:0});return i.jsxs("div",{className:"h-screen bg-gray-50 flex flex-col",children:[i.jsx(Ge,{title:"Historial de movimientos",icon:i.jsx(Wf,{className:"w-6 h-6 text-gray-600"})}),i.jsxs("div",{className:"flex-1 p-6 overflow-y-auto",children:[i.jsxs("div",{className:"bg-white rounded-lg p-4 mb-6 shadow-sm",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[i.jsx(Vf,{className:"w-5 h-5 text-blue-600"}),i.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Filtros"})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Fecha inicio"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("input",{type:"date",value:a.fechaInicio,onChange:w=>l(y=>({...y,fechaInicio:w.target.value})),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg"}),i.jsx(tr,{className:"w-5 h-5 text-gray-400"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Fecha fin"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("input",{type:"date",value:a.fechaFin,onChange:w=>l(y=>({...y,fechaFin:w.target.value})),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg"}),i.jsx(tr,{className:"w-5 h-5 text-gray-400"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo de movimiento"}),i.jsxs("select",{value:a.tipo,onChange:w=>l(y=>({...y,tipo:w.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg",children:[i.jsx("option",{value:"todos",children:"Todos"}),i.jsx("option",{value:"ingreso",children:"Ingresos"}),i.jsx("option",{value:"retiro",children:"Retiros"}),i.jsx("option",{value:"venta",children:"Ventas"})]})]}),i.jsx("div",{className:"flex items-end",children:i.jsx("button",{onClick:d,className:"w-full bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors",children:"Aplicar filtros"})})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[i.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx(Ai,{className:"w-5 h-5 text-green-600"}),i.jsx("span",{className:"text-sm font-medium text-green-800",children:"Total Ingresos"})]}),i.jsx("p",{className:"text-2xl font-bold text-green-900",children:h(b.ingresos)})]}),i.jsxs("div",{className:"bg-red-50 p-4 rounded-lg",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx(Fx,{className:"w-5 h-5 text-red-600"}),i.jsx("span",{className:"text-sm font-medium text-red-800",children:"Total Egresos"})]}),i.jsx("p",{className:"text-2xl font-bold text-red-900",children:h(b.egresos)})]}),i.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[i.jsx("div",{className:"flex items-center gap-2 mb-2",children:i.jsx("span",{className:"text-sm font-medium text-blue-800",children:"Saldo Neto"})}),i.jsx("p",{className:"text-2xl font-bold text-blue-900",children:h(b.ingresos-b.egresos)})]})]}),i.jsxs("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:[i.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:i.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Movimientos (",x.length,")"]})}),n?i.jsx("div",{className:"p-8 text-center text-gray-500",children:"Cargando movimientos..."}):x.length===0?i.jsx("div",{className:"p-8 text-center text-gray-500",children:"No hay movimientos en el período seleccionado"}):i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full",children:[i.jsx("thead",{className:"bg-gray-50",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Fecha y Hora"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tipo"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Monto"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Usuario"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Observación"})]})}),i.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:x.map(w=>i.jsxs("tr",{className:"hover:bg-gray-50",children:[i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:m(w.fecha)}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${w.tipo==="ingreso"?"bg-green-100 text-green-800":w.tipo==="retiro"?"bg-red-100 text-red-800":"bg-blue-100 text-blue-800"}`,children:w.tipo.charAt(0).toUpperCase()+w.tipo.slice(1)})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:i.jsxs("span",{className:w.tipo==="retiro"?"text-red-600":"text-green-600",children:[w.tipo==="retiro"?"-":"+",h(w.monto)]})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:w.usuario_nombre||"N/A"}),i.jsxs("td",{className:"px-6 py-4 text-sm text-gray-900 flex items-center justify-between",children:[i.jsx("span",{children:w.observacion||"-"}),i.jsx("button",{onClick:()=>u(w.id),className:"text-red-500 hover:text-red-700",children:i.jsx(Cs,{className:"w-4 h-4"})})]})]},w.id))})]})})]})]})]})},av=({onClose:e})=>{const[t,r]=v.useState([]),[n,s]=v.useState(!1),[a,l]=v.useState(!1),[o,c]=v.useState(null),[u,d]=v.useState(""),[h,m]=v.useState({nombre:"",descripcion:"",activo:!0}),{empresaId:x}=Oe();v.useEffect(()=>{b()},[]);const b=async()=>{if(x){s(!0);try{const{data:p,error:j}=await V.from("categorias").select("*").eq("empresa_id",x).order("created_at",{ascending:!1});if(j)throw j;r(p||[])}catch(p){console.error("Error loading categories:",p)}finally{s(!1)}}},w=async()=>{if(!(!x||!h.nombre.trim()))try{if(o){const{error:p}=await V.from("categorias").update(h).eq("id",o.id);if(p)throw p}else{const{error:p}=await V.from("categorias").insert([{empresa_id:x,...h}]);if(p)throw p}l(!1),c(null),m({nombre:"",descripcion:"",activo:!0}),b()}catch(p){console.error("Error saving category:",p)}},y=p=>{c(p),m({nombre:p.nombre,descripcion:p.descripcion,activo:p.activo}),l(!0)},f=async p=>{if(confirm("¿Está seguro de eliminar esta categoría?"))try{const{error:j}=await V.from("categorias").delete().eq("id",p);if(j)throw j;b()}catch(j){console.error("Error deleting category:",j)}},g=t.filter(p=>{var j;return p.nombre.toLowerCase().includes(u.toLowerCase())||((j=p.descripcion)==null?void 0:j.toLowerCase().includes(u.toLowerCase()))});return i.jsxs("div",{className:"h-screen bg-gray-50 flex flex-col",children:[i.jsx(Ge,{title:"Gestión de categorías",icon:i.jsx(Di,{className:"w-6 h-6 text-gray-600"})}),i.jsxs("div",{className:"flex-1 p-6 overflow-y-auto",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsxs("div",{className:"relative flex-1 mr-4",children:[i.jsx(Se,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),i.jsx("input",{type:"text",placeholder:"Buscar categorías...",value:u,onChange:p=>d(p.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),i.jsxs("button",{onClick:()=>l(!0),className:"flex items-center gap-2 bg-blue-600 text-white px-4 py-3 rounded-lg hover:bg-blue-700 transition-colors",children:[i.jsx(vt,{className:"w-4 h-4"}),"Nueva categoría"]})]}),n?i.jsx("div",{className:"text-center py-8 text-gray-500",children:"Cargando categorías..."}):g.length===0?i.jsx("div",{className:"text-center py-8 text-gray-500",children:u?"No se encontraron categorías":"No hay categorías registradas"}):i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:g.map(p=>i.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm border",children:[i.jsxs("div",{className:"flex items-start justify-between mb-3",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:"font-semibold text-gray-900",children:p.nombre}),i.jsx("p",{className:"text-sm text-gray-600 mt-1",children:p.descripcion||"Sin descripción"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("button",{onClick:()=>y(p),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",children:i.jsx(ec,{className:"w-4 h-4"})}),i.jsx("button",{onClick:()=>f(p.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:i.jsx(Cs,{className:"w-4 h-4"})})]})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${p.activo?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:p.activo?"Activa":"Inactiva"}),i.jsx("span",{className:"text-xs text-gray-500",children:new Date(p.created_at).toLocaleDateString("es-CL")})]})]},p.id))})]}),a&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:i.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-md w-full",children:[i.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:o?"Editar categoría":"Nueva categoría"}),i.jsx("button",{onClick:()=>{l(!1),c(null),m({nombre:"",descripcion:"",activo:!0})},className:"text-gray-400 hover:text-gray-600",children:i.jsx(xe,{className:"w-6 h-6"})})]}),i.jsxs("div",{className:"p-6 space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nombre *"}),i.jsx("input",{type:"text",value:h.nombre,onChange:p=>m(j=>({...j,nombre:p.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Nombre de la categoría"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descripción"}),i.jsx("textarea",{value:h.descripcion,onChange:p=>m(j=>({...j,descripcion:p.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg h-20 resize-none focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Descripción de la categoría"})]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx("input",{type:"checkbox",id:"activo",checked:h.activo,onChange:p=>m(j=>({...j,activo:p.target.checked})),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),i.jsx("label",{htmlFor:"activo",className:"ml-2 text-sm text-gray-700",children:"Categoría activa"})]})]}),i.jsxs("div",{className:"flex gap-3 p-6 border-t border-gray-200",children:[i.jsx("button",{onClick:()=>{l(!1),c(null),m({nombre:"",descripcion:"",activo:!0})},className:"flex-1 bg-gray-100 text-gray-700 py-3 rounded-lg font-medium hover:bg-gray-200 transition-colors",children:"Cancelar"}),i.jsx("button",{onClick:w,disabled:!h.nombre.trim(),className:"flex-1 bg-blue-600 text-white py-3 rounded-lg font-medium hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:o?"Actualizar":"Crear"})]})]})})]})},lv=({onClose:e})=>{const[t,r]=v.useState(""),[n,s]=v.useState(!1),[a,l]=v.useState(""),[o,c]=v.useState(!1),[u,d]=v.useState(null),[h,m]=v.useState({codigo:"",nombre:"",precio:0,barcode:""}),[x,b]=v.useState([{id:"1",codigo:"PROD001",nombre:"Ejemplo producto 1",precio:34.5,barcode:"7891234567890"},{id:"2",codigo:"PROD002",nombre:"Ejemplo producto 2",precio:68.5,barcode:"7891234567891"}]),w=C=>new Intl.NumberFormat("es-CL",{style:"currency",currency:"CLP"}).format(C),y=()=>{s(!0),setTimeout(()=>{const C="7891234567892";l(C),s(!1);const N=x.find(k=>k.barcode===C);N?alert(`Producto encontrado: ${N.nombre}`):(m(k=>({...k,barcode:C})),c(!0))},2e3)},f=()=>{if(!h.codigo||!h.nombre||!h.barcode)return;const C={id:Date.now().toString(),codigo:h.codigo,nombre:h.nombre,precio:h.precio,barcode:h.barcode};b(u?N=>N.map(k=>k.id===u.id?{...C,id:u.id}:k):N=>[...N,C]),c(!1),d(null),m({codigo:"",nombre:"",precio:0,barcode:""})},g=C=>{d(C),m({codigo:C.codigo,nombre:C.nombre,precio:C.precio,barcode:C.barcode}),c(!0)},p=C=>{confirm("¿Está seguro de eliminar este producto?")&&b(N=>N.filter(k=>k.id!==C))},j=x.filter(C=>C.nombre.toLowerCase().includes(t.toLowerCase())||C.codigo.toLowerCase().includes(t.toLowerCase())||C.barcode.includes(t));return i.jsxs("div",{className:"h-screen bg-gray-50 flex flex-col",children:[i.jsx(Ge,{title:"Gestión de códigos de barras",icon:i.jsx(li,{className:"w-6 h-6 text-gray-600"})}),i.jsxs("div",{className:"flex-1 p-6 overflow-y-auto",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsxs("div",{className:"relative flex-1 mr-4",children:[i.jsx(Se,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),i.jsx("input",{type:"text",placeholder:"Buscar por nombre, código o código de barras...",value:t,onChange:C=>r(C.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),i.jsxs("div",{className:"flex gap-3",children:[i.jsxs("button",{onClick:y,disabled:n,className:"flex items-center gap-2 bg-green-600 text-white px-4 py-3 rounded-lg hover:bg-green-700 disabled:opacity-50 transition-colors",children:[i.jsx(li,{className:"w-4 h-4"}),n?"Escaneando...":"Escanear código"]}),i.jsxs("button",{onClick:()=>c(!0),className:"flex items-center gap-2 bg-blue-600 text-white px-4 py-3 rounded-lg hover:bg-blue-700 transition-colors",children:[i.jsx(vt,{className:"w-4 h-4"}),"Agregar código"]})]})]}),n&&i.jsx("div",{className:"bg-white rounded-lg p-8 mb-6 shadow-sm text-center",children:i.jsxs("div",{className:"animate-pulse flex flex-col items-center",children:[i.jsx(li,{className:"w-16 h-16 text-blue-600 mb-4"}),i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Escaneando código de barras"}),i.jsx("p",{className:"text-gray-600",children:"Acerque el código de barras al escáner..."})]})}),i.jsxs("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:[i.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:i.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Productos con código de barras (",j.length,")"]})}),j.length===0?i.jsx("div",{className:"p-8 text-center text-gray-500",children:t?"No se encontraron productos":"No hay productos con códigos de barras"}):i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full",children:[i.jsx("thead",{className:"bg-gray-50",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Código"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nombre"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Precio"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Código de barras"}),i.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Acciones"})]})}),i.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:j.map(C=>i.jsxs("tr",{className:"hover:bg-gray-50",children:[i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:C.codigo}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:C.nombre}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:w(C.precio)}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 font-mono",children:C.barcode}),i.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[i.jsx("button",{onClick:()=>g(C),className:"text-blue-600 hover:text-blue-900 mr-3",children:i.jsx(ec,{className:"w-4 h-4"})}),i.jsx("button",{onClick:()=>p(C.id),className:"text-red-600 hover:text-red-900",children:i.jsx(Cs,{className:"w-4 h-4"})})]})]},C.id))})]})})]})]}),o&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:i.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-md w-full",children:[i.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:u?"Editar producto":"Nuevo producto con código de barras"}),i.jsx("button",{onClick:()=>{c(!1),d(null),m({codigo:"",nombre:"",precio:0,barcode:""})},className:"text-gray-400 hover:text-gray-600",children:i.jsx(xe,{className:"w-6 h-6"})})]}),i.jsxs("div",{className:"p-6 space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Código de barras *"}),i.jsx("input",{type:"text",value:h.barcode,onChange:C=>m(N=>({...N,barcode:C.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Código de barras"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Código interno *"}),i.jsx("input",{type:"text",value:h.codigo,onChange:C=>m(N=>({...N,codigo:C.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Código interno del producto"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nombre del producto *"}),i.jsx("input",{type:"text",value:h.nombre,onChange:C=>m(N=>({...N,nombre:C.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Nombre del producto"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Precio"}),i.jsx("input",{type:"number",value:h.precio,onChange:C=>m(N=>({...N,precio:parseFloat(C.target.value)})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Precio del producto",min:"0",step:"0.01"})]})]}),i.jsxs("div",{className:"flex gap-3 p-6 border-t border-gray-200",children:[i.jsx("button",{onClick:()=>{c(!1),d(null),m({codigo:"",nombre:"",precio:0,barcode:""})},className:"flex-1 bg-gray-100 text-gray-700 py-3 rounded-lg font-medium hover:bg-gray-200 transition-colors",children:"Cancelar"}),i.jsx("button",{onClick:f,disabled:!h.codigo||!h.nombre||!h.barcode,className:"flex-1 bg-blue-600 text-white py-3 rounded-lg font-medium hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:u?"Actualizar":"Guardar"})]})]})})]})},ov=({onClose:e})=>{const[t,r]=v.useState(""),[n,s]=v.useState(null),[a,l]=v.useState([]),[o,c]=v.useState(!1),[u,d]=v.useState({start:new Date(new Date().setMonth(new Date().getMonth()-1)).toISOString().split("T")[0],end:new Date().toISOString().split("T")[0]}),{empresaId:h}=Oe(),m=f=>new Intl.NumberFormat("es-CL",{style:"currency",currency:"CLP"}).format(f),x=async()=>{if(!(!t||!h)){c(!0);try{const{data:f,error:g}=await V.from("clientes").select("*").eq("empresa_id",h).or(`razon_social.ilike.%${t}%,rut.ilike.%${t}%`).limit(1);if(g)throw g;f&&f.length>0?(s(f[0]),b(f[0].id)):(s(null),l([]))}catch(f){console.error("Error searching client:",f)}finally{c(!1)}}},b=async f=>{if(h){c(!0);try{const{data:g,error:p}=await V.from("ventas").select("*").eq("empresa_id",h).eq("cliente_id",f).gte("fecha",`${u.start}T00:00:00`).lte("fecha",`${u.end}T23:59:59`).order("fecha",{ascending:!1});if(p)throw p;l(g||[])}catch(g){console.error("Error loading client sales:",g)}finally{c(!1)}}};v.useEffect(()=>{n&&b(n.id)},[u]);const w=a.reduce((f,g)=>f+g.total,0),y=a.length>0?w/a.length:0;return i.jsxs("div",{className:"h-screen bg-gray-50 flex flex-col",children:[i.jsx(Ge,{title:"Historial de cliente",icon:i.jsx(Xr,{className:"w-6 h-6 text-gray-600"})}),i.jsxs("div",{className:"flex-1 p-6 overflow-y-auto",children:[i.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm mb-6",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[i.jsx(Xr,{className:"w-5 h-5 text-blue-600"}),i.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Buscar cliente"})]}),i.jsxs("div",{className:"flex gap-3",children:[i.jsxs("div",{className:"relative flex-1",children:[i.jsx(Se,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),i.jsx("input",{type:"text",placeholder:"Buscar por nombre o RUT...",value:t,onChange:f=>r(f.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),i.jsx("button",{onClick:x,disabled:!t||o,className:"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:o?"Buscando...":"Buscar"})]})]}),n?i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm mb-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:n.razon_social}),i.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["RUT: ",n.rut]})]}),i.jsxs("div",{className:"flex flex-col items-end",children:[i.jsx("span",{className:"text-sm text-gray-600",children:"Cliente desde"}),i.jsx("span",{className:"font-medium",children:new Date(n.created_at).toLocaleDateString("es-CL")})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("div",{className:"p-3 bg-blue-50 rounded-lg",children:[i.jsx("span",{className:"text-sm text-blue-800",children:"Dirección"}),i.jsxs("p",{className:"font-medium text-blue-900",children:[n.direccion||"No registrada",n.comuna&&`, ${n.comuna}`]})]}),i.jsxs("div",{className:"p-3 bg-green-50 rounded-lg",children:[i.jsx("span",{className:"text-sm text-green-800",children:"Contacto"}),i.jsx("p",{className:"font-medium text-green-900",children:n.telefono||"No registrado"})]}),i.jsxs("div",{className:"p-3 bg-purple-50 rounded-lg",children:[i.jsx("span",{className:"text-sm text-purple-800",children:"Email"}),i.jsx("p",{className:"font-medium text-purple-900",children:n.email||"No registrado"})]})]})]}),i.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm mb-6",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[i.jsx(tr,{className:"w-5 h-5 text-blue-600"}),i.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Período"})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Fecha inicio"}),i.jsx("input",{type:"date",value:u.start,onChange:f=>d(g=>({...g,start:f.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Fecha fin"}),i.jsx("input",{type:"date",value:u.end,onChange:f=>d(g=>({...g,end:f.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg"})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[i.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx(ds,{className:"w-5 h-5 text-blue-600"}),i.jsx("span",{className:"text-sm font-medium text-blue-800",children:"Total ventas"})]}),i.jsx("p",{className:"text-2xl font-bold text-blue-900",children:a.length})]}),i.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[i.jsx("div",{className:"flex items-center gap-2 mb-2",children:i.jsx("span",{className:"text-sm font-medium text-green-800",children:"Monto total"})}),i.jsx("p",{className:"text-2xl font-bold text-green-900",children:m(w)})]}),i.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg",children:[i.jsx("div",{className:"flex items-center gap-2 mb-2",children:i.jsx("span",{className:"text-sm font-medium text-purple-800",children:"Ticket promedio"})}),i.jsx("p",{className:"text-2xl font-bold text-purple-900",children:m(y)})]})]}),i.jsxs("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:[i.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 flex justify-between items-center",children:[i.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Historial de compras (",a.length,")"]}),i.jsxs("button",{className:"flex items-center gap-2 text-blue-600 hover:text-blue-800",children:[i.jsx(Hf,{className:"w-4 h-4"}),i.jsx("span",{className:"text-sm",children:"Exportar"})]})]}),o?i.jsx("div",{className:"p-8 text-center text-gray-500",children:"Cargando historial..."}):a.length===0?i.jsx("div",{className:"p-8 text-center text-gray-500",children:"No hay compras en el período seleccionado"}):i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full",children:[i.jsx("thead",{className:"bg-gray-50",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Fecha"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Folio"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tipo"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Estado"})]})}),i.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:a.map(f=>i.jsxs("tr",{className:"hover:bg-gray-50",children:[i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:new Date(f.fecha).toLocaleDateString("es-CL")}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-blue-600",children:f.folio}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:f.tipo_dte==="boleta"?"Boleta":f.tipo_dte==="factura"?"Factura":"Nota de crédito"}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:m(f.total)}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${f.estado==="completada"?"bg-green-100 text-green-800":f.estado==="pendiente"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:f.estado.charAt(0).toUpperCase()+f.estado.slice(1)})})]},f.id))})]})})]})]}):i.jsxs("div",{className:"bg-white rounded-lg p-8 shadow-sm text-center",children:[i.jsx(Xr,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No hay cliente seleccionado"}),i.jsx("p",{className:"text-gray-600 mb-4",children:"Busque un cliente para ver su historial de compras"})]})]})]})},cv=({onClose:e})=>{const[t,r]=v.useState([]),[n,s]=v.useState(!1),[a,l]=v.useState(!1),[o,c]=v.useState(null),[u,d]=v.useState({nombre:"",descripcion:"",tipo:"descuento_porcentaje",valor:0,fecha_inicio:"",fecha_fin:"",activo:!0}),{empresaId:h}=Oe();v.useEffect(()=>{m()},[]);const m=async()=>{if(h){s(!0);try{const{data:y,error:f}=await V.from("promociones").select("*").eq("empresa_id",h).order("created_at",{ascending:!1});if(f)throw f;r(y||[])}catch(y){console.error("Error loading promotions:",y),L.error("Error al cargar promociones")}finally{s(!1)}}},x=async()=>{if(!(!h||!u.nombre))try{if(o){const{error:y}=await V.from("promociones").update(u).eq("id",o.id);if(y)throw y}else{const{error:y}=await V.from("promociones").insert([{empresa_id:h,...u}]);if(y)throw y}l(!1),c(null),d({nombre:"",descripcion:"",tipo:"descuento_porcentaje",valor:0,fecha_inicio:"",fecha_fin:"",activo:!0}),m(),L.success(o?"Promoción actualizada correctamente":"Promoción creada correctamente")}catch(y){console.error("Error saving promotion:",y),L.error("Error al guardar promoción")}},b=y=>{c(y),d({nombre:y.nombre,descripcion:y.descripcion,tipo:y.tipo,valor:y.valor,fecha_inicio:y.fecha_inicio,fecha_fin:y.fecha_fin,activo:y.activo}),l(!0)},w=async y=>{if(confirm("¿Está seguro de eliminar esta promoción?"))try{const{error:f}=await V.from("promociones").delete().eq("id",y);if(f)throw f;m(),L.success("Promoción eliminada correctamente")}catch(f){console.error("Error deleting promotion:",f),L.error("Error al eliminar promoción")}};return i.jsxs("div",{className:"h-screen bg-gray-50 flex flex-col",children:[i.jsx(Ge,{title:"Promociones",icon:i.jsx(Kf,{className:"w-6 h-6 text-gray-600"})}),i.jsxs("div",{className:"flex-1 p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsxs("div",{className:"relative flex-1 mr-4",children:[i.jsx(Se,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),i.jsx("input",{type:"text",placeholder:"Buscar promociones...",className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),i.jsxs("button",{onClick:()=>l(!0),className:"flex items-center gap-2 bg-blue-600 text-white px-4 py-3 rounded-lg hover:bg-blue-700 transition-colors",children:[i.jsx(vt,{className:"w-4 h-4"}),"Nueva promoción"]})]}),i.jsxs("div",{className:"bg-white rounded-lg shadow",children:[i.jsxs("div",{className:"grid grid-cols-6 gap-4 p-4 border-b border-gray-200 text-sm font-medium text-gray-700",children:[i.jsx("span",{children:"Nombre"}),i.jsx("span",{children:"Tipo"}),i.jsx("span",{children:"Valor"}),i.jsx("span",{children:"Fecha inicio"}),i.jsx("span",{children:"Fecha fin"}),i.jsx("span",{children:"Acciones"})]}),n?i.jsx("div",{className:"p-8 text-center text-gray-500",children:"Cargando promociones..."}):t.length===0?i.jsx("div",{className:"p-8 text-center text-gray-500",children:"No hay promociones registradas"}):i.jsx("div",{className:"divide-y divide-gray-200",children:t.map(y=>i.jsxs("div",{className:"grid grid-cols-6 gap-4 p-4 items-center",children:[i.jsx("span",{className:"font-medium",children:y.nombre}),i.jsx("span",{className:"capitalize",children:y.tipo.replace("_"," ")}),i.jsxs("span",{children:[y.valor,"%"]}),i.jsx("span",{children:y.fecha_inicio}),i.jsx("span",{children:y.fecha_fin}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("button",{onClick:()=>b(y),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",children:i.jsx(ec,{className:"w-4 h-4"})}),i.jsx("button",{onClick:()=>w(y.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:i.jsx(Cs,{className:"w-4 h-4"})})]})]},y.id))})]})]}),a&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:i.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-md w-full p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:o?"Editar promoción":"Nueva promoción"}),i.jsx("button",{onClick:()=>{l(!1),c(null),d({nombre:"",descripcion:"",tipo:"descuento_porcentaje",valor:0,fecha_inicio:"",fecha_fin:"",activo:!0})},className:"text-gray-400 hover:text-gray-600",children:i.jsx(xe,{className:"w-6 h-6"})})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nombre"}),i.jsx("input",{type:"text",value:u.nombre,onChange:y=>d(f=>({...f,nombre:y.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descripción"}),i.jsx("textarea",{value:u.descripcion,onChange:y=>d(f=>({...f,descripcion:y.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg h-20 resize-none"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo"}),i.jsxs("select",{value:u.tipo,onChange:y=>d(f=>({...f,tipo:y.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg",children:[i.jsx("option",{value:"descuento_porcentaje",children:"Descuento porcentaje"}),i.jsx("option",{value:"descuento_monto",children:"Descuento monto"}),i.jsx("option",{value:"2x1",children:"2x1"}),i.jsx("option",{value:"3x2",children:"3x2"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Valor"}),i.jsx("input",{type:"number",value:u.valor,onChange:y=>d(f=>({...f,valor:parseFloat(y.target.value)})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg"})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Fecha inicio"}),i.jsx("input",{type:"date",value:u.fecha_inicio,onChange:y=>d(f=>({...f,fecha_inicio:y.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Fecha fin"}),i.jsx("input",{type:"date",value:u.fecha_fin,onChange:y=>d(f=>({...f,fecha_fin:y.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg"})]})]})]}),i.jsxs("div",{className:"flex gap-3 mt-6",children:[i.jsx("button",{onClick:()=>{l(!1),c(null),d({nombre:"",descripcion:"",tipo:"descuento_porcentaje",valor:0,fecha_inicio:"",fecha_fin:"",activo:!0})},className:"flex-1 bg-gray-100 text-gray-700 py-3 rounded-lg font-medium hover:bg-gray-200 transition-colors",children:"Cancelar"}),i.jsx("button",{onClick:x,className:"flex-1 bg-blue-600 text-white py-3 rounded-lg font-medium hover:bg-blue-700 transition-colors",children:o?"Actualizar":"Crear"})]})]})})]})},uv=({onClose:e})=>{const[t,r]=v.useState(null),[n,s]=v.useState(!1),[a,l]=v.useState({tipoDte:"boleta",metodoPago:"efectivo",envioInmediato:!0,despacho:!1,documentos:!1,cupon:!1,descuentoGlobal:0,montoRecibido:0}),[o,c]=v.useState(!1),[u,d]=v.useState(!1),{carrito:h,total:m,procesarVenta:x,clearCart:b}=nt(),{user:w}=Oe(),y=S=>new Intl.NumberFormat("es-CL",{style:"currency",currency:"CLP"}).format(S),f=S=>{r(S)},g=async()=>{if(h.length===0){L.error("No hay productos en el carrito");return}if(a.tipoDte==="factura"&&!t){L.error("Debe seleccionar un cliente para generar una factura");return}c(!0);try{const S=await x(a.metodoPago,a.tipoDte,t==null?void 0:t.id);S.success?(a.metodoPago==="efectivo"&&S.venta&&await p(S.venta.id,S.venta.total),d(!0)):L.error(S.error||"Error al procesar la venta")}catch(S){console.error("Error processing payment:",S),L.error("Error al procesar el pago")}finally{c(!1)}},p=async(S,O)=>{if(w)try{const{data:Y,error:ze}=await V.from("aperturas_caja").select("*").eq("usuario_id",w.id).eq("estado","abierta").single();if(ze||!Y){console.error("No hay caja abierta");return}const{error:ve}=await V.from("movimientos_caja").insert({apertura_caja_id:Y.id,usuario_id:w.id,tipo:"venta",monto:O,observacion:`Venta ID: ${S}`,fecha:new Date().toISOString()});if(ve)throw ve}catch(Y){console.error("Error registering cash movement:",Y)}},j=()=>{window.print(),C(),b(),e()},C=async()=>{const S=`https://example.com/pdf/${Date.now()}.pdf`;try{const{error:O}=await V.from("documentos_tributarios").update({pdf_url:S}).eq("tipo_dte",a.tipoDte).order("created_at",{ascending:!1}).limit(1);if(O)throw O}catch(O){console.error("Error saving PDF URL:",O)}},N=()=>{L.success("Documento enviado por correo"),b(),e()},k=m*(1-a.descuentoGlobal/100),T=a.montoRecibido>0?Math.max(0,a.montoRecibido-k):0;return u?i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:i.jsx("div",{className:"bg-white rounded-xl shadow-xl max-w-md w-full p-6",children:i.jsxs("div",{className:"text-center",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Boleta generada"}),i.jsx("p",{className:"text-gray-600 mb-6",children:"Enviar por correo electrónico (Opcional)"}),i.jsxs("div",{className:"flex mb-4",children:[i.jsx("input",{type:"email",placeholder:"Email",className:"flex-1 px-3 py-2 border border-gray-300 rounded-l-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),i.jsx("button",{onClick:N,className:"bg-blue-600 text-white px-4 py-2 rounded-r-lg hover:bg-blue-700",children:"Enviar"})]}),i.jsx("button",{onClick:j,className:"w-full bg-blue-600 text-white py-3 rounded-lg font-medium hover:bg-blue-700",children:"Imprimir"})]})})}):i.jsxs("div",{className:"h-screen bg-gray-50 flex flex-col",children:[i.jsx(Ge,{title:"Facturación",icon:i.jsx(ds,{className:"w-6 h-6 text-gray-600"})}),i.jsx("div",{className:"flex-1 p-6 overflow-y-auto",children:i.jsx("div",{className:"max-w-4xl mx-auto",children:i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Facturación"}),i.jsxs("div",{className:"space-y-4 mb-6",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs("label",{className:"flex items-center gap-2",children:[i.jsx("input",{type:"radio",name:"dte",value:"boleta",checked:a.tipoDte==="boleta",onChange:()=>l(S=>({...S,tipoDte:"boleta"})),className:"text-blue-600"}),i.jsx("span",{children:"Boleta electrónica"})]}),i.jsxs("label",{className:"flex items-center gap-2",children:[i.jsx("input",{type:"radio",name:"dte",value:"factura",checked:a.tipoDte==="factura",onChange:()=>l(S=>({...S,tipoDte:"factura"})),className:"text-blue-600"}),i.jsx("span",{children:"Factura electrónica"})]})]}),i.jsxs("div",{className:"flex items-center gap-6",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:`w-4 h-4 ${a.envioInmediato?"bg-blue-600":"border border-gray-300"} rounded-full flex items-center justify-center`,children:a.envioInmediato&&i.jsx("div",{className:"w-2 h-2 bg-white rounded-full"})}),i.jsx("span",{className:"text-sm",children:"Envío inmediato"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(ua,{className:`w-4 h-4 ${a.despacho?"text-blue-600":"text-gray-400"} cursor-pointer`,onClick:()=>l(S=>({...S,despacho:!S.despacho}))}),i.jsx("span",{className:`text-sm ${a.despacho?"text-blue-600":"text-gray-600"}`,children:"Despacho"})]})]}),i.jsxs("div",{className:"flex items-center gap-6",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("input",{type:"checkbox",checked:a.documentos,onChange:()=>l(S=>({...S,documentos:!S.documentos})),className:"rounded border-gray-300 text-blue-600"}),i.jsx("span",{className:"text-sm",children:"Documentos"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(vt,{className:`w-4 h-4 ${a.cupon?"text-blue-600":"text-gray-400"} cursor-pointer`,onClick:()=>l(S=>({...S,cupon:!S.cupon}))}),i.jsx("span",{className:`text-sm ${a.cupon?"text-blue-600":"text-gray-600"}`,children:"Agregar cupón"})]})]})]}),a.tipoDte==="factura"&&i.jsxs("div",{className:"mb-6",children:[i.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"Cliente"}),t?i.jsx("div",{className:"p-3 bg-blue-50 rounded-lg border border-blue-200",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-blue-900",children:t.razon_social}),i.jsxs("p",{className:"text-xs text-blue-700",children:["RUT: ",t.rut]})]}),i.jsx("button",{onClick:()=>r(null),className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"Cambiar"})]})}):i.jsx("button",{onClick:()=>s(!0),className:"w-full bg-blue-600 text-white py-3 rounded-lg font-medium hover:bg-blue-700 transition-colors",children:"Seleccionar cliente"})]}),i.jsxs("div",{className:"mb-6",children:[i.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"Descuento global"}),i.jsxs("div",{className:"flex items-center",children:[i.jsx("input",{type:"number",value:a.descuentoGlobal,onChange:S=>l(O=>({...O,descuentoGlobal:Math.min(100,Math.max(0,parseFloat(S.target.value)||0))})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg",min:"0",max:"100"}),i.jsx(Kf,{className:"ml-2 w-5 h-5 text-gray-400"})]})]}),i.jsxs("div",{className:"mb-6",children:[i.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"Métodos de pago"}),i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsxs("button",{onClick:()=>l(S=>({...S,metodoPago:"efectivo"})),className:`flex items-center gap-2 px-4 py-3 rounded-lg ${a.metodoPago==="efectivo"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"} transition-colors`,children:[i.jsx(us,{className:"w-5 h-5"}),i.jsx("span",{children:"Efectivo"})]}),i.jsxs("button",{onClick:()=>l(S=>({...S,metodoPago:"tarjeta"})),className:`flex items-center gap-2 px-4 py-3 rounded-lg ${a.metodoPago==="tarjeta"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"} transition-colors`,children:[i.jsx(Lx,{className:"w-5 h-5"}),i.jsx("span",{children:"Tarjeta"})]})]})]}),a.metodoPago==="efectivo"&&i.jsxs("div",{className:"mb-6",children:[i.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"Monto recibido"}),i.jsx("input",{type:"number",value:a.montoRecibido,onChange:S=>l(O=>({...O,montoRecibido:parseFloat(S.target.value)||0})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg",min:"0"})]})]}),i.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Resumen"}),i.jsx("div",{className:"space-y-3 mb-6",children:h.map(S=>i.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("h4",{className:"font-medium text-gray-900",children:S.nombre}),i.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600 mt-1",children:[i.jsxs("span",{children:["Cantidad: ",S.quantity]}),i.jsxs("span",{children:["Precio: ",y(S.precio)]})]})]}),i.jsx("span",{className:"font-medium",children:y(S.precio*S.quantity)})]},S.id))}),i.jsx("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-sm",children:"Subtotal"}),i.jsx("span",{className:"font-medium",children:y(m)})]}),a.descuentoGlobal>0&&i.jsxs("div",{className:"flex justify-between text-red-600",children:[i.jsxs("span",{className:"text-sm",children:["Descuento (",a.descuentoGlobal,"%)"]}),i.jsxs("span",{className:"font-medium",children:["-",y(m*(a.descuentoGlobal/100))]})]}),i.jsxs("div",{className:"flex justify-between font-semibold pt-2 border-t border-gray-200",children:[i.jsx("span",{className:"text-sm",children:"Total a pagar"}),i.jsx("span",{children:y(k)})]}),a.metodoPago==="efectivo"&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-sm",children:"Monto recibido"}),i.jsx("span",{children:y(a.montoRecibido)})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-sm",children:"Vuelto"}),i.jsx("span",{children:y(T)})]})]})]})}),i.jsx("button",{onClick:g,disabled:o||h.length===0||a.tipoDte==="factura"&&!t,className:"w-full bg-blue-600 text-white py-3 rounded-lg font-medium hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:o?"Procesando...":"Confirmar pago"})]})]})})}),i.jsx(Zf,{isOpen:n,onClose:()=>s(!1),onClientSelect:f})]})},dv=({isOpen:e,onClose:t,type:r})=>{const[n,s]=v.useState(""),[a,l]=v.useState(!1),{openCaja:o}=nt();if(Oe(),!e)return null;const c=async()=>{if(!n||parseFloat(n)<=0){L.error("Ingrese un monto válido");return}l(!0);try{await o(parseFloat(n))&&(t(),L.success("Caja aperturada correctamente"))}catch(d){console.error("Error opening cash register:",d),L.error("Error al abrir caja")}finally{l(!1)}},u=()=>new Date().toLocaleTimeString("es-CL",{hour:"2-digit",minute:"2-digit",hour12:!1});return i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:i.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-full w-full h-full flex flex-col",children:[i.jsxs("header",{className:"bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between",children:[i.jsx("div",{className:"flex items-center gap-4",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs("div",{className:"w-6 h-6 flex flex-col justify-center",children:[i.jsx("div",{className:"h-0.5 bg-gray-600 mb-1"}),i.jsx("div",{className:"h-0.5 bg-gray-600 mb-1"}),i.jsx("div",{className:"h-0.5 bg-gray-600"})]}),i.jsx("span",{className:"text-lg font-semibold text-gray-900",children:"POS"})]})}),i.jsx("div",{className:"flex items-center justify-center flex-1",children:i.jsxs("svg",{className:"w-32 h-8",viewBox:"0 0 195 42",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[i.jsx("rect",{width:"36",height:"42",rx:"6",fill:"#101014"}),i.jsxs("g",{clipPath:"url(#clip0_390_976)",children:[i.jsx("path",{d:"M10.2541 39.3614C10.2855 39.401 10.3153 39.4325 10.343 39.4555C10.2959 39.4733 10.2656 39.4401 10.2541 39.3614C9.33584 38.2016 7.08012 30.079 17.9678 25.5216C29.2276 20.8084 29.7214 15.7012 29.7214 15.7012C30.0984 19.9322 31.5349 22.1574 21.8036 26.5279C12.8047 30.5694 10.1129 38.3943 10.2541 39.3614Z",fill:"white"}),i.jsx("path",{d:"M6.96423 35.7833C6.99415 35.824 7.0228 35.8566 7.04962 35.8806C7.00185 35.8967 6.97283 35.8623 6.96423 35.7833C6.08904 34.5907 4.13226 26.3909 15.1795 22.2352C26.6044 17.9375 27.2848 12.8518 27.2848 12.8518C27.5066 17.0938 28.8607 19.3701 18.9759 23.3813C9.83501 27.0906 6.85856 34.8117 6.96423 35.7833Z",fill:"white"}),i.jsx("path",{d:"M12.1234 7.80196C10.0483 5.58823 9.71884 4.31743 10.655 2C11.1616 5.2098 15.278 7.65495 26.306 12.6369C26.1371 14.1994 25.8766 14.6897 25.2316 15.1439C25.2316 15.1439 14.1985 10.0157 12.1234 7.80196Z",fill:"white"}),i.jsx("path",{d:"M10.3022 11.0369C8.26209 8.79091 7.95257 7.51509 8.925 5.21264C9.36192 8.29458 12.9905 10.6612 22.9186 15.3855C23.5633 15.6923 23.7063 16.5525 23.1891 17.0446C22.5706 17.6328 21.6509 17.7731 20.8895 17.3874C17.596 15.7188 11.7523 12.6334 10.3022 11.0369Z",fill:"white"})]}),i.jsx("path",{d:"M58.848 33.07C57.376 33.07 56.1173 32.8887 55.072 32.526C54.0267 32.1633 53.152 31.694 52.448 31.118C51.7653 30.542 51.2213 29.934 50.816 29.294C50.4107 28.6327 50.1013 28.014 49.888 27.438C49.696 26.862 49.568 26.3927 49.504 26.03C49.44 25.6673 49.408 25.486 49.408 25.486H53.824C53.824 25.486 53.8453 25.614 53.888 25.87C53.952 26.126 54.08 26.4567 54.272 26.862C54.464 27.246 54.7413 27.63 55.104 28.014C55.488 28.398 55.9893 28.7287 56.608 29.006C57.248 29.262 58.0373 29.39 58.976 29.39C60.4267 29.39 61.5253 29.07 62.272 28.43C63.04 27.7687 63.424 26.958 63.424 25.998C63.424 25.1873 63.136 24.5473 62.56 24.078C61.984 23.5873 61.1307 23.2247 60 22.99L56.864 22.318C55.648 22.062 54.5067 21.678 53.44 21.166C52.3947 20.654 51.552 19.9607 50.912 19.086C50.272 18.2113 49.952 17.0913 49.952 15.726C49.952 14.2967 50.304 13.0593 51.008 12.014C51.7333 10.9687 52.7253 10.1687 53.984 9.614C55.2427 9.038 56.7147 8.75 58.4 8.75C60 8.75 61.3227 8.98466 62.368 9.454C63.4133 9.92333 64.2453 10.4993 64.864 11.182C65.504 11.8647 65.9733 12.5473 66.272 13.23C66.5707 13.9127 66.7627 14.4887 66.848 14.958C66.9547 15.4273 67.008 15.662 67.008 15.662H62.752C62.752 15.662 62.7093 15.502 62.624 15.182C62.5387 14.8407 62.3467 14.4567 62.048 14.03C61.7493 13.6033 61.3013 13.23 60.704 12.91C60.1067 12.5687 59.3067 12.398 58.304 12.398C56.8747 12.398 55.8293 12.718 55.168 13.358C54.528 13.998 54.208 14.6913 54.208 15.438C54.208 16.206 54.5067 16.8033 55.104 17.23C55.7013 17.6567 56.5013 17.9873 57.504 18.222L60.864 18.926C62.1227 19.2033 63.2747 19.6193 64.32 20.174C65.3653 20.7287 66.1973 21.4647 66.816 22.382C67.4347 23.278 67.744 24.398 67.744 25.742C67.744 27.1073 67.4027 28.3447 66.72 29.454C66.0373 30.5633 65.0347 31.4487 63.712 32.11C62.3893 32.75 60.768 33.07 58.848 33.07ZM77.432 33.07C75.576 33.07 73.9973 32.654 72.696 31.822C71.3947 30.99 70.4027 29.9127 69.72 28.59C69.0587 27.246 68.728 25.806 68.728 24.27C68.728 22.734 69.0587 21.3047 69.72 19.982C70.4027 18.638 71.3947 17.55 72.696 16.718C73.9973 15.886 75.576 15.47 77.432 15.47C79.3093 15.47 80.888 15.886 82.168 16.718C83.4693 17.55 84.4507 18.638 85.112 19.982C85.7947 21.3047 86.136 22.734 86.136 24.27C86.136 25.806 85.7947 27.246 85.112 28.59C84.4507 29.9127 83.4693 30.99 82.168 31.822C80.888 32.654 79.3093 33.07 77.432 33.07ZM77.432 29.518C78.392 29.518 79.192 29.2727 79.832 28.782C80.4933 28.2913 80.9947 27.6513 81.336 26.862C81.6773 26.0513 81.848 25.1873 81.848 24.27C81.848 23.3313 81.6773 22.4673 81.336 21.678C80.9947 20.8887 80.4933 20.2487 79.832 19.758C79.192 19.2673 78.392 19.022 77.432 19.022C76.4933 19.022 75.6933 19.2673 75.032 19.758C74.3707 20.2487 73.8693 20.8887 73.528 21.678C73.1867 22.4673 73.016 23.3313 73.016 24.27C73.016 25.1873 73.1867 26.0513 73.528 26.862C73.8693 27.6513 74.3707 28.2913 75.032 28.782C75.6933 29.2727 76.4933 29.518 77.432 29.518ZM88.054 32.75L88.086 8.43H92.31V32.75H88.054ZM99.793 32.75L93.489 15.79H97.809L102.065 27.886L106.257 15.79H110.577L104.241 32.75H99.793ZM118.832 33.07C117.382 33.07 116.123 32.8247 115.056 32.334C114.011 31.822 113.136 31.15 112.432 30.318C111.75 29.4647 111.238 28.5153 110.896 27.47C110.555 26.4247 110.384 25.358 110.384 24.27C110.384 23.182 110.544 22.126 110.864 21.102C111.206 20.0567 111.707 19.1073 112.368 18.254C113.051 17.4007 113.915 16.7287 114.96 16.238C116.006 15.726 117.243 15.47 118.672 15.47C120.208 15.47 121.563 15.8113 122.736 16.494C123.91 17.1767 124.827 18.1793 125.488 19.502C126.15 20.8033 126.48 22.4247 126.48 24.366V25.454H114.672C114.736 26.606 115.131 27.6087 115.856 28.462C116.582 29.294 117.574 29.71 118.832 29.71C119.558 29.71 120.155 29.5927 120.624 29.358C121.094 29.1233 121.456 28.8567 121.712 28.558C121.968 28.238 122.15 27.9713 122.256 27.758C122.363 27.5233 122.416 27.406 122.416 27.406H126.352C126.352 27.406 126.299 27.598 126.192 27.982C126.086 28.3447 125.883 28.814 125.584 29.39C125.307 29.9447 124.891 30.51 124.336 31.086C123.782 31.6407 123.056 32.11 122.16 32.494C121.264 32.878 120.155 33.07 118.832 33.07ZM114.672 22.67H122.384C122.32 21.3473 121.926 20.366 121.2 19.726C120.475 19.086 119.622 18.766 118.64 18.766C117.552 18.766 116.646 19.118 115.92 19.822C115.195 20.5047 114.779 21.454 114.672 22.67ZM128.078 32.75V15.79H132.334V18.222H132.526C132.696 17.9233 132.963 17.5607 133.326 17.134C133.688 16.686 134.19 16.302 134.83 15.982C135.47 15.6407 136.28 15.47 137.262 15.47C138.563 15.47 139.63 15.7687 140.462 16.366C141.315 16.942 141.944 17.71 142.35 18.67C142.776 19.63 142.99 20.6647 142.99 21.774V32.75H138.734V22.35C138.734 21.4327 138.478 20.6433 137.966 19.982C137.454 19.3207 136.686 18.99 135.662 18.99C134.872 18.99 134.232 19.1927 133.742 19.598C133.251 19.982 132.888 20.4833 132.654 21.102C132.44 21.7207 132.334 22.3713 132.334 23.054V32.75H128.078ZM152.092 33.07C150.833 33.07 149.734 32.8247 148.796 32.334C147.857 31.822 147.068 31.15 146.428 30.318C145.809 29.4647 145.34 28.5153 145.02 27.47C144.721 26.4247 144.572 25.358 144.572 24.27C144.572 23.182 144.721 22.1153 145.02 21.07C145.34 20.0247 145.809 19.086 146.428 18.254C147.068 17.4007 147.857 16.7287 148.796 16.238C149.734 15.726 150.833 15.47 152.092 15.47C153.18 15.47 154.076 15.6513 154.78 16.014C155.484 16.3553 156.038 16.7393 156.444 17.166C156.849 17.5713 157.126 17.902 157.276 18.158H157.468V8.43H161.724V32.75H157.468V30.382H157.276C157.126 30.638 156.849 30.9793 156.444 31.406C156.038 31.8327 155.484 32.2167 154.78 32.558C154.076 32.8993 153.18 33.07 152.092 33.07ZM153.212 29.582C154.172 29.582 154.972 29.326 155.612 28.814C156.252 28.2807 156.732 27.6087 157.052 26.798C157.372 25.9873 157.532 25.1447 157.532 24.27C157.532 23.3953 157.372 22.5527 157.052 21.742C156.732 20.9313 156.252 20.27 155.612 19.758C154.972 19.2247 154.172 18.958 153.212 18.958C152.252 18.958 151.441 19.2247 150.78 19.758C150.14 20.27 149.66 20.9313 149.34 21.742C149.02 22.5527 148.86 23.3953 148.86 24.27C148.86 25.1447 149.02 25.9873 149.34 26.798C149.66 27.6087 150.14 28.2807 150.78 28.814C151.441 29.326 152.252 29.582 153.212 29.582ZM172.338 33.07C170.482 33.07 168.904 32.654 167.602 31.822C166.301 30.99 165.309 29.9127 164.626 28.59C163.965 27.246 163.634 25.806 163.634 24.27C163.634 22.734 163.965 21.3047 164.626 19.982C165.309 18.638 166.301 17.55 167.602 16.718C168.904 15.886 170.482 15.47 172.338 15.47C174.216 15.47 175.794 15.886 177.074 16.718C178.376 17.55 179.357 18.638 180.018 19.982C180.701 21.3047 181.042 22.734 181.042 24.27C181.042 25.806 180.701 27.246 180.018 28.59C179.357 29.9127 178.376 30.99 177.074 31.822C175.794 32.654 174.216 33.07 172.338 33.07ZM172.338 29.518C173.298 29.518 174.098 29.2727 174.738 28.782C175.4 28.2913 175.901 27.6513 176.242 26.862C176.584 26.0513 176.754 25.1873 176.754 24.27C176.754 23.3313 176.584 22.4673 176.242 21.678C175.901 20.8887 175.4 20.2487 174.738 19.758C174.098 19.2673 173.298 19.022 172.338 19.022C171.4 19.022 170.6 19.2673 169.938 19.758C169.277 20.2487 168.776 20.8887 168.434 21.678C168.093 22.4673 167.922 23.3313 167.922 24.27C167.922 25.1873 168.093 26.0513 168.434 26.862C168.776 27.6513 169.277 28.2913 169.938 28.782C170.6 29.2727 171.4 29.518 172.338 29.518Z",fill:"#101014"}),i.jsx("defs",{children:i.jsx("clipPath",{id:"clip0_390_976",children:i.jsx("rect",{width:"24.5",height:"37.4886",fill:"white",transform:"translate(5.75 2.25574)"})})})]})}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("span",{className:"text-sm text-gray-600",children:u()}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center",children:i.jsx("span",{className:"text-white text-sm font-medium",children:"EA"})}),i.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Emilio Aguilera"})]})]})]}),i.jsx("div",{className:"flex-1 flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Efectivo inicial"}),i.jsx("p",{className:"text-gray-600 mb-6",children:"Ingresar efectivo"}),i.jsx("div",{className:"mb-6",children:i.jsx("input",{type:"number",value:n,onChange:d=>s(d.target.value),placeholder:"0",className:"w-full px-4 py-3 text-center text-lg border-2 border-blue-200 rounded-full focus:outline-none focus:border-blue-500 transition-colors",autoFocus:!0,min:"0",step:"1"})}),i.jsx("button",{onClick:c,disabled:!n||a,className:"w-full bg-blue-500 hover:bg-blue-600 text-white py-3 rounded-lg font-medium disabled:opacity-50 disabled:cursor-not-allowed transition-colors h-12",children:a?"Procesando...":"Aperturar"})]})})]})})},hv=({isOpen:e})=>{const{closeSidebar:t,handleSidebarAction:r}=ca(),n=[{id:"movimiento",label:"Movimiento",icon:Ai},{id:"reimprimir",label:"Reimprimir",icon:Ql},{id:"reportes",label:"Reportes",icon:Bf},{id:"despacho",label:"Despacho",icon:ua},{id:"devolucion",label:"Devolución",icon:Qf},{id:"promociones",label:"Promociones",icon:Di},{id:"cierre",label:"Cierre de caja",icon:us},{id:"arqueo",label:"Arqueo de caja",icon:us},{id:"historial-movimientos",label:"Historial movimientos",icon:Wf},{id:"categorias",label:"Gestión categorías",icon:Di},{id:"codigos-barras",label:"Códigos de barras",icon:li},{id:"historial-cliente",label:"Historial cliente",icon:Du},{id:"facturacion",label:"Facturación",icon:Du}];return i.jsxs(i.Fragment,{children:[e&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40",onClick:t}),i.jsxs("div",{className:`  
  fixed top-0 left-0 h-full w-80 bg-white shadow-xl z-50  
  transform transition-transform duration-300 ease-in-out  
  ${e?"translate-x-0":"-translate-x-full"}  
  overflow-y-auto  
`,children:[i.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[i.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Módulos"}),i.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600",children:i.jsx(xe,{className:"w-6 h-6"})})]}),i.jsx("nav",{className:"p-6",children:i.jsx("div",{className:"space-y-2",children:n.map(s=>i.jsxs("button",{onClick:()=>r(s.id),className:"w-full flex items-center gap-3 px-4 py-3 text-left text-gray-700 hover:bg-gray-100 rounded-lg transition-colors cursor-pointer",children:[i.jsx(s.icon,{className:"w-5 h-5"}),i.jsx("span",{className:"font-medium",children:s.label})]},s.id))})})]})]})},fv=({children:e})=>{const[t,r]=v.useState(!1),[n,s]=v.useState("open"),{cajaAbierta:a,checkCajaStatus:l}=nt(),{isOpen:o}=ca();v.useEffect(()=>{l()},[]),v.useEffect(()=>{a||(r(!0),s("open"))},[a]);const c=()=>{a&&r(!1)};return i.jsxs(i.Fragment,{children:[i.jsx(hv,{isOpen:o}),e,i.jsx(dv,{isOpen:t,onClose:c,type:n})]})},mv=()=>{const{user:e,loading:t}=Oe();return t?i.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-blue-600 border-t-transparent"})}):e?i.jsx(Px,{children:i.jsx(Tx,{children:i.jsx(fv,{children:i.jsxs(v1,{children:[i.jsx(be,{path:"/",element:i.jsx(Zx,{})}),i.jsx(be,{path:"/movimiento",element:i.jsx(Yx,{onClose:()=>{}})}),i.jsx(be,{path:"/reimprimir",element:i.jsx(Xx,{onClose:()=>{}})}),i.jsx(be,{path:"/reportes",element:i.jsx(ev,{onClose:()=>{}})}),i.jsx(be,{path:"/despacho",element:i.jsx(tv,{onClose:()=>{}})}),i.jsx(be,{path:"/cierre",element:i.jsx(rv,{onClose:()=>{}})}),i.jsx(be,{path:"/devolucion",element:i.jsx(nv,{onClose:()=>{}})}),i.jsx(be,{path:"/arqueo",element:i.jsx(sv,{onClose:()=>{}})}),i.jsx(be,{path:"/historial-movimientos",element:i.jsx(iv,{onClose:()=>{}})}),i.jsx(be,{path:"/categorias",element:i.jsx(av,{onClose:()=>{}})}),i.jsx(be,{path:"/codigos-barras",element:i.jsx(lv,{onClose:()=>{}})}),i.jsx(be,{path:"/historial-cliente",element:i.jsx(ov,{onClose:()=>{}})}),i.jsx(be,{path:"/promociones",element:i.jsx(cv,{onClose:()=>{}})}),i.jsx(be,{path:"/facturacion",element:i.jsx(uv,{onClose:()=>{}})}),i.jsx(be,{path:"*",element:i.jsx(g1,{to:"/",replace:!0})})]})})})}):i.jsx("div",{className:"min-h-screen bg-gray-50",children:i.jsx(Bx,{})})};function pv(){return i.jsx(b1,{children:i.jsx(hg,{children:i.jsx(mv,{})})})}Qh(document.getElementById("root")).render(i.jsxs(v.StrictMode,{children:[i.jsx(pv,{}),i.jsx(dg,{position:"top-right"})]}));
